!function(t){function e(e){for(var i,s,a=e[0],c=e[1],h=e[2],l=0,f=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(u&&u(e);f.length;)f.shift()();return o.push.apply(o,h||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],i=!0,a=1;a<r.length;a++){var c=r[a];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var i={},n={0:0},o=[];function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=i,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var u=c;o.push([212,1]),r()}([function(t,e,r){"use strict";r.d(e,"b",function(){return s}),r.d(e,"c",function(){return a}),r.d(e,"d",function(){return c}),r.d(e,"e",function(){return h}),r.d(e,"f",function(){return u}),r.d(e,"g",function(){return l}),r.d(e,"h",function(){return f}),r.d(e,"i",function(){return d}),r.d(e,"j",function(){return p}),r.d(e,"k",function(){return g}),r.d(e,"l",function(){return y}),r.d(e,"m",function(){return _}),r.d(e,"n",function(){return b}),r.d(e,"o",function(){return m}),r.d(e,"p",function(){return v}),r.d(e,"q",function(){return E}),r.d(e,"r",function(){return w}),r.d(e,"s",function(){return S}),r.d(e,"t",function(){return C}),r.d(e,"u",function(){return x}),r.d(e,"v",function(){return R}),r.d(e,"w",function(){return I}),r.d(e,"x",function(){return A}),r.d(e,"y",function(){return M}),r.d(e,"z",function(){return j}),r.d(e,"A",function(){return L}),r.d(e,"B",function(){return P}),r.d(e,"C",function(){return N}),r.d(e,"D",function(){return k}),r.d(e,"E",function(){return D}),r.d(e,"F",function(){return F}),r.d(e,"H",function(){return G}),r.d(e,"I",function(){return B}),r.d(e,"J",function(){return U}),r.d(e,"G",function(){return z}),r.d(e,"a",function(){return X});var i=r(13),n=r(85),o=r(36);function s(t){for(var e=p(),r=0,i=t.length;r<i;++r)w(e,t[r]);return e}function a(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function c(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function h(t,e,r){var i,n;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(n=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*n}function u(t,e){return f(t,e[0],e[1])}function l(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function d(t,e){var r=t[0],i=t[1],n=t[2],s=t[3],a=e[0],c=e[1],h=o.a.UNKNOWN;return a<r?h|=o.a.LEFT:a>n&&(h|=o.a.RIGHT),c<i?h|=o.a.BELOW:c>s&&(h|=o.a.ABOVE),h===o.a.UNKNOWN&&(h=o.a.INTERSECTING),h}function p(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,r,i,n){return n?(n[0]=t,n[1]=e,n[2]=r,n[3]=i,n):[t,e,r,i]}function y(t){return g(1/0,1/0,-1/0,-1/0,t)}function _(t,e){var r=t[0],i=t[1];return g(r,i,r,i,e)}function b(t,e){return O(y(e),t)}function m(t,e,r,i,n){return S(y(n),t,e,r,i)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function w(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function O(t,e){for(var r=0,i=e.length;r<i;++r)w(t,e[r]);return t}function S(t,e,r,i,n){for(;r<i;r+=n)T(t,e[r],e[r+1]);return t}function T(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function C(t,e,r){var i;return(i=e.call(r,R(t)))?i:(i=e.call(r,I(t)))?i:(i=e.call(r,k(t)))?i:(i=e.call(r,N(t)))||!1}function x(t){var e=0;return G(t)||(e=D(t)*L(t)),e}function R(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function A(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function M(t,e){var r;return e===n.a.BOTTOM_LEFT?r=R(t):e===n.a.BOTTOM_RIGHT?r=I(t):e===n.a.TOP_LEFT?r=N(t):e===n.a.TOP_RIGHT?r=k(t):Object(i.a)(!1,13),r}function j(t,e,r,i,n){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(r),c=Math.sin(r),h=o*a,u=o*c,l=s*a,f=s*c,d=t[0],p=t[1],y=d-h+f,_=d-h-f,b=d+h-f,m=d+h+f,v=p-u-l,E=p-u+l,w=p+u+l,O=p+u-l;return g(Math.min(y,_,b,m),Math.min(v,E,w,O),Math.max(y,_,b,m),Math.max(v,E,w,O),n)}function L(t){return t[3]-t[1]}function P(t,e,r){var i=r||[1/0,1/0,-1/0,-1/0];return F(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):y(i),i}function N(t){return[t[0],t[3]]}function k(t){return[t[2],t[3]]}function D(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function G(t){return t[2]<t[0]||t[3]<t[1]}function B(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function U(t,e){var r=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=i,t[3]+=i}function z(t,e,r){var i=!1,n=d(t,e),s=d(t,r);if(n===o.a.INTERSECTING||s===o.a.INTERSECTING)i=!0;else{var a,c,h=t[0],u=t[1],l=t[2],f=t[3],p=e[0],g=e[1],y=r[0],_=r[1],b=(_-g)/(y-p);s&o.a.ABOVE&&!(n&o.a.ABOVE)&&(i=(a=y-(_-f)/b)>=h&&a<=l),i||!(s&o.a.RIGHT)||n&o.a.RIGHT||(i=(c=_-(y-l)*b)>=u&&c<=f),i||!(s&o.a.BELOW)||n&o.a.BELOW||(i=(a=y-(_-u)/b)>=h&&a<=l),i||!(s&o.a.LEFT)||n&o.a.LEFT||(i=(c=_-(y-h)*b)>=u&&c<=f)}return i}function X(t,e,r){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,r){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],r)}},function(t,e,r){"use strict";r.d(e,"a",function(){return c}),r.d(e,"b",function(){return h}),r.d(e,"c",function(){return u}),r.d(e,"e",function(){return l}),r.d(e,"d",function(){return f});var i=r(11);function n(t,e,r,i){for(var n,o=0,s=t.length;o<s;++o)if((n=t[o]).listener===e&&n.bindTo===r)return i&&(n.deleteIndex=o),n}function o(t,e){var r=s(t);return r?r[e]:void 0}function s(t,e){var r=t.ol_lm;return!r&&e&&(r=t.ol_lm={}),r}function a(t,e){var r=o(t,e);if(r){for(var n=0,a=r.length;n<a;++n)t.removeEventListener(e,r[n].boundListener),Object(i.b)(r[n]);r.length=0;var c=s(t);c&&(delete c[e],0===Object.keys(c).length&&function(t){delete t.ol_lm}(t))}}function c(t,e,r,i,o){var a=s(t,!0),c=a[e];c||(c=a[e]=[]);var h=n(c,r,i,!1);return h?o||(h.callOnce=!1):(h={bindTo:i,callOnce:!!o,listener:r,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var r=t.listener,i=t.bindTo||t.target;return t.callOnce&&l(t),r.call(i,e)};return t.boundListener=e,e}(h)),c.push(h)),h}function h(t,e,r,i){return c(t,e,r,i,!0)}function u(t,e,r,i){var s=o(t,e);if(s){var a=n(s,r,i,!0);a&&l(a)}}function l(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var r="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==r&&e.splice(r,1),0===e.length&&a(t.target,t.type)}Object(i.b)(t)}}function f(t){var e=s(t);if(e)for(var r in e)a(t,r)}},function(t,e,r){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,r){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(e,"b",function(){return i}),r.d(e,"c",function(){return o}),r.d(e,"a",function(){return s});var n=0;function o(t){return t.ol_uid||(t.ol_uid=String(++n))}var s="5.3.3"},function(t,e,r){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"g",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"e",function(){return a}),r.d(e,"h",function(){return c}),r.d(e,"i",function(){return h}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return l});r(13);function i(t,e,r){return Math.min(Math.max(t,e),r)}var n="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,r,i,n,o){var a=n-r,c=o-i;if(0!==a||0!==c){var h=((t-r)*a+(e-i)*c)/(a*a+c*c);h>1?(r=n,i=o):h>0&&(r+=a*h,i+=c*h)}return s(t,e,r,i)}function s(t,e,r,i){var n=r-t,o=i-e;return n*n+o*o}function a(t){for(var e=t.length,r=0;r<e;r++){for(var i=r,n=Math.abs(t[r][r]),o=r+1;o<e;o++){var s=Math.abs(t[o][r]);s>n&&(n=s,i=o)}if(0===n)return null;var a=t[i];t[i]=t[r],t[r]=a;for(var c=r+1;c<e;c++)for(var h=-t[c][r]/t[r][r],u=r;u<e+1;u++)r==u?t[c][u]=0:t[c][u]+=h*t[r][u]}for(var l=new Array(e),f=e-1;f>=0;f--){l[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--)t[d][e]-=t[d][f]*l[f]}return l}function c(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function u(t,e){var r=t%e;return r*e<0?r+e:r}function l(t,e,r){return t+r*(e-t)}},function(t,e,r){"use strict";r.d(e,"c",function(){return c}),r.d(e,"b",function(){return h}),r.d(e,"d",function(){return u}),r.d(e,"e",function(){return l}),r.d(e,"f",function(){return f}),r.d(e,"g",function(){return d}),r.d(e,"i",function(){return p}),r.d(e,"k",function(){return g}),r.d(e,"l",function(){return y}),r.d(e,"m",function(){return _}),r.d(e,"j",function(){return b}),r.d(e,"h",function(){return m}),r.d(e,"o",function(){return v}),r.d(e,"a",function(){return S}),r.d(e,"p",function(){return R}),r.d(e,"q",function(){return I}),r.d(e,"s",function(){return A}),r.d(e,"r",function(){return M}),r.d(e,"n",function(){return j});var i=r(20),n=r(15),o=r(11),s=r(130),a=r(9),c="10px sans-serif",h=[0,0,0,1],u="round",l=[],f=0,d="round",p=10,g=[0,0,0,1],y="center",_="middle",b=[0,0,0,0],m=1,v=new s.a,E={},w=null,O={},S=function(){var t,e,r=60,n=E,s="32px ",a=["monospace","serif"],c=a.length,h="wmytzilWMYTZIL@#/&?$%10";function u(t){for(var r=T(),i=100;i<=700;i+=300){for(var n=i+" ",o=!0,u=0;u<c;++u){var l=a[u];if(r.font=n+s+l,e=r.measureText(h).width,t!=l){r.font=n+s+t+","+l;var f=r.measureText(h).width;o=o&&f!=e}}if(o)return!0}return!1}function l(){var e=!0;for(var i in n)n[i]<r&&(u(i)?(n[i]=r,Object(o.b)(O),w=null,v.clear()):(++n[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(i.g)(e);if(o)for(var s=0,a=o.length;s<a;++s){var c=o[s];c in n||(n[c]=r,u(c)||(n[c]=0,void 0===t&&(t=setInterval(l,32))))}}}();function T(){return w||(w=Object(n.a)(1,1)),w}var C,x,R=(x=O,function(t){var e=x[t];return null==e&&(C||((C=document.createElement("span")).textContent="M",C.style.margin=C.style.padding="0 !important",C.style.position="absolute !important",C.style.left="-99999px !important"),C.style.font=t,document.body.appendChild(C),e=x[t]=C.offsetHeight,document.body.removeChild(C)),e});function I(t,e){var r=T();return t!=r.font&&(r.font=t),r.measureText(e).width}function A(t,e,r,i){0!==e&&(t.translate(r,i),t.rotate(e),t.translate(-r,-i))}var M=Object(a.c)();function j(t,e,r,i,n,o,s,a,c,h,u){var l;1!=r&&(l=t.globalAlpha,t.globalAlpha=l*r),e&&t.setTransform.apply(t,e),t.drawImage(i,n,o,s,a,c,h,s*u,a*u),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,M)}},function(t,e,r){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,r){"use strict";r.r(e);var i=r(106),n=r(0),o=r(5),s=r(28),a=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};a.prototype.canWrapX=function(){return this.canWrapX_},a.prototype.getCode=function(){return this.code_},a.prototype.getExtent=function(){return this.extent_},a.prototype.getUnits=function(){return this.units_},a.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||s.a[this.units_]},a.prototype.getWorldExtent=function(){return this.worldExtent_},a.prototype.getAxisOrientation=function(){return this.axisOrientation_},a.prototype.isGlobal=function(){return this.global_},a.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},a.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},a.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},a.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},a.prototype.setWorldExtent=function(t){this.worldExtent_=t},a.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},a.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var c=a,h=6378137,u=Math.PI*h,l=[-u,-u,u,u],f=[-180,-85,180,85],d=function(t){function e(e){t.call(this,{code:e,units:s.b.METERS,extent:l,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/h)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c),p=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(t,e,r){var i=t.length,n=r>1?r:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(i));for(var s=u,a=0;a<i;a+=n){o[a]=s*t[a]/180;var c=h*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));c>s?c=s:c<-s&&(c=-s),o[a+1]=c}return o}function y(t,e,r){var i=t.length,n=r>1?r:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(i));for(var s=0;s<i;s+=n)o[s]=180*t[s]/u,o[s+1]=360*Math.atan(Math.exp(t[s+1]/h))/Math.PI-90;return o}var _=[-180,-90,180,90],b=6378137*Math.PI/180,m=function(t){function e(e,r){t.call(this,{code:e,units:s.b.DEGREES,extent:_,axisOrientation:r,global:!0,metersPerUnit:b,worldExtent:_})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c),v=[new m("CRS:84"),new m("EPSG:4326","neu"),new m("urn:ogc:def:crs:EPSG::4326","neu"),new m("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new m("urn:ogc:def:crs:OGC:1.3:CRS84"),new m("urn:ogc:def:crs:OGC:2:84"),new m("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new m("urn:x-ogc:def:crs:EPSG:4326","neu")],E={};r(11);var w={};function O(t,e,r){var i=t.getCode(),n=e.getCode();i in w||(w[i]={}),w[i][n]=r}function S(t,e,r){var i;if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];i=e}else i=t.slice();return i}function T(t,e,r){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function C(t){!function(t,e){E[t]=e}(t.getCode(),t),O(t,t,S)}function x(t){t.forEach(C)}function R(t){return"string"==typeof t?E[t]||null:t||null}function I(t,e,r,n){var o,a=(t=R(t)).getPointResolutionFunc();if(a)o=a(e,r);else if(t.getUnits()==s.b.DEGREES&&!n||n==s.b.DEGREES)o=e;else{var c=G(t,R("EPSG:4326")),h=[r[0]-e/2,r[1],r[0]+e/2,r[1],r[0],r[1]-e/2,r[0],r[1]+e/2];h=c(h,h,2),o=(Object(i.a)(h.slice(0,2),h.slice(2,4))+Object(i.a)(h.slice(4,6),h.slice(6,8)))/2;var u=n?s.a[n]:t.getMetersPerUnit();void 0!==u&&(o/=u)}return o}function A(t){x(t),t.forEach(function(e){t.forEach(function(t){e!==t&&O(e,t,S)})})}function M(t,e,r,i){t.forEach(function(t){e.forEach(function(e){O(t,e,r),O(e,t,i)})})}function j(){E={},w={}}function L(t,e){return t?"string"==typeof t?R(t):t:R(e)}function P(t){return function(e,r,i){for(var n=e.length,o=void 0!==i?i:2,s=void 0!==r?r:new Array(n),a=0;a<n;a+=o){var c=t([e[a],e[a+1]]);s[a]=c[0],s[a+1]=c[1];for(var h=o-1;h>=2;--h)s[a+h]=e[a+h]}return s}}function N(t,e,r,i){var n=R(t),o=R(e);O(n,o,P(r)),O(o,n,P(i))}function k(t,e){return U(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function D(t,e){var r=U(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=r[0];return(i<-180||i>180)&&(r[0]=Object(o.d)(i+180,360)-180),r}function F(t,e){if(t===e)return!0;var r=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?r:G(t,e)===S&&r}function G(t,e){var r=function(t,e){var r;return t in w&&e in w[t]&&(r=w[t][e]),r}(t.getCode(),e.getCode());return r||(r=T),r}function B(t,e){return G(R(t),R(e))}function U(t,e,r){return B(e,r)(t,void 0,t.length)}function z(t,e,r){var i=B(e,r);return Object(n.a)(t,i)}function X(t,e,r){return G(e,r)(t)}function H(){A(p),A(v),M(v,p,g,y)}r.d(e,"cloneTransform",function(){return S}),r.d(e,"identityTransform",function(){return T}),r.d(e,"addProjection",function(){return C}),r.d(e,"addProjections",function(){return x}),r.d(e,"get",function(){return R}),r.d(e,"getPointResolution",function(){return I}),r.d(e,"addEquivalentProjections",function(){return A}),r.d(e,"addEquivalentTransforms",function(){return M}),r.d(e,"clearAllProjections",function(){return j}),r.d(e,"createProjection",function(){return L}),r.d(e,"createTransformFromCoordinateTransform",function(){return P}),r.d(e,"addCoordinateTransforms",function(){return N}),r.d(e,"fromLonLat",function(){return k}),r.d(e,"toLonLat",function(){return D}),r.d(e,"equivalent",function(){return F}),r.d(e,"getTransformFromProjections",function(){return G}),r.d(e,"getTransform",function(){return B}),r.d(e,"transform",function(){return U}),r.d(e,"transformExtent",function(){return z}),r.d(e,"transformWithProjections",function(){return X}),r.d(e,"addCommon",function(){return H}),r.d(e,"METERS_PER_UNIT",function(){return s.a}),r.d(e,"Projection",function(){return c}),H()},function(t,e,r){"use strict";r.d(e,"c",function(){return o}),r.d(e,"e",function(){return s}),r.d(e,"g",function(){return h}),r.d(e,"a",function(){return u}),r.d(e,"f",function(){return l}),r.d(e,"h",function(){return f}),r.d(e,"b",function(){return d}),r.d(e,"d",function(){return p});var i=r(13),n=new Array(6);function o(){return[1,0,0,1,0,0]}function s(t){return c(t,1,0,0,1,0,0)}function a(t,e){var r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],c=e[0],h=e[1],u=e[2],l=e[3],f=e[4],d=e[5];return t[0]=r*c+n*h,t[1]=i*c+o*h,t[2]=r*u+n*l,t[3]=i*u+o*l,t[4]=r*f+n*d+s,t[5]=i*f+o*d+a,t}function c(t,e,r,i,n,o,s){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=o,t[5]=s,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){var r=e[0],i=e[1];return e[0]=t[0]*r+t[2]*i+t[4],e[1]=t[1]*r+t[3]*i+t[5],e}function l(t,e,r){return a(t,c(n,e,0,0,r,0,0))}function f(t,e,r){return a(t,c(n,1,0,0,1,e,r))}function d(t,e,r,i,n,o,s,a){var c=Math.sin(o),h=Math.cos(o);return t[0]=i*h,t[1]=n*c,t[2]=-i*c,t[3]=n*h,t[4]=s*i*h-a*i*c+e,t[5]=s*n*c+a*n*h+r,t}function p(t){var e,r=(e=t)[0]*e[3]-e[1]*e[2];Object(i.a)(0!==r,32);var n=t[0],o=t[1],s=t[2],a=t[3],c=t[4],h=t[5];return t[0]=a/r,t[1]=-o/r,t[2]=-s/r,t[3]=n/r,t[4]=(s*h-a*c)/r,t[5]=-(n*h-o*c)/r,t}},function(t,e,r){"use strict";function i(t,e,r){for(var i,o,s=r||n,a=0,c=t.length,h=!1;a<c;)(o=+s(t[i=a+(c-a>>1)],e))<0?a=i+1:(c=i,h=!o);return h?a:~a}function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function s(t,e,r){var i,n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;if(r>0){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(r<0){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function a(t,e,r){for(;e<r;){var i=t[e];t[e]=t[r],t[r]=i,++e,--r}}function c(t,e){for(var r=Array.isArray(e)?e:[e],i=r.length,n=0;n<i;n++)t[t.length]=r[n]}function h(t,e){var r=t.indexOf(e),i=r>-1;return i&&t.splice(r,1),i}function u(t,e){var r=t.length;if(r!==e.length)return!1;for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function l(t,e){var r,i=t.length,n=Array(t.length);for(r=0;r<i;r++)n[r]={index:r,value:t[r]};for(n.sort(function(t,r){return e(t.value,r.value)||t.index-r.index}),r=0;r<t.length;r++)t[r]=n[r].value}function f(t,e,r){var i=e||n;return t.every(function(e,n){if(0===n)return!0;var o=i(t[n-1],e);return!(o>0||r&&0===o)})}r.d(e,"a",function(){return i}),r.d(e,"g",function(){return n}),r.d(e,"d",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"i",function(){return a}),r.d(e,"c",function(){return c}),r.d(e,"h",function(){return h}),r.d(e,"b",function(){return u}),r.d(e,"j",function(){return l}),r.d(e,"e",function(){return f})},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s});var i="function"==typeof Object.assign?Object.assign:function(t,e){var r=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var s=r[n];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i};function n(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var r in t)e.push(t[r]);return e}function s(t){var e;for(e in t)return!1;return!e}},function(t,e,r){"use strict";var i=r(5);function n(t,e,r){var i=void 0!==r?t.toFixed(r):""+t,n=i.indexOf(".");return(n=-1===n?i.length:n)>e?i:new Array(1+e-n).join("0")+i}function o(t,e){return t[0]+=e[0],t[1]+=e[1],t}function s(t,e){var r=e.getRadius(),i=e.getCenter(),n=i[0],o=i[1],s=t[0]-n,a=t[1]-o;0===s&&0===a&&(s=1);var c=Math.sqrt(s*s+a*a);return[n+r*s/c,o+r*a/c]}function a(t,e){var r,i,n=t[0],o=t[1],s=e[0],a=e[1],c=s[0],h=s[1],u=a[0],l=a[1],f=u-c,d=l-h,p=0===f&&0===d?0:(f*(n-c)+d*(o-h))/(f*f+d*d||0);return p<=0?(r=c,i=h):p>=1?(r=u,i=l):(r=c+p*f,i=h+p*d),[r,i]}function c(t,e,r){var o=Object(i.d)(e+180,360)-180,s=Math.abs(3600*o),a=r||0,c=Math.pow(10,a),h=Math.floor(s/3600),u=Math.floor((s-3600*h)/60),l=s-3600*h-60*u;return(l=Math.ceil(l*c)/c)>=60&&(l=0,u+=1),u>=60&&(u=0,h+=1),h+"° "+n(u,2)+"′ "+n(l,2,a)+"″"+(0==o?"":" "+t.charAt(o<0?1:0))}function h(t,e){for(var r=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){r=!1;break}return r}function u(t,e){var r=Math.cos(e),i=Math.sin(e),n=t[0]*r-t[1]*i,o=t[1]*r+t[0]*i;return t[0]=n,t[1]=o,t}function l(t,e){return t[0]*=e,t[1]*=e,t}function f(t,e){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function d(t,e){return Math.sqrt(f(t,e))}function p(t,e){return f(t,a(t,e))}r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s}),r.d(e,"c",function(){return a}),r.d(e,"d",function(){return c}),r.d(e,"f",function(){return h}),r.d(e,"g",function(){return u}),r.d(e,"h",function(){return l}),r.d(e,"i",function(){return f}),r.d(e,"e",function(){return d}),r.d(e,"j",function(){return p})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(124);function n(t,e){if(!t)throw new i.a(e)}},function(t,e,r){"use strict";function i(){return!0}function n(){return!1}function o(){}r.d(e,"b",function(){return i}),r.d(e,"a",function(){return n}),r.d(e,"c",function(){return o})},function(t,e,r){"use strict";function i(t,e){var r=document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function n(t){var e=t.offsetWidth,r=getComputedStyle(t);return e+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(t){var e=t.offsetHeight,r=getComputedStyle(t);return e+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function s(t,e){var r=e.parentNode;r&&r.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function c(t){for(;t.lastChild;)t.removeChild(t.lastChild)}r.d(e,"a",function(){return i}),r.d(e,"c",function(){return n}),r.d(e,"b",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"e",function(){return a}),r.d(e,"d",function(){return c})},function(t,e,r){"use strict";var i=r(4);e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";r.d(e,"b",function(){return l});var i=r(3),n=r(61),o=r(122),s=r(22),a=r(11),c=function(t){function e(e,r,i){t.call(this,e),this.key=r,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),h=function(t){function e(e){t.call(this),Object(i.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var r;r=l(t),this.dispatchEvent(new c(r,t,e)),r=n.a.PROPERTYCHANGE,this.dispatchEvent(new c(r,t,e))},e.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},e.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},e}(o.a),u={};function l(t){return u.hasOwnProperty(t)?u[t]:u[t]="change:"+t}e.a=h},function(t,e,r){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e,r){"use strict";r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s}),r.d(e,"e",function(){return a}),r.d(e,"f",function(){return c}),r.d(e,"b",function(){return h}),r.d(e,"a",function(){return u}),r.d(e,"g",function(){return l});var i,n,o="ol-hidden",s="ol-selectable",a="ol-unselectable",c="ol-unsupported",h="ol-control",u="ol-collapsed",l=(n={},function(t){if(i||(i=document.createElement("div").style),!(t in n)){i.font=t;var e=i.fontFamily;if(i.font="",!e)return null;n[t]=e.split(/,\s?/)}return n[t]})},function(t,e,r){var i=r(24),n=i.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,r){"use strict";r.d(e,"b",function(){return n});var i=function(t){this.propagationStopped,this.type=t,this.target=null};function n(t){t.stopPropagation()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=i},function(t,e,r){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=r(227),n=r(228),o=r(164);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return h(this,t,e,r)}function h(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,r,i):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,r),n=(t=a(t,i)).write(e,r);n!==i&&(t=t.slice(0,n));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|d(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(u(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=a(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function y(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function _(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,i,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,i,n){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var u=-1;for(o=r;o<a;o++)if(h(t,o)===h(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(h(t,o+f)!==h(e,f)){l=!1;break}if(l)return o}return-1}function m(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function v(t,e,r,i){return X(U(e,t.length-r),t,r,i)}function E(t,e,r,i){return X(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function w(t,e,r,i){return E(t,e,r,i)}function O(t,e,r,i){return X(z(e),t,r,i)}function S(t,e,r,i){return X(function(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function T(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,c,h=t[n],u=null,l=h>239?4:h>223?3:h>191?2:1;if(n+l<=r)switch(l){case 1:h<128&&(u=h);break;case 2:128==(192&(o=t[n+1]))&&(c=(31&h)<<6|63&o)>127&&(u=c);break;case 3:o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&(c=(15&h)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,l=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=l}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=x));return r}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return h(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,i){return u(e),e<=0?a(t,e):void 0!==r?"string"==typeof i?a(t,e).fill(r,i):a(t,e).fill(r):a(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=c.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var s=t[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,i,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(i,n),u=t.slice(e,r),l=0;l<a;++l)if(h[l]!==u[l]){o=h[l],s=u[l];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function R(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function I(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function A(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=B(t[o]);return n}function M(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,i,n,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function P(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function N(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function k(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,i,o){return o||k(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function F(t,e,r,i,o){return o||k(t,0,r,8),n.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;r=new c(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=c.isBuffer(t)?t:U(new c(t,i).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,r(65))},function(t,e,r){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,r){"use strict";r.d(e,"c",function(){return n}),r.d(e,"g",function(){return o}),r.d(e,"i",function(){return s}),r.d(e,"d",function(){return a}),r.d(e,"b",function(){return c}),r.d(e,"a",function(){return h}),r.d(e,"h",function(){return u}),r.d(e,"f",function(){return l}),r.d(e,"e",function(){return f});var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",n=-1!==i.indexOf("firefox"),o=-1!==i.indexOf("safari")&&-1==i.indexOf("chrom"),s=-1!==i.indexOf("webkit")&&-1==i.indexOf("edge"),a=-1!==i.indexOf("macintosh"),c=window.devicePixelRatio||1,h=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),u=(navigator,"ontouchstart"in window),l="PointerEvent"in window,f=!!navigator.msPointerEnabled},function(t,e,r){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},n={};n[i.DEGREES]=2*Math.PI*6370997/360,n[i.FEET]=.3048,n[i.METERS]=1,n[i.USFEET]=1200/3937,e.b=i},function(t,e,r){"use strict";var i=r(124),n=r(27),o=r(17),s=r(22),a="length",c=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),h=function(t){function e(e,r){t.call(this);var i=r||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)t(e[r],r,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(n.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)if(e[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(n.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(n.a.REMOVE,i)),this.dispatchEvent(new c(n.a.ADD,e))}else{for(var o=r;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===t&&r!==e)throw new i.a(58)},e}(o.a);e.a=h},function(t,e,r){"use strict";function i(t){return Math.pow(t,3)}function n(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s})},function(t,e,r){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,r){"use strict";e.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,r){(function(t){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(271).Buffer}catch(t){}function a(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function c(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=a(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=a(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,h=0,u=r;u<a;u+=i)h=c(t,u,u+i,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var l=1;for(h=c(t,u,t.length,e),u=0;u<s;u++)l*=e;this.imuln(l),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var u=c>>>26,l=67108863&c,f=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=f;d++){var p=h-d|0;u+=(s=(n=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&s}r.words[h]=0|l,c=0|u}return 0!==c?r.words[h]=0|c:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!==(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=u[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?g+r:h[f-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,h=new t(o),u=this.clone();if(c){for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-n;a++)h[a]=0;for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),h[o-a-1]=s}return h},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,c=r.words,h=0,u=0|s[0],l=8191&u,f=u>>>13,d=0|s[1],p=8191&d,g=d>>>13,y=0|s[2],_=8191&y,b=y>>>13,m=0|s[3],v=8191&m,E=m>>>13,w=0|s[4],O=8191&w,S=w>>>13,T=0|s[5],C=8191&T,x=T>>>13,R=0|s[6],I=8191&R,A=R>>>13,M=0|s[7],j=8191&M,L=M>>>13,P=0|s[8],N=8191&P,k=P>>>13,D=0|s[9],F=8191&D,G=D>>>13,B=0|a[0],U=8191&B,z=B>>>13,X=0|a[1],H=8191&X,Y=X>>>13,K=0|a[2],q=8191&K,W=K>>>13,V=0|a[3],Z=8191&V,J=V>>>13,$=0|a[4],Q=8191&$,tt=$>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ct=8191&at,ht=at>>>13,ut=0|a[8],lt=8191&ut,ft=ut>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(h+(i=Math.imul(l,U))|0)+((8191&(n=(n=Math.imul(l,z))+Math.imul(f,U)|0))<<13)|0;h=((o=Math.imul(f,z))+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(p,U),n=(n=Math.imul(p,z))+Math.imul(g,U)|0,o=Math.imul(g,z);var _t=(h+(i=i+Math.imul(l,H)|0)|0)+((8191&(n=(n=n+Math.imul(l,Y)|0)+Math.imul(f,H)|0))<<13)|0;h=((o=o+Math.imul(f,Y)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(_,U),n=(n=Math.imul(_,z))+Math.imul(b,U)|0,o=Math.imul(b,z),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,Y)|0;var bt=(h+(i=i+Math.imul(l,q)|0)|0)+((8191&(n=(n=n+Math.imul(l,W)|0)+Math.imul(f,q)|0))<<13)|0;h=((o=o+Math.imul(f,W)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(v,U),n=(n=Math.imul(v,z))+Math.imul(E,U)|0,o=Math.imul(E,z),i=i+Math.imul(_,H)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,q)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,W)|0;var mt=(h+(i=i+Math.imul(l,Z)|0)|0)+((8191&(n=(n=n+Math.imul(l,J)|0)+Math.imul(f,Z)|0))<<13)|0;h=((o=o+Math.imul(f,J)|0)+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(O,U),n=(n=Math.imul(O,z))+Math.imul(S,U)|0,o=Math.imul(S,z),i=i+Math.imul(v,H)|0,n=(n=n+Math.imul(v,Y)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,Y)|0,i=i+Math.imul(_,q)|0,n=(n=n+Math.imul(_,W)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0;var vt=(h+(i=i+Math.imul(l,Q)|0)|0)+((8191&(n=(n=n+Math.imul(l,tt)|0)+Math.imul(f,Q)|0))<<13)|0;h=((o=o+Math.imul(f,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(C,U),n=(n=Math.imul(C,z))+Math.imul(x,U)|0,o=Math.imul(x,z),i=i+Math.imul(O,H)|0,n=(n=n+Math.imul(O,Y)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,Y)|0,i=i+Math.imul(v,q)|0,n=(n=n+Math.imul(v,W)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,W)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,J)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var Et=(h+(i=i+Math.imul(l,rt)|0)|0)+((8191&(n=(n=n+Math.imul(l,it)|0)+Math.imul(f,rt)|0))<<13)|0;h=((o=o+Math.imul(f,it)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(I,U),n=(n=Math.imul(I,z))+Math.imul(A,U)|0,o=Math.imul(A,z),i=i+Math.imul(C,H)|0,n=(n=n+Math.imul(C,Y)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(O,q)|0,n=(n=n+Math.imul(O,W)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,W)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,it)|0;var wt=(h+(i=i+Math.imul(l,ot)|0)|0)+((8191&(n=(n=n+Math.imul(l,st)|0)+Math.imul(f,ot)|0))<<13)|0;h=((o=o+Math.imul(f,st)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(j,U),n=(n=Math.imul(j,z))+Math.imul(L,U)|0,o=Math.imul(L,z),i=i+Math.imul(I,H)|0,n=(n=n+Math.imul(I,Y)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,q)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(O,Z)|0,n=(n=n+Math.imul(O,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,it)|0,i=i+Math.imul(p,ot)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Ot=(h+(i=i+Math.imul(l,ct)|0)|0)+((8191&(n=(n=n+Math.imul(l,ht)|0)+Math.imul(f,ct)|0))<<13)|0;h=((o=o+Math.imul(f,ht)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(N,U),n=(n=Math.imul(N,z))+Math.imul(k,U)|0,o=Math.imul(k,z),i=i+Math.imul(j,H)|0,n=(n=n+Math.imul(j,Y)|0)+Math.imul(L,H)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(I,q)|0,n=(n=n+Math.imul(I,W)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,Z)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,i=i+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ht)|0;var St=(h+(i=i+Math.imul(l,lt)|0)|0)+((8191&(n=(n=n+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;h=((o=o+Math.imul(f,ft)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(F,U),n=(n=Math.imul(F,z))+Math.imul(G,U)|0,o=Math.imul(G,z),i=i+Math.imul(N,H)|0,n=(n=n+Math.imul(N,Y)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(j,q)|0,n=(n=n+Math.imul(j,W)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(I,Z)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,J)|0,i=i+Math.imul(C,Q)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(O,rt)|0,n=(n=n+Math.imul(O,it)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,i=i+Math.imul(_,ct)|0,n=(n=n+Math.imul(_,ht)|0)+Math.imul(b,ct)|0,o=o+Math.imul(b,ht)|0,i=i+Math.imul(p,lt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,ft)|0;var Tt=(h+(i=i+Math.imul(l,pt)|0)|0)+((8191&(n=(n=n+Math.imul(l,gt)|0)+Math.imul(f,pt)|0))<<13)|0;h=((o=o+Math.imul(f,gt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(F,H),n=(n=Math.imul(F,Y))+Math.imul(G,H)|0,o=Math.imul(G,Y),i=i+Math.imul(N,q)|0,n=(n=n+Math.imul(N,W)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(j,Z)|0,n=(n=n+Math.imul(j,J)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,J)|0,i=i+Math.imul(I,Q)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(O,ot)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,i=i+Math.imul(v,ct)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ht)|0,i=i+Math.imul(_,lt)|0,n=(n=n+Math.imul(_,ft)|0)+Math.imul(b,lt)|0,o=o+Math.imul(b,ft)|0;var Ct=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;h=((o=o+Math.imul(g,gt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(F,q),n=(n=Math.imul(F,W))+Math.imul(G,q)|0,o=Math.imul(G,W),i=i+Math.imul(N,Z)|0,n=(n=n+Math.imul(N,J)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,J)|0,i=i+Math.imul(j,Q)|0,n=(n=n+Math.imul(j,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,it)|0,i=i+Math.imul(C,ot)|0,n=(n=n+Math.imul(C,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,i=i+Math.imul(O,ct)|0,n=(n=n+Math.imul(O,ht)|0)+Math.imul(S,ct)|0,o=o+Math.imul(S,ht)|0,i=i+Math.imul(v,lt)|0,n=(n=n+Math.imul(v,ft)|0)+Math.imul(E,lt)|0,o=o+Math.imul(E,ft)|0;var xt=(h+(i=i+Math.imul(_,pt)|0)|0)+((8191&(n=(n=n+Math.imul(_,gt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((o=o+Math.imul(b,gt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(F,Z),n=(n=Math.imul(F,J))+Math.imul(G,Z)|0,o=Math.imul(G,J),i=i+Math.imul(N,Q)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(j,rt)|0,n=(n=n+Math.imul(j,it)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,it)|0,i=i+Math.imul(I,ot)|0,n=(n=n+Math.imul(I,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,ht)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,ht)|0,i=i+Math.imul(O,lt)|0,n=(n=n+Math.imul(O,ft)|0)+Math.imul(S,lt)|0,o=o+Math.imul(S,ft)|0;var Rt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,gt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((o=o+Math.imul(E,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(F,Q),n=(n=Math.imul(F,tt))+Math.imul(G,Q)|0,o=Math.imul(G,tt),i=i+Math.imul(N,rt)|0,n=(n=n+Math.imul(N,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(j,ot)|0,n=(n=n+Math.imul(j,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,i=i+Math.imul(I,ct)|0,n=(n=n+Math.imul(I,ht)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ht)|0,i=i+Math.imul(C,lt)|0,n=(n=n+Math.imul(C,ft)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ft)|0;var It=(h+(i=i+Math.imul(O,pt)|0)|0)+((8191&(n=(n=n+Math.imul(O,gt)|0)+Math.imul(S,pt)|0))<<13)|0;h=((o=o+Math.imul(S,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(F,rt),n=(n=Math.imul(F,it))+Math.imul(G,rt)|0,o=Math.imul(G,it),i=i+Math.imul(N,ot)|0,n=(n=n+Math.imul(N,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(j,ct)|0,n=(n=n+Math.imul(j,ht)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ht)|0,i=i+Math.imul(I,lt)|0,n=(n=n+Math.imul(I,ft)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ft)|0;var At=(h+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,gt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((o=o+Math.imul(x,gt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(F,ot),n=(n=Math.imul(F,st))+Math.imul(G,ot)|0,o=Math.imul(G,st),i=i+Math.imul(N,ct)|0,n=(n=n+Math.imul(N,ht)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ht)|0,i=i+Math.imul(j,lt)|0,n=(n=n+Math.imul(j,ft)|0)+Math.imul(L,lt)|0,o=o+Math.imul(L,ft)|0;var Mt=(h+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,gt)|0)+Math.imul(A,pt)|0))<<13)|0;h=((o=o+Math.imul(A,gt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(F,ct),n=(n=Math.imul(F,ht))+Math.imul(G,ct)|0,o=Math.imul(G,ht),i=i+Math.imul(N,lt)|0,n=(n=n+Math.imul(N,ft)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ft)|0;var jt=(h+(i=i+Math.imul(j,pt)|0)|0)+((8191&(n=(n=n+Math.imul(j,gt)|0)+Math.imul(L,pt)|0))<<13)|0;h=((o=o+Math.imul(L,gt)|0)+(n>>>13)|0)+(jt>>>26)|0,jt&=67108863,i=Math.imul(F,lt),n=(n=Math.imul(F,ft))+Math.imul(G,lt)|0,o=Math.imul(G,ft);var Lt=(h+(i=i+Math.imul(N,pt)|0)|0)+((8191&(n=(n=n+Math.imul(N,gt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((o=o+Math.imul(k,gt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Pt=(h+(i=Math.imul(F,pt))|0)+((8191&(n=(n=Math.imul(F,gt))+Math.imul(G,pt)|0))<<13)|0;return h=((o=Math.imul(G,gt))+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,c[0]=yt,c[1]=_t,c[2]=bt,c[3]=mt,c[4]=vt,c[5]=Et,c[6]=wt,c[7]=Ot,c[8]=St,c[9]=Tt,c[10]=Ct,c[11]=xt,c[12]=Rt,c[13]=It,c[14]=At,c[15]=Mt,c[16]=jt,c[17]=Lt,c[18]=Pt,0!==h&&(c[19]=h,r.length++),r};function p(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(d=f),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=c;h++){var u=o-h,l=(0|t.words[u])*(0|e.words[h]),f=67108863&l;a=67108863&(f=f+a|0),n+=(s=(s=s+(l/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):p(this,t,e)},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},g.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},g.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var l=c,f=h,d=0;d<s;d++){var p=r[u+d],g=i[u+d],y=r[u+d+s],_=i[u+d+s],b=l*y-f*_;_=l*_+f*y,y=b,r[u+d]=p+y,i[u+d]=g+_,r[u+d+s]=p-y,i[u+d+s]=g-_,d!==a&&(b=c*l-h*f,f=c*f+h*l,l=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},g.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,r,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=r.words;f.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,a,c,i,n),this.transform(h,o,u,l,i,n);for(var d=0;d<i;d++){var p=a[d]*u[d]-c[d]*l[d];c[d]=a[d]*l[d]+c[d]*u[d],a[d]=p}return this.conjugate(a,c,i),this.transform(a,c,f,o,i,n),this.conjugate(f,o,i),this.normalize13b(f,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new o(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var h=0;h<s;h++)c.words[h]=this.words[h];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var u=0;for(h=this.length-1;h>=0&&(0!==u||h>=n);h--){var l=0|this.words[h];this.words[h]=u<<26-o|l>>>o,u=l&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;return!(this.length<=r)&&!!(this.words[r]&n)},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var n,o,s=t.length+r;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+r])+a;var c=(0|t.words[n])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),n=t,s=0|n.words[n.length-1];0!==(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var l=c-1;l>=0;l--){var f=67108864*(0|i.words[n.length+l])+(0|i.words[n.length+l-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(n,f,l);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(n,1,l),i.isZero()||(i.negative^=1);a&&(a.words[l]=f)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var u=r.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(u),s.isub(l)),n.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(l)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),s.isub(c)):(r.isub(e),a.isub(n),c.isub(s))}return{a:a,b:c,gcd:r.iushln(h)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,u=1;0==(e.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(e.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,f=1;0==(r.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(n=0===e.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(t),n},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new w(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function O(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},n(b,_),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(m,_),n(v,_),n(E,_),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new m;else if("p192"===t)e=new v;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},w.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},w.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},w.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},w.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},w.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},w.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},w.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),h=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,h).cmp(c);)u.redIAdd(c);for(var l=this.pow(u,n),f=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=s;0!==d.cmp(a);){for(var g=d,y=0;0!==g.cmp(a);y++)g=g.redSqr();i(y<p);var _=this.pow(l,new o(1).iushln(p-y-1));f=f.redMul(_),l=_.redSqr(),d=d.redMul(l),p=y}return f},w.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],u=c-1;u>=0;u--){var l=h>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},w.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},w.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new O(t)},n(O,w),O.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},O.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},O.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(186)(t))},function(t,e,r){"use strict";var i=r(14),n=r(74),o=r(17),s=r(15),a=r(1),c=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:i.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.e)(this.element);for(var e=0,r=this.listenerKeys.length;e<r;++e)Object(a.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(a.a)(t,n.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.a);e.a=c},function(t,e,r){"use strict";var i=r(10),n=r(0),o=r(23),s=r(2),a=r(37),c=r(91),h=r(45),u=r(42),l=r(43),f=r(60),d=function(t){function e(e,r){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?this.setCoordinates(e,r):this.setFlatCoordinates(r,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.getArea=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,o.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a),p=r(41),g=(r(106),r(62)),y=r(125),_=r(77),b=r(81),m=r(5);r.d(e,"c",function(){return E}),r.d(e,"b",function(){return w}),r.d(e,"d",function(){return O});var v=function(t){function e(e,r,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==r&&i?(this.setFlatCoordinates(r,e),this.ends_=i):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.containsXY=function(t,e){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(c.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(b.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(l.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(n.x)(this.getExtent());this.flatInteriorPoint_=Object(y.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new p.a(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new d(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.ends_,i=[],n=0,o=0,s=r.length;o<s;++o){var a=r[o],c=new d(e.slice(n,a),t);i.push(c),n=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(b.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(b.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new e(r,o.a.XY,i)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(u.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(a.a);e.a=v;function E(t){var e=t[0],r=t[1],i=t[2],n=t[3],s=[e,r,e,n,i,n,i,r,e,r];return new v(s,o.a.XY,[s.length])}function w(t,e,r){for(var i=e||32,n=t.getStride(),o=t.getLayout(),s=t.getCenter(),a=n*(i+1),c=new Array(a),h=0;h<a;h+=n){c[h]=0,c[h+1]=0;for(var u=2;u<n;u++)c[h+u]=s[u]}var l=[c.length],f=new v(c,o,l);return O(f,s,t.getRadius(),r),f}function O(t,e,r,i){for(var n=t.getFlatCoordinates(),o=t.getStride(),s=n.length/o-1,a=i||0,c=0;c<=s;++c){var h=c*o,u=a+2*Object(m.d)(c,s)*Math.PI/s;n[h]=e[0]+r*Math.cos(u),n[h+1]=e[1]+r*Math.sin(u)}t.changed()}},function(t,e,r){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,r){"use strict";r.d(e,"b",function(){return l});var i=r(3),n=r(0),o=r(126),s=r(23),a=r(46),c=r(11),h=function(t){function e(){t.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(n.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(c.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var r=this.getSimplifiedGeometryInternal(t);return r.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=r,r):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,r){var i;if(t)i=u(t);else{for(var n=0;n<r;++n){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(a.a)(r,0,r.length,i,t,e,r),this.changed()}},e.prototype.scale=function(t,e,r){var i=e;void 0===i&&(i=t);var o=r;o||(o=Object(n.x)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var c=this.getStride();Object(a.b)(s,0,s.length,c,t,i,o,s),this.changed()}},e.prototype.translate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(a.d)(r,0,r.length,i,t,e,r),this.changed()}},e}(o.a);function u(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}function l(t,e,r){var i=t.getFlatCoordinates();if(i){var n=t.getStride();return Object(a.c)(i,0,i.length,n,e,r)}return null}e.a=h},function(t,e,r){"use strict";e.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";e.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,r){"use strict";(function(t,i){const n=r(229),o=r(233),s=r(314),a=r(315),c=r(316),h=r(201),u={needsProtoHack:new Set([h.set,h.map,h.weakSet,h.weakMap])};e.deepEqual=a,e.clone=function(r,i={},n=null){if("object"!=typeof r||null===r)return r;const o=n||new Map,s=o.get(r);if(s)return s;const a=h.getInternalProto(r);let c;switch(a){case h.buffer:return t.from(r);case h.date:return new Date(r.getTime());case h.regex:return new RegExp(r);case h.array:c=[];break;default:if(!1!==i.prototype){const t=Object.getPrototypeOf(r);if(t&&t.isImmutable)return r;u.needsProtoHack.has(a)?(c=new t.constructor,t!==a&&Object.setPrototypeOf(c,t)):c=Object.create(t)}else c=u.needsProtoHack.has(a)?new a.constructor:{}}if(o.set(r,c),a===h.set)for(const t of r)c.add(e.clone(t,i,o));else if(a===h.map)for(const[t,n]of r)c.set(t,e.clone(n,i,o));const l=u.keys(r,i);for(let t=0;t<l.length;++t){const n=l[t];if(a===h.array&&"length"===n)continue;const s=Object.getOwnPropertyDescriptor(r,n);s&&(s.get||s.set)?Object.defineProperty(c,n,s):Object.defineProperty(c,n,{enumerable:!s||s.enumerable,writable:!0,configurable:!0,value:e.clone(r[n],i,o)})}return a===h.array&&(c.length=r.length),c},u.keys=function(t,e={}){return e.symbols?Reflect.ownKeys(t):Object.getOwnPropertyNames(t)},e.merge=function(r,i,n=!0,o=!0){if(e.assert(r&&"object"==typeof r,"Invalid target value: must be an object"),e.assert(null==i||"object"==typeof i,"Invalid source value: must be null, undefined, or an object"),!i)return r;if(Array.isArray(i)){e.assert(Array.isArray(r),"Cannot merge array onto an object"),o||(r.length=0);for(let t=0;t<i.length;++t)r.push(e.clone(i[t]));return r}const s=u.keys(i);for(let a=0;a<s.length;++a){const c=s[a];if("__proto__"===c||!Object.prototype.propertyIsEnumerable.call(i,c))continue;const h=i[c];h&&"object"==typeof h?!r[c]||"object"!=typeof r[c]||Array.isArray(r[c])!==Array.isArray(h)||h instanceof Date||t.isBuffer(h)||h instanceof RegExp?r[c]=e.clone(h):e.merge(r[c],h,n,o):null!=h?r[c]=h:n&&(r[c]=h)}return r},e.applyToDefaults=function(t,r,i=!1){if(e.assert(t&&"object"==typeof t,"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;const n=e.clone(t);return!0===r?n:e.merge(n,r,i,!1)},e.cloneWithShallow=function(t,r,i){if(!t||"object"!=typeof t)return t;const n=u.store(t,r),o=e.clone(t,i);return u.restore(o,t,n),o},u.store=function(t,r){const i=new Map;for(let n=0;n<r.length;++n){const o=r[n],s=e.reach(t,o);"object"!=typeof s&&"function"!=typeof s||(i.set(o,s),u.reachSet(t,o,void 0))}return i},u.restore=function(t,e,r){for(const[i,n]of r)u.reachSet(t,i,n),u.reachSet(e,i,n)},u.reachSet=function(t,e,r){const i=Array.isArray(e)?e:e.split(".");let n=t;for(let t=0;t<i.length;++t){const e=i[t];t+1===i.length&&(n[e]=r),n=n[e]}},e.applyToDefaultsWithShallow=function(t,r,i){if(e.assert(t&&"object"==typeof t,"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),e.assert(i&&Array.isArray(i),"Invalid keys"),!r)return null;const n=e.cloneWithShallow(t,i);if(!0===r)return n;const o=u.store(r,i);return e.merge(n,r,!1,!1),u.restore(n,r,o),n},e.intersect=function(t,e,r=!1){if(!t||!e)return r?null:[];const i=[],n=Array.isArray(t)?new Set(t):t,o=new Set;for(const t of e)if(u.has(n,t)&&!o.has(t)){if(r)return t;i.push(t),o.add(t)}return r?null:i},u.has=function(t,e){return"function"==typeof t.has?t.has(e):void 0!==t[e]},e.contain=function(t,r,i={}){let n,o,s=null;if("object"!=typeof t||"object"!=typeof r||Array.isArray(t)||Array.isArray(r))r=[].concat(r);else{s=r;const t=Object.getOwnPropertySymbols(r).filter(Object.prototype.propertyIsEnumerable.bind(r));r=[...Object.keys(r),...t]}if(e.assert("string"==typeof t||"object"==typeof t,"Reference must be string or an object"),e.assert(r.length,"Values array cannot be empty"),i.deep){n=e.deepEqual;const t=void 0!==i.only,r=void 0!==i.part;o={prototype:t?i.only:!!r&&!i.part,part:t?!i.only:!!r&&i.part}}else n=(t,e)=>t===e;let a=!1;const c=new Array(r.length);for(let t=0;t<c.length;++t)c[t]=0;if("string"==typeof t){let i="(";for(let t=0;t<r.length;++t){const n=r[t];e.assert("string"==typeof n,"Cannot compare string reference to non-string value"),i+=(t?"|":"")+e.escapeRegex(n)}const n=new RegExp(i+")","g");a=!!t.replace(n,(t,e)=>{const i=r.indexOf(e);return++c[i],""})}else if(Array.isArray(t)){const e=!(!i.only||!i.once);if(e&&t.length!==r.length)return!1;for(let i=0;i<t.length;++i){let s=!1;for(let a=0;a<r.length&&!1===s;++a)e&&0!==c[a]||(s=n(r[a],t[i],o)&&a);!1!==s?++c[s]:a=!0}}else{const e=u.keys(t,i);for(let i=0;i<e.length;++i){const h=e[i],u=r.indexOf(h);if(-1!==u){if(s&&!n(s[h],t[h],o))return!1;++c[u]}else a=!0}}if(i.only&&(a||!i.once))return!a;let h=!1;for(let t=0;t<c.length;++t)if(h=h||!!c[t],i.once&&c[t]>1||!i.part&&!c[t])return!1;return h},e.flatten=function(t,r){const i=r||[];for(let r=0;r<t.length;++r)Array.isArray(t[r])?e.flatten(t[r],i):i.push(t[r]);return i},e.reach=function(t,r,i){if(!1===r||null==r)return t;"string"==typeof(i=i||{})&&(i={separator:i});const n=Array.isArray(r);e.assert(!n||!i.separator,"Separator option no valid for array-based chain");const o=n?r:r.split(i.separator||".");let s=t;for(let t=0;t<o.length;++t){let n=o[t];if(Array.isArray(s)){const t=Number(n);Number.isInteger(t)&&t<0&&(n=s.length+t)}if(!s||"object"!=typeof s&&"function"!=typeof s||!(n in s)||"object"!=typeof s&&!1===i.functions){e.assert(!i.strict||t+1===o.length,"Missing segment",n,"in reach path ",r),e.assert("object"==typeof s||!0===i.functions||"function"!=typeof s,"Invalid segment",n,"in reach path ",r),s=i.default;break}s=s[n]}return s},e.reachTemplate=function(t,r,i){return r.replace(/{([^}]+)}/g,(r,n)=>{const o=e.reach(t,n,i);return null==o?"":o})},e.assert=function(t,...r){if(t)return;if(1===r.length&&r[0]instanceof Error)throw r[0];const i=r.filter(t=>""!==t).map(t=>"string"==typeof t?t:t instanceof Error?t.message:e.stringify(t));throw new n.AssertionError({message:i.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:e.assert})},e.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=e.Bench.now()}elapsed(){return e.Bench.now()-this.ts}static now(){const t=i.hrtime();return 1e3*t[0]+t[1]/1e6}},e.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},e.escapeHtml=function(t){return c.escapeHtml(t)},e.escapeJson=function(t){return c.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;let e=!1;const r=function(...r){e||(e=!0,t(...r))};return r._hoekOnce=!0,r},e.ignore=function(){},e.uniqueFilename=function(t,e){e=e?"."!==e[0]?"."+e:e:"",t=s.resolve(t);const r=[Date.now(),i.pid,o.randomBytes(8).toString("hex")].join("-")+e;return s.join(t,r)},e.stringify=function(...t){try{return JSON.stringify.apply(null,t)}catch(t){return"[Cannot display object: "+t.message+"]"}},e.wait=function(t){return new Promise(e=>setTimeout(e,t))},e.block=function(){return new Promise(e.ignore)}}).call(this,r(24).Buffer,r(56))},function(t,e,r){"use strict";var i=r(0),n=r(2),o=r(37),s=r(42),a=r(5),c=function(t){function e(e,r){t.call(this),this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){var n=this.flatCoordinates,o=Object(a.f)(t,e,n[0],n[1]);if(o<i){for(var s=this.stride,c=0;c<s;++c)r[c]=n[c];return r.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return n.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=c},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=0,o=r.length;n<o;++n)t[e++]=r[n];return e}function n(t,e,r,i){for(var n=0,o=r.length;n<o;++n)for(var s=r[n],a=0;a<i;++a)t[e++]=s[a];return e}function o(t,e,r,i,o){for(var s=o||[],a=0,c=0,h=r.length;c<h;++c){var u=n(t,e,r[c],i);s[a++]=u,e=u}return s.length=a,s}function s(t,e,r,i,n){for(var s=n||[],a=0,c=0,h=r.length;c<h;++c){var u=o(t,e,r[c],i,s[a]);s[a++]=u,e=u[u.length-1]}return s.length=a,s}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s})},function(t,e,r){"use strict";function i(t,e,r,i,n){for(var o=void 0!==n?n:[],s=0,a=e;a<r;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function n(t,e,r,n,o){for(var s=void 0!==o?o:[],a=0,c=0,h=r.length;c<h;++c){var u=r[c];s[a++]=i(t,e,u,n,s[a]),e=u}return s.length=a,s}function o(t,e,r,i,o){for(var s=void 0!==o?o:[],a=0,c=0,h=r.length;c<h;++c){var u=r[c];s[a++]=n(t,e,u,i,s[a]),e=u[u.length-1]}return s.length=a,s}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o})},function(t,e,r){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,r){"use strict";r.d(e,"e",function(){return o}),r.d(e,"a",function(){return s}),r.d(e,"f",function(){return a}),r.d(e,"d",function(){return c}),r.d(e,"b",function(){return h}),r.d(e,"c",function(){return u});var i=r(5);function n(t,e,r,n,o,s,a){var c,h=t[e],u=t[e+1],l=t[r]-h,f=t[r+1]-u;if(0===l&&0===f)c=e;else{var d=((o-h)*l+(s-u)*f)/(l*l+f*f);if(d>1)c=r;else{if(d>0){for(var p=0;p<n;++p)a[p]=Object(i.c)(t[e+p],t[r+p],d);return void(a.length=n)}c=e}}for(var g=0;g<n;++g)a[g]=t[c+g];a.length=n}function o(t,e,r,n,o){var s=t[e],a=t[e+1];for(e+=n;e<r;e+=n){var c=t[e],h=t[e+1],u=Object(i.f)(s,a,c,h);u>o&&(o=u),s=c,a=h}return o}function s(t,e,r,i,n){for(var s=0,a=r.length;s<a;++s){var c=r[s];n=o(t,e,c,i,n),e=c}return n}function a(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o){var c=r[o];n=s(t,e,c,i,n),e=c[c.length-1]}return n}function c(t,e,r,o,s,a,c,h,u,l,f){if(e==r)return l;var d,p;if(0===s){if((p=Object(i.f)(c,h,t[e],t[e+1]))<l){for(d=0;d<o;++d)u[d]=t[e+d];return u.length=o,p}return l}for(var g=f||[NaN,NaN],y=e+o;y<r;)if(n(t,y-o,y,o,c,h,g),(p=Object(i.f)(c,h,g[0],g[1]))<l){for(l=p,d=0;d<o;++d)u[d]=g[d];u.length=o,y+=o}else y+=o*Math.max((Math.sqrt(p)-Math.sqrt(l))/s|0,1);if(a&&(n(t,r-o,e,o,c,h,g),(p=Object(i.f)(c,h,g[0],g[1]))<l)){for(l=p,d=0;d<o;++d)u[d]=g[d];u.length=o}return l}function h(t,e,r,i,n,o,s,a,h,u,l){for(var f=l||[NaN,NaN],d=0,p=r.length;d<p;++d){var g=r[d];u=c(t,e,g,i,n,o,s,a,h,u,f),e=g}return u}function u(t,e,r,i,n,o,s,a,c,u,l){for(var f=l||[NaN,NaN],d=0,p=r.length;d<p;++d){var g=r[d];u=h(t,e,g,i,n,o,s,a,c,u,f),e=g[g.length-1]}return u}},function(t,e,r){"use strict";function i(t,e,r,i,n,o){for(var s=o||[],a=0,c=e;c<r;c+=i){var h=t[c],u=t[c+1];s[a++]=n[0]*h+n[2]*u+n[4],s[a++]=n[1]*h+n[3]*u+n[5]}return o&&s.length!=a&&(s.length=a),s}function n(t,e,r,i,n,o,s){for(var a=s||[],c=Math.cos(n),h=Math.sin(n),u=o[0],l=o[1],f=0,d=e;d<r;d+=i){var p=t[d]-u,g=t[d+1]-l;a[f++]=u+p*c-g*h,a[f++]=l+p*h+g*c;for(var y=d+2;y<d+i;++y)a[f++]=t[y]}return s&&a.length!=f&&(a.length=f),a}function o(t,e,r,i,n,o,s,a){for(var c=a||[],h=s[0],u=s[1],l=0,f=e;f<r;f+=i){var d=t[f]-h,p=t[f+1]-u;c[l++]=h+n*d,c[l++]=u+o*p;for(var g=f+2;g<f+i;++g)c[l++]=t[g]}return a&&c.length!=l&&(c.length=l),c}function s(t,e,r,i,n,o,s){for(var a=s||[],c=0,h=e;h<r;h+=i){a[c++]=t[h]+n,a[c++]=t[h+1]+o;for(var u=h+2;u<h+i;++u)a[c++]=t[u]}return s&&a.length!=c&&(a.length=c),a}r.d(e,"c",function(){return i}),r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o}),r.d(e,"d",function(){return s})},function(t,e,r){"use strict";var i=r(90),n=r(1),o=r(14),s=r(22),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var r=this.listeners_[t];r||(r=this.listeners_[t]=[]),-1===r.indexOf(e)&&r.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,r=e.type;e.target=this;var i,n=this.listeners_[r];if(n){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var a=0,c=n.length;a<c;++a)if(!1===n[a].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var h=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];h--;)this.removeEventListener(r,o.c);delete this.dispatching_[r]}return i}},e.prototype.disposeInternal=function(){Object(n.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var r=this.listeners_[t];if(r){var i=r.indexOf(e);t in this.pendingRemovals_?(r[i]=o.c,++this.pendingRemovals_[t]):(r.splice(i,1),0===r.length&&delete this.listeners_[t])}},e}(i.a);e.a=a},function(t,e,r){"use strict";r.d(e,"d",function(){return u}),r.d(e,"a",function(){return f}),r.d(e,"b",function(){return d});var i=r(13),n=r(2),o=r(103),s=r(70),a=r(71);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function u(t){var e;if("function"==typeof t)e=t;else{var r;if(Array.isArray(t))r=t;else Object(i.a)("function"==typeof t.getZIndex,41),r=[t];e=function(){return r}}return e}h.prototype.clone=function(){var t=this.getGeometry();return t&&"object"===c(t)&&(t=t.clone()),new h({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},h.prototype.getRenderer=function(){return this.renderer_},h.prototype.setRenderer=function(t){this.renderer_=t},h.prototype.getGeometry=function(){return this.geometry_},h.prototype.getGeometryFunction=function(){return this.geometryFunction_},h.prototype.getFill=function(){return this.fill_},h.prototype.setFill=function(t){this.fill_=t},h.prototype.getImage=function(){return this.image_},h.prototype.setImage=function(t){this.image_=t},h.prototype.getStroke=function(){return this.stroke_},h.prototype.setStroke=function(t){this.stroke_=t},h.prototype.getText=function(){return this.text_},h.prototype.setText=function(t){this.text_=t},h.prototype.getZIndex=function(){return this.zIndex_},h.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=p,this.geometry_=t},h.prototype.setZIndex=function(t){this.zIndex_=t};var l=null;function f(t,e){if(!l){var r=new s.a({color:"rgba(255,255,255,0.4)"}),i=new a.a({color:"#3399CC",width:1.25});l=[new h({image:new o.a({fill:r,stroke:i,radius:5}),fill:r,stroke:i})]}return l}function d(){var t={},e=[255,255,255,1],r=[0,153,255,1];return t[n.a.POLYGON]=[new h({fill:new s.a({color:[255,255,255,.5]})})],t[n.a.MULTI_POLYGON]=t[n.a.POLYGON],t[n.a.LINE_STRING]=[new h({stroke:new a.a({color:e,width:5})}),new h({stroke:new a.a({color:r,width:3})})],t[n.a.MULTI_LINE_STRING]=t[n.a.LINE_STRING],t[n.a.CIRCLE]=t[n.a.POLYGON].concat(t[n.a.LINE_STRING]),t[n.a.POINT]=[new h({image:new o.a({radius:6,fill:new s.a({color:r}),stroke:new a.a({color:e,width:1.5})}),zIndex:1/0})],t[n.a.MULTI_POINT]=t[n.a.POINT],t[n.a.GEOMETRY_COLLECTION]=t[n.a.POLYGON].concat(t[n.a.LINE_STRING],t[n.a.POINT]),t}function p(t){return t.getGeometry()}e.c=h},function(t,e,r){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return l}),r.d(e,"c",function(){return d});var i=r(13),n=r(5),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:d(t)}var c,h,u=(c={},h=0,function(t){var e;if(c.hasOwnProperty(t))e=c[t];else{if(h>=1024){var r=0;for(var n in c)0==(3&r++)&&(delete c[n],--h)}e=function(t){var e,r,n,a,c;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var r=getComputedStyle(e).color;return document.body.removeChild(e),r}return""}(t)),o.exec(t)){var h,u=t.length-1;h=u<=4?1:2;var l=4===u||8===u;e=parseInt(t.substr(1+0*h,h),16),r=parseInt(t.substr(1+1*h,h),16),n=parseInt(t.substr(1+2*h,h),16),a=l?parseInt(t.substr(1+3*h,h),16):255,1==h&&(e=(e<<4)+e,r=(r<<4)+r,n=(n<<4)+n,l&&(a=(a<<4)+a)),c=[e,r,n,a/255]}else 0==t.indexOf("rgba(")?f(c=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((c=t.slice(4,-1).split(",").map(Number)).push(1),f(c)):Object(i.a)(!1,14);return c}(t),c[t]=e,++h}return e});function l(t){return Array.isArray(t)?t:u(t)}function f(t){return t[0]=Object(n.a)(t[0]+.5|0,0,255),t[1]=Object(n.a)(t[1]+.5|0,0,255),t[2]=Object(n.a)(t[2]+.5|0,0,255),t[3]=Object(n.a)(t[3],0,1),t}function d(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var r=t[1];r!=(0|r)&&(r=r+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+r+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(50);function n(t){return Array.isArray(t)?Object(i.c)(t):t}},function(t,e,r){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return n});var i=.5,n=!0},function(t,e,r){"use strict";var i=r(13),n=r(1),o=r(4),s=r(17),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(n.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;this.setGeometry(r)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(n.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(n.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(i.a)("function"==typeof t.getZIndex,41);var r=t;e=[r]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(n.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(n.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},function(t,e,r){"use strict";function i(t){return t[0]>0&&t[1]>0}function n(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o})},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,h=[],u=!1,l=-1;function f(){u&&c&&(u=!1,c.length?h=c.concat(h):l=-1,h.length&&d())}function d(){if(!u){var t=a(f);u=!0;for(var e=h.length;e;){for(c=h,h=[];++l<e;)c&&c[l].run();l=-1,e=h.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e,r){"use strict";var i=e,n=r(33),o=r(57),s=r(188);i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(t,e){for(var r=[],i=1<<e+1,n=t.clone();n.cmpn(1)>=0;){var o;if(n.isOdd()){var s=n.andln(i-1);o=s>(i>>1)-1?(i>>1)-s:s,n.isubn(o)}else o=0;r.push(o);for(var a=0!==n.cmpn(0)&&0===n.andln(i-1)?e+1:1,c=1;c<a;c++)r.push(0);n.iushrn(a)}return r},i.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0;t.cmpn(-i)>0||e.cmpn(-n)>0;){var o,s,a,c=t.andln(3)+i&3,h=e.andln(3)+n&3;3===c&&(c=-1),3===h&&(h=-1),o=0==(1&c)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==h?c:-c,r[0].push(o),s=0==(1&h)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==c?h:-h,r[1].push(s),2*i===o+1&&(i=1-i),2*n===s+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r},i.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new n(t,"hex","le")}},function(t,e,r){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o}),r.d(e,"e",function(){return s}),r.d(e,"c",function(){return c}),r.d(e,"d",function(){return h});var i=r(5);function n(t,e,r,n,o,s,a){var c=(r-e)/n;if(c<3){for(;e<r;e+=n)s[a++]=t[e],s[a++]=t[e+1];return a}var h=new Array(c);h[0]=1,h[c-1]=1;for(var u=[e,r-n],l=0;u.length>0;){for(var f=u.pop(),d=u.pop(),p=0,g=t[d],y=t[d+1],_=t[f],b=t[f+1],m=d+n;m<f;m+=n){var v=t[m],E=t[m+1],w=Object(i.g)(v,E,g,y,_,b);w>p&&(l=m,p=w)}p>o&&(h[(l-e)/n]=1,d+n<l&&u.push(d,l),l+n<f&&u.push(l,f))}for(var O=0;O<c;++O)h[O]&&(s[a++]=t[e+O*n],s[a++]=t[e+O*n+1]);return a}function o(t,e,r,i,o,s,a,c){for(var h=0,u=r.length;h<u;++h){var l=r[h];a=n(t,e,l,i,o,s,a),c.push(a),e=l}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,r,i,n,o,a){if(e==r)return a;var c,h,u=s(t[e],n),l=s(t[e+1],n);e+=i,o[a++]=u,o[a++]=l;do{if(c=s(t[e],n),h=s(t[e+1],n),(e+=i)==r)return o[a++]=c,o[a++]=h,a}while(c==u&&h==l);for(;e<r;){var f=s(t[e],n),d=s(t[e+1],n);if(e+=i,f!=c||d!=h){var p=c-u,g=h-l,y=f-u,_=d-l;p*_==g*y&&(p<0&&y<p||p==y||p>0&&y>p)&&(g<0&&_<g||g==_||g>0&&_>g)?(c=f,h=d):(o[a++]=c,o[a++]=h,u=c,l=h,c=f,h=d)}}return o[a++]=c,o[a++]=h,a}function c(t,e,r,i,n,o,s,c){for(var h=0,u=r.length;h<u;++h){var l=r[h];s=a(t,e,l,i,n,o,s),c.push(s),e=l}return s}function h(t,e,r,i,n,o,s,a){for(var h=0,u=r.length;h<u;++h){var l=r[h],f=[];s=c(t,e,l,i,n,o,s,f),a.push(f),e=l[l.length-1]}return s}},function(t,e,r){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o}),r.d(e,"c",function(){return s}),r.d(e,"d",function(){return a});var i=r(0);function n(t,e,r,n,s){return!Object(i.t)(s,function(i){return!o(t,e,r,n,i[0],i[1])})}function o(t,e,r,i,n,o){for(var s=0,a=t[r-i],c=t[r-i+1];e<r;e+=i){var h=t[e],u=t[e+1];c<=o?u>o&&(h-a)*(o-c)-(n-a)*(u-c)>0&&s++:u<=o&&(h-a)*(o-c)-(n-a)*(u-c)<0&&s--,a=h,c=u}return 0!==s}function s(t,e,r,i,n,s){if(0===r.length)return!1;if(!o(t,e,r[0],i,n,s))return!1;for(var a=1,c=r.length;a<c;++a)if(o(t,r[a-1],r[a],i,n,s))return!1;return!0}function a(t,e,r,i,n,o){if(0===r.length)return!1;for(var a=0,c=r.length;a<c;++a){var h=r[a];if(s(t,e,h,i,n,o))return!0;e=h[h.length-1]}return!1}},function(t,e,r){"use strict";r.d(e,"c",function(){return n}),r.d(e,"d",function(){return o}),r.d(e,"a",function(){return s}),r.d(e,"b",function(){return a});var i=r(5);function n(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return function(t,r){return void 0!==t?t=Math.floor((t+r)/e+.5)*e:void 0}}function a(t){var e=t||Object(i.i)(5);return function(t,r){return void 0!==t?Math.abs(t+r)<=e?0:t+r:void 0}}},function(t,e,r){"use strict";var i=r(10),n=r(0),o=r(23),s=r(2),a=r(37),c=r(45),h=r(42),u=r(43),l=r(94),f=r(77),d=r(128),p=r(127),g=r(60),y=function(t){function e(e,r){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?this.setCoordinates(e,r):this.setFlatCoordinates(r,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.forEachSegment=function(t){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var r=void 0!==e&&e;return Object(l.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,o.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=y},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";const i=r(40),n=r(317),o=r(102),s=r(318),a=r(73),c=r(154),h=r(155),u=r(202),l=r(203);let f=null,d=null;const p={Set:r(204),symbol:n("joi-any-base"),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",noDefaults:!1,escapeHtml:!1}};t.exports=p.Any=class{constructor(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new p.Set,this._invalids=new p.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(t,e,r,i,n=this._flags){return c.create(t,e,r,i,n)}createOverrideError(t,e,r,i,n,o){return c.create(t,e,r,i,this._flags,n,o)}checkOptions(t){const e=(d=d||r(320)).options.validate(t);if(e.error)throw new Error(e.error.details[0].message)}clone(){const t=Object.create(Object.getPrototypeOf(this));t.isJoi=!0,t._currentJoi=this._currentJoi,t._type=this._type,t._settings=this._settings,t._baseType=this._baseType,t._valids=this._valids.slice(),t._invalids=this._invalids.slice(),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=i.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};const e=Object.keys(this._inner);for(let r=0;r<e.length;++r){const i=e[r];t._inner[i]=this._inner[i]?this._inner[i].slice():null}return t}concat(t){i.assert(t instanceof p.Any,"Invalid schema object"),i.assert("any"===this._type||"any"===t._type||t._type===this._type,"Cannot merge type",this._type,"with another type:",t._type);let e=this.clone();if("any"===this._type&&"any"!==t._type){const r=t.clone(),i=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"];for(let t=0;t<i.length;++t)r[i[t]]=e[i[t]];e=r}if(e._settings=e._settings?s.concat(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests.push(...t._tests),e._refs.push(...t._refs),e._flags.empty&&t._flags.empty){e._flags.empty=e._flags.empty.concat(t._flags.empty);const r=Object.assign({},t._flags);delete r.empty,i.merge(e._flags,r)}else if(t._flags.empty){e._flags.empty=t._flags.empty;const r=Object.assign({},t._flags);delete r.empty,i.merge(e._flags,r)}else i.merge(e._flags,t._flags);e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes.push(...t._notes),e._tags.push(...t._tags),e._examples.push(...t._examples),e._meta.push(...t._meta);const r=Object.keys(t._inner),n="object"===e._type;for(let i=0;i<r.length;++i){const o=r[i],s=t._inner[o];if(s){const t=e._inner[o];if(t)if(n&&"children"===o){const e={};for(let r=0;r<t.length;++r)e[t[r].key]=r;for(let r=0;r<s.length;++r){const i=s[r].key;e[i]>=0?t[e[i]]={key:i,schema:t[e[i]].schema.concat(s[r].schema)}:t.push(s[r])}}else e._inner[o]=e._inner[o].concat(s);else e._inner[o]=s.slice()}}return e}_test(t,e,r,i){const n=this.clone();return n._tests.push({func:r,name:t,arg:e,options:i}),n}_testUnique(t,e,r,i){const n=this.clone();return n._tests=n._tests.filter(e=>e.name!==t),n._tests.push({func:r,name:t,arg:e,options:i}),n}options(t){i.assert(!t.context,"Cannot override context"),this.checkOptions(t);const e=this.clone();return e._settings=s.concat(e._settings,t),e}strict(t){const e=this.clone(),r=void 0!==t&&!t;return e._settings=s.concat(e._settings,{convert:r}),e}raw(t){const e=void 0===t||t;if(this._flags.raw===e)return this;const r=this.clone();return r._flags.raw=e,r}error(t,e={self:!1}){i.assert(t&&(t instanceof Error||"function"==typeof t),"Must provide a valid Error object or a function");const r=Object.keys(e).filter(t=>!["self"].includes(t));i.assert(0===r.length,`Options ${r} are unknown`);const n=this.clone();return n._flags.error=t,e.self&&(n._flags.selfError=!0),n}allow(...t){const e=this.clone();t=i.flatten(t);for(let r=0;r<t.length;++r){const n=t[r];i.assert(void 0!==n,"Cannot call allow/valid/invalid with undefined"),e._invalids.remove(n),e._valids.add(n,e._refs)}return e}valid(...t){const e=this.allow(...t);return e._flags.allowOnly=!0,e}invalid(...t){const e=this.clone();t=i.flatten(t);for(let r=0;r<t.length;++r){const n=t[r];i.assert(void 0!==n,"Cannot call allow/valid/invalid with undefined"),e._valids.remove(n),e._invalids.add(n,e._refs)}return e}required(){if("required"===this._flags.presence)return this;const t=this.clone();return t._flags.presence="required",t}optional(){if("optional"===this._flags.presence)return this;const t=this.clone();return t._flags.presence="optional",t}forbidden(){if("forbidden"===this._flags.presence)return this;const t=this.clone();return t._flags.presence="forbidden",t}strip(){if(this._flags.strip)return this;const t=this.clone();return t._flags.strip=!0,t}applyFunctionToChildren(t,e,r=[],i){if(1!==(t=[].concat(t)).length||""!==t[0]){i=i?i+".":"";const e=(""===t[0]?t.slice(1):t).map(t=>i+t);throw new Error("unknown key(s) "+e.join(", "))}return this[e](...r)}default(t,e){"function"!=typeof t||a.isRef(t)||(!t.description&&e&&(t.description=e),this._flags.func||i.assert("string"==typeof t.description&&t.description.length>0,"description must be provided when default value is a function"));const r=this.clone();return r._flags.default=t,a.push(r._refs,t),r}empty(t){const e=this.clone();return void 0===t?delete e._flags.empty:e._flags.empty=o.schema(this._currentJoi,t),e}when(t,e){i.assert(e&&"object"==typeof e,"Invalid options"),i.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');const n=e.hasOwnProperty("then")?this.concat(o.schema(this._currentJoi,e.then)):void 0,s=e.hasOwnProperty("otherwise")?this.concat(o.schema(this._currentJoi,e.otherwise)):void 0;f=f||r(205);const a={then:n,otherwise:s};Object.prototype.hasOwnProperty.call(e,"is")&&(a.is=e.is);const c=f.when(t,a);return c._flags.presence="ignore",c._baseType=this,c}description(t){i.assert(t&&"string"==typeof t,"Description must be a non-empty string");const e=this.clone();return e._description=t,e}notes(t){i.assert(t&&("string"==typeof t||Array.isArray(t)),"Notes must be a non-empty string or array");const e=this.clone();return e._notes=e._notes.concat(t),e}tags(t){i.assert(t&&("string"==typeof t||Array.isArray(t)),"Tags must be a non-empty string or array");const e=this.clone();return e._tags=e._tags.concat(t),e}meta(t){i.assert(void 0!==t,"Meta cannot be undefined");const e=this.clone();return e._meta=e._meta.concat(t),e}example(...t){i.assert(t.length>0,"Missing examples");const e=[];for(let r=0;r<t.length;++r){const n=[].concat(t[r]);i.assert(n.length<=2,`Bad example format at index ${r}`);const o=n[0];let a=n[1];if(void 0!==a){i.assert(a&&"object"==typeof a,`Options for example at index ${r} must be an object`);const t=Object.keys(a).filter(t=>!["parent","context"].includes(t));i.assert(0===t.length,`Unknown example options ${t} at index ${r}`)}else a={};const u=new h("",[],a.parent||null),l=this._validate(o,u,s.concat(p.defaults,a.context?{context:a.context}:null));i.assert(!l.errors,`Bad example at index ${r}:`,l.errors&&c.process(l.errors,o));const f={value:o};Object.keys(a).length&&(f.options=a),e.push(f)}const r=this.clone();return r._examples=e,r}unit(t){i.assert(t&&"string"==typeof t,"Unit name must be a non-empty string");const e=this.clone();return e._unit=t,e}_prepareEmptyValue(t){return"string"==typeof t&&this._flags.trim?t.trim():t}_validate(t,e,r,i){const n=t;if(e=e||new h("",[],null,i),this._settings){const t=r===p.defaults;t&&this._settings[u.settingsCache]?r=this._settings[u.settingsCache]:(r=s.concat(this._language?s.concat({language:this._language},r):r,this._settings),t&&(this._settings[u.settingsCache]=r))}else this._language&&(r=s.concat({language:this._language},r));let o=[];if(this._coerce){const i=this._coerce(t,e,r);if(i.errors)return t=i.value,o=o.concat(i.errors),this._finalizeValue(t,n,o,e,r);t=i.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(t),null,p.defaults).errors&&(t=void 0);const a=this._flags.presence||r.presence;if("optional"===a){if(void 0===t){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return this._finalizeValue(t,n,o,e,r);t={}}}else{if("required"===a&&void 0===t)return o.push(this.createError("any.required",null,e,r)),this._finalizeValue(t,n,o,e,r);if("forbidden"===a)return void 0===t?this._finalizeValue(t,n,o,e,r):(o.push(this.createError("any.unknown",null,e,r)),this._finalizeValue(t,n,o,e,r))}let l=this._valids.get(t,e,r,this._flags.insensitive);if(l)return r.convert&&(t=l.value),this._finalizeValue(t,n,o,e,r);if(this._invalids.has(t,e,r,this._flags.insensitive)&&(o.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly))return this._finalizeValue(t,n,o,e,r);if(this._base){const i=this._base(t,e,r);if(i.errors)return t=i.value,o=o.concat(i.errors),this._finalizeValue(t,n,o,e,r);if(i.value!==t){if(t=i.value,l=this._valids.get(t,e,r,this._flags.insensitive))return t=l.value,this._finalizeValue(t,n,o,e,r);if(this._invalids.has(t,e,r,this._flags.insensitive)&&(o.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly))return this._finalizeValue(t,n,o,e,r)}}if(this._flags.allowOnly&&(o.push(this.createError("any.allowOnly",{value:t,valids:this._valids.values({stripUndefined:!0})},e,r)),r.abortEarly))return this._finalizeValue(t,n,o,e,r);for(let i=0;i<this._tests.length;++i){const s=this._tests[i].func.call(this,t,e,r);if(s instanceof c.Err){if(o.push(s),r.abortEarly)return this._finalizeValue(t,n,o,e,r)}else t=s}return this._finalizeValue(t,n,o,e,r)}_finalizeValue(t,e,r,n,o){let s;if(void 0!==t)s=this._flags.raw?e:t;else if(o.noDefaults)s=t;else if(a.isRef(this._flags.default))s=this._flags.default(n.parent,o);else if("function"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)s=i.clone(this._flags.default);else{let t;null!==n.parent&&this._flags.default.length>0&&(t=[i.clone(n.parent),o]);const e=p._try(this._flags.default,t);s=e.value,e.error&&r.push(this.createError("any.default",{error:e.error},n,o))}if(r.length&&"function"==typeof this._flags.error&&(!this._flags.selfError||r.some(t=>n.path.length===t.path.length))){const t=this._flags.error.call(this,r);r="string"==typeof t?[this.createOverrideError("override",{reason:r},n,o,t)]:[].concat(t).map(t=>t instanceof Error?t:this.createOverrideError(t.type||"override",t.context,n,o,t.message,t.template))}return{value:this._flags.strip?void 0:s,finalValue:s,errors:r.length?r:null}}_validateWithOptions(t,e,r){e&&this.checkOptions(e);const i=s.concat(p.defaults,e),n=this._validate(t,null,i),o=c.process(n.errors,t);return r?r(o,n.value):{error:o,value:n.value,then:(t,e)=>o?Promise.reject(o).catch(e):Promise.resolve(n.value).then(t),catch:t=>o?Promise.reject(o).catch(t):Promise.resolve(n.value)}}validate(t,e,r){return"function"==typeof e?this._validateWithOptions(t,null,e):this._validateWithOptions(t,e,r)}describe(){const t={type:this._type},e=Object.keys(this._flags);if(e.length)if(["empty","default","lazy","label"].some(t=>this._flags.hasOwnProperty(t))){t.flags={};for(let r=0;r<e.length;++r){const i=e[r];"empty"===i?t.flags[i]=this._flags[i].describe():"default"===i?a.isRef(this._flags[i])?t.flags[i]=this._flags[i].toString():"function"==typeof this._flags[i]?t.flags[i]={description:this._flags[i].description,function:this._flags[i]}:t.flags[i]=this._flags[i]:"lazy"===i||"label"===i||(t.flags[i]=this._flags[i])}}else t.flags=this._flags;this._settings&&(t.options=i.clone(this._settings)),this._baseType&&(t.base=this._baseType.describe()),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);const r=this._valids.values();r.length&&(t.valids=r.map(t=>a.isRef(t)?t.toString():t));const n=this._invalids.values();n.length&&(t.invalids=n.map(t=>a.isRef(t)?t.toString():t)),t.rules=[];for(let e=0;e<this._tests.length;++e){const r=this._tests[e],i={name:r.name};void 0!==r.arg&&(i.arg=a.isRef(r.arg)?r.arg.toString():r.arg);const n=r.options;if(n){if(n.hasRef){i.arg={};const t=Object.keys(r.arg);for(let e=0;e<t.length;++e){const n=t[e],o=r.arg[n];i.arg[n]=a.isRef(o)?o.toString():o}}"string"==typeof n.description?i.description=n.description:"function"==typeof n.description&&(i.description=n.description(i.arg))}t.rules.push(i)}t.rules.length||delete t.rules;const o=this._getLabel();return o&&(t.label=o),t}label(t){i.assert(t&&"string"==typeof t,"Label name must be a non-empty string");const e=this.clone();return e._flags.label=t,e}_getLabel(t){return this._flags.label||t}},p.Any.prototype.isImmutable=!0,p.Any.prototype.only=p.Any.prototype.equal=p.Any.prototype.valid,p.Any.prototype.disallow=p.Any.prototype.not=p.Any.prototype.invalid,p.Any.prototype.exist=p.Any.prototype.required,p.Any.prototype[p.symbol]={version:l.version,compile:o.schema,root:"_currentJoi"},p._try=function(t,e=[]){let r,i;try{i=t(...e)}catch(t){r=t}return{value:i,error:r}}},function(t,e,r){"use strict";r.r(e);var i=r(49),n=r(69),o=r(129),s=r(11),a=r(48),c="renderOrder",h=function(t){function e(e){var r=e||{},n=Object(s.a)({},r);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,t.call(this,n),this.declutter_=void 0!==r.declutter&&r.declutter,this.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(r.style),this.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,this.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,this.renderMode_=r.renderMode||o.a.VECTOR,this.type=i.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(c)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(c,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.d)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(n.a);h.prototype.getSource,e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(3),n=r(29),o=r(27),s=r(61),a=r(10),c=r(13),h=r(1),u=r(22),l=r(4),f=r(0),d=r(14),p=r(80);function g(t,e){return function(t,e,r,i){return function(n,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,o,s):t,!0),e.getType()==p.a.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var n,o=e.getType();o==p.a.JSON||o==p.a.TEXT?n=a.responseText:o==p.a.XML?(n=a.responseXML)||(n=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==p.a.ARRAY_BUFFER&&(n=a.response),n?r.call(this,e.readFeatures(n,{featureProjection:s}),e.readProjection(n),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},d.c)}function y(t,e){return[[-1/0,-1/0,1/0,1/0]]}var _=r(11),b=r(131),m=r(59),v=r(52),E=r(83);r.d(e,"VectorSourceEvent",function(){return w});var w=function(t){function e(e,r){t.call(this,e),this.feature=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u.a),O=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,projection:void 0,state:m.a.READY,wrapX:void 0===r.wrapX||r.wrapX}),this.loader_=d.c,this.format_=r.format,this.overlaps_=null==r.overlaps||r.overlaps,this.url_=r.url,void 0!==r.loader?this.loader_=r.loader:void 0!==this.url_&&(Object(c.a)(this.format_,7),this.loader_=g(this.url_,this.format_)),this.strategy_=void 0!==r.strategy?r.strategy:y;var i,o,s=void 0===r.useSpatialIndex||r.useSpatialIndex;this.featuresRtree_=s?new E.a:null,this.loadedExtentsRtree_=new E.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),s||void 0!==i||(i=new n.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new w(v.a.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(h.a)(e,l.a.CHANGE,this.handleFeatureChange_,this),Object(h.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=e:(Object(c.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],n=[],o=0,s=t.length;o<s;o++){var a=t[o],c=Object(i.c)(a);this.addToIndex_(c,a)&&r.push(a)}for(var h=0,u=r.length;h<u;h++){var l=r[h],f=Object(i.c)(l);this.setupChangeEvents_(f,l);var d=l.getGeometry();if(d){var p=d.getExtent();e.push(p),n.push(l)}else this.nullGeometryFeatures_[f]=l}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var g=0,y=r.length;g<y;g++)this.dispatchEvent(new w(v.a.ADDFEATURE,r[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(h.a)(this,v.a.ADDFEATURE,function(r){e||(e=!0,t.push(r.feature),e=!1)}),Object(h.a)(this,v.a.REMOVEFEATURE,function(r){e||(e=!0,t.remove(r.feature),e=!1)}),Object(h.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(h.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(h.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new w(v.a.CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(t)?e(r):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(r){if(r.getGeometry().intersectsExtent(t)){var i=e(r);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(_.d)(this.nullGeometryFeatures_)||Object(a.c)(t,Object(_.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],i=t[1],n=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],c=e||d.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(c(t)){var e=t.getGeometry(),h=s;if((s=e.closestPointXY(r,i,o,s))<h){n=t;var u=Math.sqrt(s);a[0]=r-u,a[1]=i-u,a[2]=r+u,a[3]=i+u}}}),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=Object(i.c)(e),n=e.getGeometry();if(n){var o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var s=e.getId();if(void 0!==s){var a=s.toString();r in this.undefIdIndex_?(delete this.undefIdIndex_[r],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else r in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[r]=e);this.changed(),this.dispatchEvent(new w(v.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(_.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,r){var i=this,n=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];n.forEachInExtent(a,function(t){return Object(f.g)(t.extent,a)})||(i.loader_.call(i,a,e,r),n.insert(a,{extent:a.slice()}),i.loading=i.loader_!==d.c)},a=0,c=o.length;a<c;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,function(r){if(Object(f.p)(r.extent,t))return e=r,!0}),e&&r.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(h.e),delete this.featureChangeKeys_[e];var r=t.getId();void 0!==r?delete this.idIndex_[r.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new w(v.a.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(b.a);e.default=O},function(t,e,r){"use strict";r.d(e,"b",function(){return d});var i=r(1),n=r(4),o=r(3),s=r(17),a=r(123),c=r(31),h=r(11),u=r(44),l=r(59),f=function(t){function e(e){var r=Object(h.a)({},e);delete r.source,t.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.a)(this,Object(s.b)(c.a.SOURCE),this.handleSourcePropertyChange_,this);var n=e.source?e.source:null;this.setSource(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():l.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,n.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,u.a.PRECOMPOSE,function(t){var e=t,r=this.getLayerState();r.managed=!1,void 0===this.getZIndex()&&(r.zIndex=1/0),e.frameState.layerStatesArray.push(r),e.frameState.layerStates[Object(o.c)(this)]=r},this),this.mapRenderKey_=Object(i.a)(this,n.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c.a.SOURCE,t)},e}(a.a);function d(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=f},function(t,e,r){"use strict";var i=r(3),n=r(50),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(n.b)(t):this.checksum_=Object(i.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=o},function(t,e,r){"use strict";var i=r(3),n=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},n.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},n.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},n.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},n.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},n.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},n.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=n},function(t,e,r){"use strict";var i=r(57),n=r(19);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=n,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):o(t,n)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=s(n)),r+=c(n.toString(16))}return r},e.zero2=a,e.zero8=c,e.join32=function(t,e,r,n){var o=r-e;i(o%4==0);for(var s=new Array(o/4),a=0,c=e;a<s.length;a++,c+=4){var h;h="big"===n?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=h>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];"big"===e?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=255&o):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},e.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},e.sum64=function(t,e,r,i){var n=t[e],o=i+t[e+1]>>>0,s=(o<i?1:0)+r+n;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,i){return e+i>>>0},e.sum64_4_hi=function(t,e,r,i,n,o,s,a){var c=0,h=e;return c+=(h=h+i>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,t+r+n+s+(c+=(h=h+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,i,n,o,s,a){return e+i+o+a>>>0},e.sum64_5_hi=function(t,e,r,i,n,o,s,a,c,h){var u=0,l=e;return u+=(l=l+i>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,u+=(l=l+a>>>0)<a?1:0,t+r+n+s+c+(u+=(l=l+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(t,e,r,i,n,o,s,a,c,h){return e+i+o+a+h>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){"use strict";const i=r(40);e.create=function(t,e){i.assert("string"==typeof t,"Invalid reference key:",t);const r=i.clone(e),n=function(t,e){return i.reach(n.isContext?e.context:t,n.key,r)};return n.isContext=t[0]===(r&&r.contextPrefix||"$"),n.key=n.isContext?t.slice(1):t,n.path=n.key.split(r&&r.separator||"."),n.depth=n.path.length,n.root=n.path[0],n.isJoi=!0,n.toString=function(){return(n.isContext?"context:":"ref:")+n.key},n},e.isRef=function(t){return"function"==typeof t&&t.isJoi},e.push=function(t,r){e.isRef(r)&&!r.isContext&&t.push(r.root)}},function(t,e,r){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,r){"use strict";var i=function(t){function e(e,r,i,n,o){t.call(this,e,r,i.originalEvent,n,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(132).a);e.a=i},function(t,e,r){var i=r(21).Buffer,n=r(138).Transform,o=r(143).StringDecoder;function s(t){n.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(19)(s,n),s.prototype.update=function(t,e,r){"string"==typeof t&&(t=i.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i},t.exports=s},function(t,e,r){"use strict";r.d(e,"a",function(){return s}),r.d(e,"b",function(){return a}),r.d(e,"c",function(){return c}),r.d(e,"d",function(){return h});var i=r(0),n=r(62),o=r(127);function s(t,e,r,n,s){var a=Object(i.s)(Object(i.j)(),t,e,r,n);return!!Object(i.F)(s,a)&&(!!Object(i.g)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,r,n,function(t,e){return Object(i.G)(s,t,e)}))))}function a(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o){if(s(t,e,r[o],i,n))return!0;e=r[o]}return!1}function c(t,e,r,i,o){if(!function(t,e,r,i,o){return!!(s(t,e,r,i,o)||Object(n.b)(t,e,r,i,o[0],o[1])||Object(n.b)(t,e,r,i,o[0],o[3])||Object(n.b)(t,e,r,i,o[2],o[1])||Object(n.b)(t,e,r,i,o[2],o[3]))}(t,e,r[0],i,o))return!1;if(1===r.length)return!0;for(var a=1,c=r.length;a<c;++a)if(Object(n.a)(t,r[a-1],r[a],i,o)&&!s(t,r[a-1],r[a],i,o))return!1;return!0}function h(t,e,r,i,n){for(var o=0,s=r.length;o<s;++o){var a=r[o];if(c(t,e,a,i,n))return!0;e=a[a.length-1]}return!1}},function(t,e,r){"use strict";var i=function(t,e){this.dispatcher=t,this.mapping_=e};i.prototype.getEvents=function(){return Object.keys(this.mapping_)},i.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},e.a=i},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return o}),r.d(e,"d",function(){return f});var i=r(78),n=1,o="mouse";function s(t){if(!this.isEventSimulatedFromTouch_(t)){n.toString()in this.pointerMap&&this.cancel(t);var e=f(t,this.dispatcher);this.pointerMap[n.toString()]=t,this.dispatcher.down(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.move(e,t)}}function c(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[n.toString()];if(e&&e.button===t.button){var r=f(t,this.dispatcher);this.dispatcher.up(r,t),this.cleanupMouse()}}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var l=function(t){function e(e){var r={mousedown:s,mousemove:a,mouseup:c,mouseover:h,mouseout:u};t.call(this,e,r),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,r=t.clientX,i=t.clientY,n=0,o=e.length,s=void 0;n<o&&(s=e[n]);n++){var a=Math.abs(r-s[0]),c=Math.abs(i-s[1]);if(a<=25&&c<=25)return!0}return!1},e.prototype.cancel=function(t){var e=f(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[n.toString()]},e}(i.a);function f(t,e){var r=e.cloneEvent(t,t),i=r.preventDefault;return r.preventDefault=function(){t.preventDefault(),i()},r.pointerId=n,r.isPrimary=!0,r.pointerType=o,r}e.c=l},function(t,e,r){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,r){"use strict";function i(t,e,r,i){for(;e<r-i;){for(var n=0;n<i;++n){var o=t[e+n];t[e+n]=t[r-i+n],t[r-i+n]=o}e+=i,r-=i}}function n(t,e,r,i){for(var n=0,o=t[r-i],s=t[r-i+1];e<r;e+=i){var a=t[e],c=t[e+1];n+=(a-o)*(c+s),o=a,s=c}return n>0}function o(t,e,r,i,o){for(var s=void 0!==o&&o,a=0,c=r.length;a<c;++a){var h=r[a],u=n(t,e,h,i);if(0===a){if(s&&u||!s&&!u)return!1}else if(s&&!u||!s&&u)return!1;e=h}return!0}function s(t,e,r,i,n){for(var s=0,a=r.length;s<a;++s)if(!o(t,e,r[s],i,n))return!1;return!0}function a(t,e,r,o,s){for(var a=void 0!==s&&s,c=0,h=r.length;c<h;++c){var u=r[c],l=n(t,e,u,o);(0===c?a&&l||!a&&!l:a&&!l||!a&&l)&&i(t,e,u,o),e=u}return e}function c(t,e,r,i,n){for(var o=0,s=r.length;o<s;++o)e=a(t,e,r[o],i,n);return e}r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s}),r.d(e,"c",function(){return a}),r.d(e,"d",function(){return c})},function(t,e,r){"use strict";var i=r(110),n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=r(97);o.inherits=r(19);var s=r(167),a=r(142);o.inherits(l,s);for(var c=n(a.prototype),h=0;h<c.length;h++){var u=c[h];l.prototype[u]||(l.prototype[u]=a.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,r){"use strict";var i=r(3),n=r(92),o=r.n(n),s=r(0),a=r(11),c=function(t){this.rbush_=o()(t,void 0),this.items_={}};c.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[Object(i.c)(e)]=r},c.prototype.load=function(t,e){for(var r=new Array(e.length),n=0,o=e.length;n<o;n++){var s=t[n],a=e[n],c={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[n]=c,this.items_[Object(i.c)(a)]=c}this.rbush_.load(r)},c.prototype.remove=function(t){var e=Object(i.c)(t),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},c.prototype.update=function(t,e){var r=this.items_[Object(i.c)(e)],n=[r.minX,r.minY,r.maxX,r.maxY];Object(s.p)(n,t)||(this.remove(e),this.insert(t,e))},c.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},c.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},c.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},c.prototype.forEachInExtent=function(t,e,r){return this.forEach_(this.getInExtent(t),e,r)},c.prototype.forEach_=function(t,e,r){for(var i,n=0,o=t.length;n<o;n++)if(i=e.call(r,t[n]))return i;return i},c.prototype.isEmpty=function(){return Object(a.d)(this.items_)},c.prototype.clear=function(){this.rbush_.clear(),this.items_={}},c.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(s.k)(e.minX,e.minY,e.maxX,e.maxY,t)},c.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e.a=c},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n});var i=42,n=256},function(t,e,r){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=function(t,e,r,i){this.minX=t,this.maxX=e,this.minY=r,this.maxY=i};function n(t,e,r,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=r,o.maxY=n,o):new i(t,e,r,n)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=i},function(t,e,r){"use strict";(function(e,i){var n=65536,o=4294967295;var s=r(21).Buffer,a=e.crypto||e.msCrypto;a&&a.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(t);if(t>0)if(t>n)for(var c=0;c<t;c+=n)a.getRandomValues(r.slice(c,c+n));else a.getRandomValues(r);if("function"==typeof e)return i.nextTick(function(){e(null,r)});return r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(65),r(56))},function(t,e,r){var i=r(21).Buffer;function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%n,h=Math.min(o-a,n-c),u=0;u<h;u++)r[c+u]=t[a+u];a+=h,(s+=h)%n==0&&this._update(r)}return this._len+=o,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},function(t,e,r){"use strict";var i=r(3),n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};n.prototype.clone=function(){return new n({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return!1},n.prototype.getAnchor=function(){return Object(i.b)()},n.prototype.getImage=function(t){return Object(i.b)()},n.prototype.getHitDetectionImage=function(t){return Object(i.b)()},n.prototype.getImageState=function(){return Object(i.b)()},n.prototype.getImageSize=function(){return Object(i.b)()},n.prototype.getHitDetectionImageSize=function(){return Object(i.b)()},n.prototype.getOrigin=function(){return Object(i.b)()},n.prototype.getSize=function(){return Object(i.b)()},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){},n.prototype.listenImageChange=function(t,e){return Object(i.b)()},n.prototype.load=function(){Object(i.b)()},n.prototype.unlistenImageChange=function(t,e){Object(i.b)()},e.a=n},function(t,e,r){"use strict";var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.a=i},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=0,o=t[r-i],s=t[r-i+1];e<r;e+=i){var a=t[e],c=t[e+1];n+=s*a-o*c,o=a,s=c}return n/2}function n(t,e,r,n){for(var o=0,s=0,a=r.length;s<a;++s){var c=r[s];o+=i(t,e,c,n),e=c}return o}function o(t,e,r,i){for(var o=0,s=0,a=r.length;s<a;++s){var c=r[s];o+=n(t,e,c,i),e=c[c.length-1]}return o}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o})},function(t,e,r){"use strict";t.exports=n,t.exports.default=n;var i=r(222);function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,r){if(!r)return e.indexOf(t);for(var i=0;i<e.length;i++)if(r(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,i,n){n||(n=g(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,s=e;s<r;s++)o=t.children[s],c(n,t.leaf?i(o):o);return n}function c(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,r,n,o){for(var s,a=[e,r];a.length;)(r=a.pop())-(e=a.pop())<=n||(s=e+Math.ceil((r-e)/n/2)*n,i(t,s,e,r,o),a.push(e,s,s,r))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],i=this.toBBox;if(!p(t,e))return r;for(var n,o,s,a,c=[];e;){for(n=0,o=e.children.length;n<o;n++)s=e.children[n],p(t,a=e.leaf?i(s):s)&&(e.leaf?r.push(s):d(t,a)?this._all(s,r):c.push(s));e=c.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!p(t,e))return!1;for(var i,n,o,s,a=[];e;){for(i=0,n=e.children.length;i<n;i++)if(o=e.children[i],p(t,s=e.leaf?r(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var r,i,n,s,a=this.data,c=this.toBBox(t),h=[],u=[];a||h.length;){if(a||(a=h.pop(),i=h[h.length-1],r=u.pop(),s=!0),a.leaf&&-1!==(n=o(t,a.children,e)))return a.children.splice(n,1),h.push(a),this._condense(h),this;s||a.leaf||!d(a,c)?i?(r++,a=i.children[r],s=!1):a=null:(h.push(a),u.push(r),r=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,i){var n,o=r-e+1,a=this._maxEntries;if(o<=a)return s(n=g(t.slice(e,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(n=g([])).leaf=!1,n.height=i;var c,h,u,l,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(y(t,e,r,d,this.compareMinX),c=e;c<=r;c+=d)for(y(t,c,u=Math.min(c+d-1,r),f,this.compareMinY),h=c;h<=u;h+=f)l=Math.min(h+f-1,u),n.children.push(this._build(t,h,l,i-1));return s(n,this.toBBox),n},_chooseSubtree:function(t,e,r,i){for(var n,o,s,a,c,h,u,f,d,p;i.push(e),!e.leaf&&i.length-1!==r;){for(u=f=1/0,n=0,o=e.children.length;n<o;n++)c=l(s=e.children[n]),d=t,p=s,(h=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-c)<f?(f=h,u=c<u?c:u,a=s):h===f&&c<u&&(u=c,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var i=this.toBBox,n=r?t:i(t),o=[],s=this._chooseSubtree(n,this.data,e,o);for(s.children.push(t),c(s,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},_split:function(t,e){var r=t[e],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var o=this._chooseSplitIndex(r,n,i),a=g(r.children.splice(o,r.children.length-o));a.height=r.height,a.leaf=r.leaf,s(r,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var i,n,o,s,c,h,u,f,d,p,g,y,_,b;for(h=u=1/0,i=e;i<=r-e;i++)n=a(t,0,i,this.toBBox),o=a(t,i,r,this.toBBox),d=n,p=o,g=void 0,y=void 0,_=void 0,b=void 0,g=Math.max(d.minX,p.minX),y=Math.max(d.minY,p.minY),_=Math.min(d.maxX,p.maxX),b=Math.min(d.maxY,p.maxY),s=Math.max(0,_-g)*Math.max(0,b-y),c=l(n)+l(o),s<h?(h=s,f=i,u=c<u?c:u):s===h&&c<u&&(u=c,f=i);return f},_chooseSplitAxis:function(t,e,r){var i=t.leaf?this.compareMinX:h,n=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,r,i)<this._allDistMargin(t,e,r,n)&&t.children.sort(i)},_allDistMargin:function(t,e,r,i){t.children.sort(i);var n,o,s=this.toBBox,h=a(t,0,e,s),u=a(t,r-e,r,s),l=f(h)+f(u);for(n=e;n<r-e;n++)o=t.children[n],c(h,t.leaf?s(o):o),l+=f(h);for(n=r-e-1;n>=e;n--)o=t.children[n],c(u,t.leaf?s(o):o),l+=f(u);return l},_adjustParentBBoxes:function(t,e,r){for(var i=r;i>=0;i--)c(e[i],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():s(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,r){"use strict";var i=r(10),n=r(0),o=r(2),s=r(41),a=r(37),c=r(42),h=r(43),u=r(5),l=function(t){function e(e,r){t.call(this),r&&!Array.isArray(e[0])?this.setFlatCoordinates(r,e):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(n.e)(this.getExtent(),t,e))return i;for(var o=this.flatCoordinates,s=this.stride,a=0,c=o.length;a<c;a+=s){var h=Object(u.f)(t,e,o[a],o[a+1]);if(h<i){i=h;for(var l=0;l<s;++l)r[l]=o[a+l];r.length=s}}return i},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],n=0,o=t.length;n<o;n+=r){var a=new s.a(t.slice(n,n+r),e);i.push(a)}return i},e.prototype.getType=function(){return o.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,i=0,o=e.length;i<o;i+=r){var s=e[i],a=e[i+1];if(Object(n.h)(t,s,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=l},function(t,e,r){"use strict";r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s}),r.d(e,"c",function(){return a});var i=r(10),n=r(5);function o(t,e,r,o,s,a){var c=NaN,h=NaN,u=(r-e)/o;if(1===u)c=t[e],h=t[e+1];else if(2==u)c=(1-s)*t[e]+s*t[e+o],h=(1-s)*t[e+1]+s*t[e+o+1];else if(0!==u){for(var l=t[e],f=t[e+1],d=0,p=[0],g=e+o;g<r;g+=o){var y=t[g],_=t[g+1];d+=Math.sqrt((y-l)*(y-l)+(_-f)*(_-f)),p.push(d),l=y,f=_}var b=s*d,m=Object(i.a)(p,b);if(m<0){var v=(b-p[-m-2])/(p[-m-1]-p[-m-2]),E=e+(-m-2)*o;c=Object(n.c)(t[E],t[E+o],v),h=Object(n.c)(t[E+1],t[E+o+1],v)}else c=t[e+m*o],h=t[e+m*o+1]}return a?(a[0]=c,a[1]=h,a):[c,h]}function s(t,e,r,i,o,s){if(r==e)return null;var a;if(o<t[e+i-1])return s?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[r-1]<o)return s?((a=t.slice(r-i,r))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var c=e/i,h=r/i;c<h;){var u=c+h>>1;o<t[(u+1)*i-1]?h=u:c=u+1}var l=t[c*i-1];if(o==l)return t.slice((c-1)*i,(c-1)*i+i);var f=(o-l)/(t[(c+1)*i-1]-l);a=[];for(var d=0;d<i-1;++d)a.push(Object(n.c)(t[(c-1)*i+d],t[c*i+d],f));return a.push(o),a}function a(t,e,r,i,n,o,a){if(a)return s(t,e,r[r.length-1],i,n,o);var c;if(n<t[i-1])return o?((c=t.slice(0,i))[i-1]=n,c):null;if(t[t.length-1]<n)return o?((c=t.slice(t.length-i))[i-1]=n,c):null;for(var h=0,u=r.length;h<u;++h){var l=r[h];if(e!=l){if(n<t[e+i-1])return null;if(n<=t[l-1])return s(t,e,l,i,n,!1);e=l}}return null}},function(t,e,r){"use strict";var i=function(t){function e(e,r,i){t.call(this,e),this.map=r,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(22).a);e.a=i},function(t,e,r){"use strict";var i=r(19),n=r(137),o=r(144),s=r(145),a=r(76);function c(t){a.call(this,"digest"),this._hash=t}i(c,a),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new n:"rmd160"===t||"ripemd160"===t?new o:new c(s(t))}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(24).Buffer)},function(t,e,r){(function(e){t.exports=function(t,r){for(var i=Math.min(t.length,r.length),n=new e(i),o=0;o<i;++o)n[o]=t[o]^r[o];return n}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";var i=r(72),n=r(57);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),n(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i}},function(t,e,r){var i=e;i.bignum=r(33),i.define=r(296).define,i.base=r(101),i.constants=r(194),i.decoders=r(301),i.encoders=r(303)},function(t,e,r){var i=e;i.Reporter=r(298).Reporter,i.DecoderBuffer=r(193).DecoderBuffer,i.EncoderBuffer=r(193).EncoderBuffer,i.Node=r(299)},function(t,e,r){"use strict";const i=r(40),n=r(73);e.schema=function(t,e){return null!=e&&"object"==typeof e?e.isJoi?e:Array.isArray(e)?t.alternatives().try(e):e instanceof RegExp?t.string().regex(e):e instanceof Date?t.date().valid(e):t.object().keys(e):"string"==typeof e?t.string().valid(e):"number"==typeof e?t.number().valid(e):"boolean"==typeof e?t.boolean().valid(e):n.isRef(e)?t.valid(e):(i.assert(null===e,"Invalid schema content:",e),t.valid(null))},e.ref=function(t){return n.isRef(t)?t:n.create(t)}},function(t,e,r){"use strict";var i=function(t){function e(e){var r=e||{};t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,atlasManager:r.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(r(120).a);e.a=i},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=["experimental-webgl","webgl","webkit-3d","moz-webgl"];var n;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var o=function(t,e){for(var r=i.length,n=0;n<r;++n)try{var o=t.getContext(i[n],e);if(o)return o}catch(t){}return null}(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});o&&(!0,n=o.getParameter(o.MAX_TEXTURE_SIZE),o.getSupportedExtensions())}catch(t){}},function(t,e,r){"use strict";var i=r(70),n=r(134),o=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},e.a=o},function(t,e,r){"use strict";r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s});var i=r(5),n=(r(2),6371008.8);function o(t,e,r){var o=r||n,s=Object(i.i)(t[1]),a=Object(i.i)(e[1]),c=(a-s)/2,h=Object(i.i)(e[0]-t[0])/2,u=Math.sin(c)*Math.sin(c)+Math.sin(h)*Math.sin(h)*Math.cos(s)*Math.cos(a);return 2*o*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function s(t,e,r,o){var s=o||n,a=Object(i.i)(t[1]),c=Object(i.i)(t[0]),h=e/s,u=Math.asin(Math.sin(a)*Math.cos(h)+Math.cos(a)*Math.sin(h)*Math.cos(r)),l=c+Math.atan2(Math.sin(r)*Math.sin(h)*Math.cos(a),Math.cos(h)-Math.sin(a)*Math.sin(u));return[Object(i.h)(l),Object(i.h)(u)]}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(50),n=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,r){return e+":"+t+":"+(r?Object(i.b)(r):"null")}n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},n.prototype.get=function(t,e,r){var i=o(t,e,r);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(t,e,r,i){var n=o(t,e,r);this.cache_[n]=i,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new n},function(t,e,r){"use strict";var i=r(1),n=r(47),o=r(26),s=r(38),a=r(79),c=r(78),h=["","unavailable","touch","pen","mouse"];function u(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function f(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function d(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function p(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function g(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function y(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function _(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var b=function(t){function e(e){var r={MSPointerDown:u,MSPointerMove:l,MSPointerUp:f,MSPointerOut:d,MSPointerOver:p,MSPointerCancel:g,MSGotPointerCapture:_,MSLostPointerCapture:y};t.call(this,e,r),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=h[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(c.a);function m(t){this.dispatcher.fireNativeEvent(t)}function v(t){this.dispatcher.fireNativeEvent(t)}function E(t){this.dispatcher.fireNativeEvent(t)}function w(t){this.dispatcher.fireNativeEvent(t)}function O(t){this.dispatcher.fireNativeEvent(t)}function S(t){this.dispatcher.fireNativeEvent(t)}function T(t){this.dispatcher.fireNativeEvent(t)}function C(t){this.dispatcher.fireNativeEvent(t)}var x=function(t){function e(e){var r={pointerdown:m,pointermove:v,pointerup:E,pointerout:w,pointerover:O,pointercancel:S,gotpointercapture:C,lostpointercapture:T};t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.a),R=r(22),I=!1,A=function(t){function e(e,r,i){t.call(this,e),this.originalEvent=r;var n=i||{};this.buttons=function(t){var e;if(t.buttons||I)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(n),this.pressure=function(t,e){var r=0;r=t.pressure?t.pressure:e?.5:0;return r}(n,this.buttons),this.bubbles="bubbles"in n&&n.bubbles,this.cancelable="cancelable"in n&&n.cancelable,this.view="view"in n?n.view:null,this.detail="detail"in n?n.detail:null,this.screenX="screenX"in n?n.screenX:0,this.screenY="screenY"in n?n.screenY:0,this.clientX="clientX"in n?n.clientX:0,this.clientY="clientY"in n?n.clientY:0,this.ctrlKey="ctrlKey"in n&&n.ctrlKey,this.altKey="altKey"in n&&n.altKey,this.shiftKey="shiftKey"in n&&n.shiftKey,this.metaKey="metaKey"in n&&n.metaKey,this.button="button"in n?n.button:0,this.relatedTarget="relatedTarget"in n?n.relatedTarget:null,this.pointerId="pointerId"in n?n.pointerId:0,this.width="width"in n?n.width:0,this.height="height"in n?n.height:0,this.tiltX="tiltX"in n?n.tiltX:0,this.tiltY="tiltY"in n?n.tiltY:0,this.pointerType="pointerType"in n?n.pointerType:"",this.hwTimestamp="hwTimestamp"in n?n.hwTimestamp:0,this.isPrimary="isPrimary"in n&&n.isPrimary,r.preventDefault&&(this.preventDefault=function(){r.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R.a);!function(){try{var t=new MouseEvent("click",{buttons:1});I=1===t.buttons}catch(t){}}();var M=A,j=r(10);function L(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function P(t){this.processTouches_(t,this.moveOverOut_)}function N(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function k(t){this.processTouches_(t,this.cancelOut_)}var D=function(t){function e(e,r){var i={touchstart:L,touchmove:P,touchend:N,touchcancel:k};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=r,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&a.a.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var r=this.dispatcher.cloneEvent(t,e);return r.pointerId=e.identifier+2,r.bubbles=!0,r.cancelable=!0,r.detail=this.clickCount_,r.button=0,r.buttons=1,r.width=e.radiusX||0,r.height=e.radiusY||0,r.pressure=e.force||.5,r.isPrimary=this.isPrimaryTouch_(e),r.pointerType="touch",r.clientX=e.clientX,r.clientY=e.clientY,r.screenX=e.screenX,r.screenY=e.screenY,r},e.prototype.processTouches_=function(t,e){var r=Array.prototype.slice.call(t.changedTouches),i=r.length;function n(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,r[o]);s.preventDefault=n,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var r=t.length,i=0;i<r;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,r=Object.keys(this.pointerMap),i=r.length;if(i>=e.length){for(var n=[],o=0;o<i;++o){var s=Number(r[o]),c=this.pointerMap[s];s==a.a||this.findTouch_(e,s-2)||n.push(c.out)}for(var h=0;h<n.length;++h)this.cancelOut_(t,n[h])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var r=e,i=this.pointerMap[r.pointerId];if(i){var n=i.out,o=i.outTarget;this.dispatcher.move(r,t),n&&o!==r.target&&(n.relatedTarget=r.target,r.relatedTarget=o,n.target=o,r.target?(this.dispatcher.leaveOut(n,t),this.dispatcher.enterOver(r,t)):(r.target=o,r.relatedTarget=null,this.cancelOut_(t,r))),i.out=r,i.outTarget=r.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,r=t.changedTouches[0];if(this.isPrimaryTouch_(r)){var i=[r.clientX,r.clientY];e.push(i),setTimeout(function(){Object(j.h)(e,i)},this.dedupTimeout_)}},e}(c.a),F=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],G=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(o.f)this.registerSource("native",new x(this));else if(o.e)this.registerSource("ms",new b(this));else{var t=new a.c(this);this.registerSource("mouse",t),o.h&&this.registerSource("touch",new D(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var r=e,i=r.getEvents();i&&(i.forEach(function(t){var e=r.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(r))}.bind(this)),this.eventSourceList_.push(r))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var r=this.eventSourceList_[e];this.addEvents_(r.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var r=this.eventSourceList_[e];this.removeEvents_(r.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,r=this.eventMap_[e];r&&r(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(i.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(i.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var r={},i=0,n=F.length;i<n;i++){var o=F[i][0];r[o]=t[o]||e[o]||F[i][1]}return r},e.prototype.down=function(t,e){this.fireEvent(s.a.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(s.a.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(s.a.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(s.a.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(s.a.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(s.a.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(s.a.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(s.a.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,r){return new M(t,r,e)},e.prototype.fireEvent=function(t,e,r){var i=this.makeEvent(t,e,r);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Object(a.d)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(n.a);e.a=G},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8);e.mouseGraticule={latitude:0,longitude:0},e.setMouseGraticule=function(t){var r=i.toLonLat(t);e.mouseGraticule={latitude:r[1],longitude:r[0]}},e.focusedGZDFeature=null,e.setFocusedGZDFeature=function(t){e.focusedGZDFeature=t},e.focusedIDFeature=null,e.setFocusedIDFeature=function(t){e.focusedIDFeature=t}},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,i,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,i)});case 4:return e.nextTick(function(){t.call(null,r,i,n)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,r(56))},function(t,e,r){var i=r(21).Buffer;function n(t){i.isBuffer(t)||(t=i.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(4*n);return r}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,r,i,n){for(var o,s,a,c,h=r[0],u=r[1],l=r[2],f=r[3],d=t[0]^e[0],p=t[1]^e[1],g=t[2]^e[2],y=t[3]^e[3],_=4,b=1;b<n;b++)o=h[d>>>24]^u[p>>>16&255]^l[g>>>8&255]^f[255&y]^e[_++],s=h[p>>>24]^u[g>>>16&255]^l[y>>>8&255]^f[255&d]^e[_++],a=h[g>>>24]^u[y>>>16&255]^l[d>>>8&255]^f[255&p]^e[_++],c=h[y>>>24]^u[d>>>16&255]^l[p>>>8&255]^f[255&g]^e[_++],d=o,p=s,g=a,y=c;return o=(i[d>>>24]<<24|i[p>>>16&255]<<16|i[g>>>8&255]<<8|i[255&y])^e[_++],s=(i[p>>>24]<<24|i[g>>>16&255]<<16|i[y>>>8&255]<<8|i[255&d])^e[_++],a=(i[g>>>24]<<24|i[y>>>16&255]<<16|i[d>>>8&255]<<8|i[255&p])^e[_++],c=(i[y>>>24]<<24|i[d>>>16&255]<<16|i[p>>>8&255]<<8|i[255&g])^e[_++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var h=a^a<<1^a<<2^a<<3^a<<4;h=h>>>8^255&h^99,r[s]=h,i[h]=s;var u=t[s],l=t[u],f=t[l],d=257*t[h]^16843008*h;n[0][s]=d<<24|d>>>8,n[1][s]=d<<16|d>>>16,n[2][s]=d<<8|d>>>24,n[3][s]=d,d=16843009*f^65537*l^257*u^16843008*s,o[0][h]=d<<24|d>>>8,o[1][h]=d<<16|d>>>16,o[2][h]=d<<8|d>>>24,o[3][h]=d,0===s?s=a=1:(s=u^t[t[t[f^u]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function h(t){this._key=n(t),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=4*(r+1),n=[],o=0;o<e;o++)n[o]=t[o];for(o=e;o<i;o++){var s=n[o-1];o%e==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),n[o]=n[o-e]^s}for(var h=[],u=0;u<i;u++){var l=i-u,f=n[l-(u%4?0:4)];h[u]=u<4||l<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=h},h.prototype.encryptBlockRaw=function(t){return s(t=n(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=i.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},h.prototype.decryptBlock=function(t){var e=(t=n(t))[1];t[1]=t[3],t[3]=e;var r=s(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},h.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=h},function(t,e,r){var i=r(21).Buffer,n=r(137);t.exports=function(t,e,r,o){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=i.alloc(s),c=i.alloc(o||0),h=i.alloc(0);s>0||o>0;){var u=new n;u.update(h),u.update(t),e&&u.update(e),h=u.digest();var l=0;if(s>0){var f=a.length-s;l=Math.min(s,h.length),h.copy(a,f,0,l),s-=l}if(l<h.length&&o>0){var d=c.length-o,p=Math.min(o,h.length-l);h.copy(c,d,l,l+p),o-=p}}return h.fill(0),{key:a,iv:c}}},function(t,e,r){"use strict";var i=r(33),n=r(58),o=n.getNAF,s=n.getJSF,a=n.assert;function c(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),i=o(e,1),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;for(var s=[],c=0;c<i.length;c+=r.step){var h=0;for(e=c+r.step-1;e>=c;e--)h=(h<<1)+i[e];s.push(h)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=n;f>0;f--){for(c=0;c<s.length;c++){(h=s[c])===f?l=l.mixedAdd(r.points[c]):h===-f&&(l=l.mixedAdd(r.points[c].neg()))}u=u.add(l)}return u.toP()},c.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=o(e,r),c=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(e=0;h>=0&&0===s[h];h--)e++;if(h>=0&&e++,c=c.dblp(e),h<0)break;var u=s[h];a(0!==u),c="affine"===t.type?u>0?c.mixedAdd(n[u-1>>1]):c.mixedAdd(n[-u-1>>1].neg()):u>0?c.add(n[u-1>>1]):c.add(n[-u-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,r,i,n){for(var a=this._wnafT1,c=this._wnafT2,h=this._wnafT3,u=0,l=0;l<i;l++){var f=(T=e[l])._getNAFPoints(t);a[l]=f.wnd,c[l]=f.points}for(l=i-1;l>=1;l-=2){var d=l-1,p=l;if(1===a[d]&&1===a[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],_=s(r[d],r[p]);u=Math.max(_[0].length,u),h[d]=new Array(u),h[p]=new Array(u);for(var b=0;b<u;b++){var m=0|_[0][b],v=0|_[1][b];h[d][b]=y[3*(m+1)+(v+1)],h[p][b]=0,c[d]=g}}else h[d]=o(r[d],a[d]),h[p]=o(r[p],a[p]),u=Math.max(h[d].length,u),u=Math.max(h[p].length,u)}var E=this.jpoint(null,null,null),w=this._wnafT4;for(l=u;l>=0;l--){for(var O=0;l>=0;){var S=!0;for(b=0;b<i;b++)w[b]=0|h[b][l],0!==w[b]&&(S=!1);if(!S)break;O++,l--}if(l>=0&&O++,E=E.dblp(O),l<0)break;for(b=0;b<i;b++){var T,C=w[b];0!==C&&(C>0?T=c[b][C-1>>1]:C<0&&(T=c[b][-C-1>>1].neg()),E="affine"===T.type?E.mixedAdd(T):E.add(T))}}for(l=0;l<i;l++)c[l]=null;return n?E:E.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(t){return this.encode(t,!0)},h.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},h.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},h.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},h.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},h.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var o=0;o<t;o++)i=i.dbl();r.push(i)}return{step:t,points:r}},h.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){var i=r(295),n=r(306),o=r(307),s=r(147),a=r(176),c=r(21).Buffer;function h(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var r,h,u=o(t,e),l=u.tag,f=u.data;switch(l){case"CERTIFICATE":h=i.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=i.PublicKey.decode(f,"der")),r=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=i.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+l);case"ENCRYPTED PRIVATE KEY":f=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=n[t.algorithm.decrypt.cipher.algo.join(".")],h=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,f=a.pbkdf2Sync(e,r,i,l,"sha1"),d=s.createDecipheriv(o,f,h),p=[];return p.push(d.update(u)),p.push(d.final()),c.concat(p)}(f=i.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(r=(h=i.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:i.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=i.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+l);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=i.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+l)}}t.exports=h,h.signature=i.signature},function(t,e,r){"use strict";r.r(e);var i,n=r(116),o=r(34),s=r(20),a=r(15),c=r(1),h=r(4),u=function(){if(!i){var t=document.body;t.webkitRequestFullscreen?i="webkitfullscreenchange":t.mozRequestFullScreen?i="mozfullscreenchange":t.msRequestFullscreen?i="MSFullscreenChange":t.requestFullscreen&&(i="fullscreenchange")}return i};function l(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function f(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}var p=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target}),this.cssClassName_=void 0!==r.className?r.className:"ol-full-screen";var i=void 0!==r.label?r.label:"⤢";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var n=void 0!==r.labelActive?r.labelActive:"×";this.labelActiveNode_="string"==typeof n?document.createTextNode(n):n,this.button_=document.createElement("button");var o=r.tipLabel?r.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,f()),this.button_.setAttribute("type","button"),this.button_.title=o,this.button_.appendChild(this.labelNode_),Object(c.a)(this.button_,h.a.CLICK,this.handleClick_,this);var a=this.cssClassName_+" "+s.e+" "+s.b+" "+(l()?"":s.f),u=this.element;u.className=a,u.appendChild(this.button_),this.keys_=void 0!==r.keys&&r.keys,this.source_=r.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(l()){var t,e=this.getMap();if(e)if(f())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():d(t)}(t):d(t)}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();f()?(this.setClassName_(this.button_,!0),Object(a.f)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(a.f)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var r=this.cssClassName_+"-true",i=this.cssClassName_+"-false",n=e?r:i;t.classList.remove(r),t.classList.remove(i),t.classList.add(n)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(c.a)(document,u(),this.handleFullScreenChange_,this))},e}(o.a),g=r(136),y=r(29),_=r(157),b=r(74),m=r(39),v=r(17),E=r(61),w={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},O=r(0),S={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},T=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.d,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(c.a)(this,Object(v.b)(S.ELEMENT),this.handleElementChanged,this),Object(c.a)(this,Object(v.b)(S.MAP),this.handleMapChanged,this),Object(c.a)(this,Object(v.b)(S.OFFSET),this.handleOffsetChanged,this),Object(c.a)(this,Object(v.b)(S.POSITION),this.handlePositionChanged,this),Object(c.a)(this,Object(v.b)(S.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:w.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(S.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(S.MAP)},e.prototype.getOffset=function(){return this.get(S.OFFSET)},e.prototype.getPosition=function(){return this.get(S.POSITION)},e.prototype.getPositioning=function(){return this.get(S.POSITIONING)},e.prototype.handleElementChanged=function(){Object(a.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(a.e)(this.element),Object(c.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(c.a)(t,b.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(S.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(S.ELEMENT,t)},e.prototype.setMap=function(t){this.set(S.MAP,t)},e.prototype.setOffset=function(t){this.set(S.OFFSET,t)},e.prototype.setPosition=function(t){this.set(S.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),i=this.getRect(r,[Object(a.c)(r),Object(a.b)(r)]),n=this.autoPanMargin;if(!Object(O.g)(e,i)){var o=i[0]-e[0],s=e[2]-i[2],c=i[1]-e[1],h=e[3]-i[3],u=[0,0];if(o<0?u[0]=o-n:s<0&&(u[0]=Math.abs(s)+n),c<0?u[1]=c-n:h<0&&(u[1]=Math.abs(h)+n),0!==u[0]||0!==u[1]){var l=t.getView().getCenter(),f=t.getPixelFromCoordinate(l),d=[f[0]+u[0],f[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var r=t.getBoundingClientRect(),i=r.left+window.pageXOffset,n=r.top+window.pageYOffset;return[i,n,i+e[0],n+e[1]]},e.prototype.setPositioning=function(t){this.set(S.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var r=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(r,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var r=this.element.style,i=this.getOffset(),n=this.getPositioning();this.setVisible(!0);var o=i[0],s=i[1];if(n==w.BOTTOM_RIGHT||n==w.CENTER_RIGHT||n==w.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=r.left="");var a=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=a&&(this.rendered.right_=r.right=a)}else{""!==this.rendered.right_&&(this.rendered.right_=r.right=""),n!=w.BOTTOM_CENTER&&n!=w.CENTER_CENTER&&n!=w.TOP_CENTER||(o-=this.element.offsetWidth/2);var c=Math.round(t[0]+o)+"px";this.rendered.left_!=c&&(this.rendered.left_=r.left=c)}if(n==w.BOTTOM_LEFT||n==w.BOTTOM_CENTER||n==w.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=r.top="");var h=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=h&&(this.rendered.bottom_=r.bottom=h)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=r.bottom=""),n!=w.CENTER_LEFT&&n!=w.CENTER_CENTER&&n!=w.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var u=Math.round(t[1]+s)+"px";this.rendered.top_!=u&&(this.rendered.top_=r.top=u)}},e.prototype.getOptions=function(){return this.options},e}(v.a),C=r(32),x=r(12);function R(t){this.validateExtent_(),this.updateBox_()}var I=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||R,target:r.target}),this.collapsed_=void 0===r.collapsed||r.collapsed,this.collapsible_=void 0===r.collapsible||r.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-overviewmap",n=void 0!==r.tipLabel?r.tipLabel:"Overview map",o=void 0!==r.collapseLabel?r.collapseLabel:"«";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var a=void 0!==r.label?r.label:"»";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=n,l.appendChild(u),Object(c.a)(l,h.a.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new _.default({controls:new y.a,interactions:new y.a,view:r.view});var f=this.ovmap_;r.layers&&r.layers.forEach(function(t){f.addLayer(t)}.bind(this));var d=document.createElement("div");d.className="ol-overviewmap-box",d.style.boxSizing="border-box",this.boxOverlay_=new T({position:[0,0],positioning:w.BOTTOM_LEFT,element:d}),this.ovmap_.addOverlay(this.boxOverlay_);var p=i+" "+s.e+" "+s.b+(this.collapsed_&&this.collapsible_?" "+s.a:"")+(this.collapsible_?"":" ol-uncollapsible"),g=this.element;g.className=p,g.appendChild(this.ovmapDiv_),g.appendChild(l);var b=this,m=this.boxOverlay_,v=this.boxOverlay_.getElement(),E=function(t){var e,r={clientX:(e=t).clientX-v.offsetWidth/2,clientY:e.clientY+v.offsetHeight/2},i=f.getEventCoordinate(r);m.setPosition(i)},O=function t(e){var r=f.getEventCoordinate(e);b.getMap().getView().setCenter(r),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",t)};v.addEventListener("mousedown",function(){window.addEventListener("mousemove",E),window.addEventListener("mouseup",O)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var r=this.getMap();if(e!==r){if(r){var i=r.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(c.a)(e,E.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var n=e.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===m.a.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var r=this.getMap().getView();this.bindView_(r)}},e.prototype.bindView_=function(t){Object(c.a)(t,Object(v.b)(C.a.ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){Object(c.c)(t,Object(v.b)(C.a.ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),i=t.getView().calculateExtent(r),n=e.getSize(),o=e.getView().calculateExtent(n),s=e.getPixelFromCoordinate(Object(O.C)(i)),a=e.getPixelFromCoordinate(Object(O.w)(i)),c=Math.abs(s[0]-a[0]),h=Math.abs(s[1]-a[1]),u=n[0],l=n[1];c<.1*u||h<.1*l||c>.75*u||h>.75*l?this.resetExtent_():Object(O.g)(o,i)||this.recenter_()}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getSize(),i=t.getView().calculateExtent(r),n=e.getView(),o=Math.log(7.5)/Math.LN2,s=1/(.1*Math.pow(2,o/2));Object(O.J)(i,s),n.fit(i)},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getView();e.getView().setCenter(r.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),i=t.getView(),n=e.getView(),o=i.getRotation(),s=this.boxOverlay_,a=this.boxOverlay_.getElement(),c=i.calculateExtent(r),h=n.getResolution(),u=Object(O.v)(c),l=Object(O.D)(c),f=this.calculateCoordinateRotate_(o,u);s.setPosition(f),a&&(a.style.width=Math.abs((u[0]-l[0])/h)+"px",a.style.height=Math.abs((l[1]-u[1])/h)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var r,i=this.getMap().getView().getCenter();return i&&(r=[e[0]-i[0],e[1]-i[1]],Object(x.g)(r,t),Object(x.a)(r,i)),r},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.a),this.collapsed_?Object(a.f)(this.collapseLabel_,this.label_):Object(a.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),Object(c.b)(t,b.a.POSTRENDER,function(t){this.updateBox_()},this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(o.a),A=r(119),M=r(13),j=r(8),L=r(28),P="units",N={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},k=[1,2,5];function D(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var F=function(t){function e(e){var r=e||{},i=void 0!==r.className?r.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:r.render||D,target:r.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+s.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==r.minWidth?r.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(c.a)(this,Object(v.b)(P),this.handleUnitsChanged_,this),this.setUnits(r.units||N.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(P)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(P,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,r=t.projection,i=this.getUnits(),n=i==N.DEGREES?L.b.DEGREES:L.b.METERS,o=Object(j.getPointResolution)(r,t.resolution,e,n);r.getUnits()!=L.b.DEGREES&&r.getMetersPerUnit()&&n==L.b.METERS&&(o*=r.getMetersPerUnit());var s=this.minWidth_*o,a="";if(i==N.DEGREES){var c=j.METERS_PER_UNIT[L.b.DEGREES];r.getUnits()==L.b.DEGREES?s*=c:o/=c,s<c/60?(a="″",o*=3600):s<c?(a="′",o*=60):a="°"}else i==N.IMPERIAL?s<.9144?(a="in",o/=.0254):s<1609.344?(a="ft",o/=.3048):(a="mi",o/=1609.344):i==N.NAUTICAL?(o/=1852,a="nm"):i==N.METRIC?s<.001?(a="μm",o*=1e6):s<1?(a="mm",o*=1e3):s<1e3?a="m":(a="km",o/=1e3):i==N.US?s<.9144?(a="in",o*=39.37):s<1609.344?(a="ft",o/=.30480061):(a="mi",o/=1609.3472):Object(M.a)(!1,33);for(var h,u,l=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(h=k[(l%3+3)%3]*Math.pow(10,Math.floor(l/3)),u=Math.round(h/o),isNaN(u))return this.element.style.display="none",void(this.renderedVisible_=!1);if(u>=this.minWidth_)break;++l}var f=h+" "+a;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(o.a),G=r(118),B=r(18),U=r(30),z=r(22),X=r(5),H=r(38),Y=r(108),K={VERTICAL:0,HORIZONTAL:1};function q(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var W=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||q}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=K.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==r.duration?r.duration:200;var i=void 0!==r.className?r.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=i+"-thumb "+s.e;var o=this.element;o.className=i+" "+s.e+" "+s.b,o.appendChild(n),this.dragger_=new Y.a(o),Object(c.a)(this.dragger_,H.a.POINTERDOWN,this.handleDraggerStart_,this),Object(c.a)(this.dragger_,H.a.POINTERMOVE,this.handleDraggerDrag_,this),Object(c.a)(this.dragger_,H.a.POINTERUP,this.handleDraggerEnd_,this),Object(c.a)(o,h.a.CLICK,this.handleContainerClick_,this),Object(c.a)(n,h.a.CLICK,z.b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,r=t.offsetHeight,i=t.firstElementChild,n=getComputedStyle(i),o=i.offsetWidth+parseFloat(n.marginRight)+parseFloat(n.marginLeft),s=i.offsetHeight+parseFloat(n.marginTop)+parseFloat(n.marginBottom);this.thumbSize_=[o,s],e>r?(this.direction_=K.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=K.VERTICAL,this.heightLimit_=r-s),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),r=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(r);e.animate({resolution:e.constrainResolution(i),duration:this.duration_,easing:U.b})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(B.a.INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(c.a)(document,h.a.MOUSEMOVE,e,this),Object(c.a)(document,H.a.POINTERMOVE,e,this),Object(c.a)(document,h.a.MOUSEUP,r,this),Object(c.a)(document,H.a.POINTERUP,r,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,r=t.clientX-this.previousX_+parseFloat(e.style.left),i=t.clientY-this.previousY_+parseFloat(e.style.top),n=this.getRelativePosition_(r,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(B.a.INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:U.b}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(c.e),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),r=this.element.firstElementChild;this.direction_==K.HORIZONTAL?r.style.left=this.widthLimit_*e+"px":r.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var r;return r=this.direction_===K.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Object(X.a)(r,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(o.a),V=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target}),this.extent=r.extent?r.extent:null;var i=void 0!==r.className?r.className:"ol-zoom-extent",n=void 0!==r.label?r.label:"E",o=void 0!==r.tipLabel?r.tipLabel:"Fit to extent",a=document.createElement("button");a.setAttribute("type","button"),a.title=o,a.appendChild("string"==typeof n?document.createTextNode(n):n),Object(c.a)(a,h.a.CLICK,this.handleClick_,this);var u=i+" "+s.e+" "+s.b,l=this.element;l.className=u,l.appendChild(a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fit(e)},e}(o.a),Z=r(117);r.d(e,"Attribution",function(){return n.a}),r.d(e,"Control",function(){return o.a}),r.d(e,"FullScreen",function(){return p}),r.d(e,"MousePosition",function(){return g.default}),r.d(e,"OverviewMap",function(){return I}),r.d(e,"Rotate",function(){return A.a}),r.d(e,"ScaleLine",function(){return F}),r.d(e,"Zoom",function(){return G.a}),r.d(e,"ZoomSlider",function(){return W}),r.d(e,"ZoomToExtent",function(){return V}),r.d(e,"defaults",function(){return Z.a})},function(t,e,r){"use strict";var i=r(10),n=r(34),o=r(20),s=r(15),a=r(1),c=r(4),h=r(69),u=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||l,target:r.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===r.collapsed||r.collapsed,this.overrideCollapsible_=void 0!==r.collapsible,this.collapsible_=void 0===r.collapsible||r.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",n=void 0!==r.tipLabel?r.tipLabel:"Attributions",s=void 0!==r.collapseLabel?r.collapseLabel:"»";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var h=void 0!==r.label?r.label:"i";"string"==typeof h?(this.label_=document.createElement("span"),this.label_.textContent=h):this.label_=h;var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=n,f.appendChild(u),Object(a.a)(f,c.a.CLICK,this.handleClick_,this);var d=i+" "+o.e+" "+o.b+(this.collapsed_&&this.collapsible_?" "+o.a:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=d,p.appendChild(this.ulElement_),p.appendChild(f),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},r=[],i=t.layerStatesArray,n=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(Object(h.b)(a,n)){var c=a.layer.getSource();if(c){var u=c.getAttributions();if(u){var l=u(t);if(l)if(this.overrideCollapsible_||!1!==c.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(l))for(var f=0,d=l.length;f<d;++f)l[f]in e||(r.push(l[f]),e[l[f]]=!0);else l in e||(r.push(l),e[l]=!0)}}}}return r},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),r=e.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(i.b)(e,this.renderedAttributions_)){Object(s.d)(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var a=document.createElement("li");a.innerHTML=e[n],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.a),this.collapsed_?Object(s.f)(this.collapseLabel_,this.label_):Object(s.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(n.a);function l(t){this.updateElement_(t.frameState)}e.a=u},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r(29),n=r(116),o=r(119),s=r(118);function a(t){var e=t||{},r=new i.a;return(void 0===e.zoom||e.zoom)&&r.push(new s.a(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&r.push(new o.a(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&r.push(new n.a(e.attributionOptions)),r}},function(t,e,r){"use strict";var i=r(1),n=r(4),o=r(34),s=r(20),a=r(30),c=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target});var o=void 0!==r.className?r.className:"ol-zoom",a=void 0!==r.delta?r.delta:1,c=void 0!==r.zoomInLabel?r.zoomInLabel:"+",h=void 0!==r.zoomOutLabel?r.zoomOutLabel:"−",u=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",l=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=o+"-in",f.setAttribute("type","button"),f.title=u,f.appendChild("string"==typeof c?document.createTextNode(c):c),Object(i.a)(f,n.a.CLICK,this.handleClick_.bind(this,a));var d=document.createElement("button");d.className=o+"-out",d.setAttribute("type","button"),d.title=l,d.appendChild("string"==typeof h?document.createTextNode(h):h),Object(i.a)(d,n.a.CLICK,this.handleClick_.bind(this,-a));var p=o+" "+s.e+" "+s.b,g=this.element;g.className=p,g.appendChild(f),g.appendChild(d),this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var r=e.getResolution();if(r){var i=e.constrainResolution(r,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:a.b})):e.setResolution(i)}}},e}(o.a);e.a=c},function(t,e,r){"use strict";var i=r(34),n=r(20),o=r(30),s=r(1),a=r(4),c=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||h,target:r.target});var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"⇧";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var c=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=i+"-reset",u.setAttribute("type","button"),u.title=c,u.appendChild(this.label_),Object(s.a)(u,a.a.CLICK,this.handleClick_,this);var l=i+" "+n.e+" "+n.b,f=this.element;f.className=l,f.appendChild(u),this.callResetNorth_=r.resetNorth?r.resetNorth:void 0,this.duration_=void 0!==r.duration?r.duration:250,this.autoHide_=void 0===r.autoHide||r.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(n.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:o.b}):t.setRotation(0))},e}(i.a);function h(t){var e=t.frameState;if(e){var r=e.viewState.rotation;if(r!=this.rotation_){var i="rotate("+r+"rad)";if(this.autoHide_){var o=this.element.classList.contains(n.c);o||0!==r?o&&0!==r&&this.element.classList.remove(n.c):this.element.classList.add(n.c)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=r}}e.a=c},function(t,e,r){"use strict";var i=r(50),n=r(51),o=r(15),s=r(26),a=r(25),c=r(6),h=function(t){function e(e){var r=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,r,i="",a="",h=0,u=null,l=0,f=0;this.stroke_&&(null===(r=this.stroke_.getColor())&&(r=c.k),r=Object(n.a)(r),void 0===(f=this.stroke_.getWidth())&&(f=c.h),u=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),s.a||(u=null,l=0),void 0===(a=this.stroke_.getLineJoin())&&(a=c.g),void 0===(i=this.stroke_.getLineCap())&&(i=c.d),void 0===(h=this.stroke_.getMiterLimit())&&(h=c.i));var d=2*(this.radius_+f)+1,p={strokeStyle:r,strokeWidth:f,size:d,lineCap:i,lineDash:u,lineDashOffset:l,lineJoin:a,miterLimit:h};if(void 0===t){var g=Object(o.a)(d,d);this.canvas_=g.canvas,e=d=this.canvas_.width,this.draw_(p,g,0,0),this.createHitDetectionCanvas_(p)}else{d=Math.round(d);var y,_=!this.fill_;_&&(y=this.drawHitDetectionCanvas_.bind(this,p));var b=this.getChecksum(),m=t.add(b,d,d,this.draw_.bind(this,p),y);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,_?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,r,i){var o,s,a;e.setTransform(1,0,0,1,0,0),e.translate(r,i),e.beginPath();var h=this.points_;if(h===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(h*=2),o=0;o<=h;o++)s=2*o*Math.PI/h-Math.PI/2+this.angle_,a=o%2==0?this.radius_:u,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=c.b),e.fillStyle=Object(n.a)(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,r,n){e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,h,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(o*=2),s=0;s<=o;s++)h=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:u,e.lineTo(t.size/2+a*Math.cos(h),t.size/2+a*Math.sin(h))}e.fillStyle=Object(i.b)(c.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var r="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[r,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(r(89).a);e.a=h},function(t,e,r){"use strict";r.r(e);var i=r(29),n=function(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0};n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var r=e-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[e+2]-this.points_[r+2];if(i<1e3/60)return!1;var n=this.points_[e]-this.points_[r],o=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(o,n),this.initialVelocity_=Math.sqrt(n*n+o*o)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_};var o=n,s=r(16),a=r(17),c=r(30),h={ACTIVE:"active"},u=r(5);function l(t,e,r,i){e=t.constrainRotation(e,0),f(t,e,r,i)}function f(t,e,r,i){if(void 0!==e){var n=t.getRotation(),o=t.getCenter();void 0!==n&&o&&i>0?t.animate({rotation:e,anchor:r,duration:i,easing:c.b}):t.rotate(e,r)}}function d(t,e,r,i,n){e=t.constrainResolution(e,0,n),g(t,e,r,i)}function p(t,e,r,i){var n=t.getResolution(),o=t.constrainResolution(n,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(u.a)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(r&&void 0!==o&&o!==n){var a=t.getCenter(),c=t.calculateCenterZoom(o,r);c=t.constrainCenter(c),r=[(o*a[0]-n*c[0])/(o-n),(o*a[1]-n*c[1])/(o-n)]}g(t,o,r,i)}function g(t,e,r,i){if(e){var n=t.getResolution(),o=t.getCenter();if(void 0!==n&&o&&e!==n&&i)t.animate({resolution:e,anchor:r,duration:i,easing:c.b});else{if(r){var s=t.calculateCenterZoom(e,r);t.setCenter(s)}t.setResolution(e)}}}var y=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(h.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(h.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(a.a);function _(t){var e=!1;if(t.type==s.a.DBLCLICK){var r=t.originalEvent,i=t.map,n=t.coordinate,o=r.shiftKey?-this.delta_:this.delta_;p(i.getView(),o,n,this.duration_),t.preventDefault(),e=!0}return!e}var b=function(t){function e(e){t.call(this,{handleEvent:_});var r=e||{};this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(y),m=r(18),v=r(12),E=r(13),w=r(14),O=r(26),S=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},T=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},C=function(t){return t.target.getTargetElement()===document.activeElement},x=w.b,R=function(t){var e=t.originalEvent;return 0==e.button&&!(O.i&&O.d&&e.ctrlKey)},I=w.a,A=function(t){return"pointermove"==t.type},M=function(t){return t.type==s.a.SINGLECLICK},j=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},L=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},P=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},N=function(t){var e=t.pointerEvent;return Object(E.a)(void 0!==e,56),"mouse"==e.pointerType},k=function(t){var e=t.pointerEvent;return Object(E.a)(void 0!==e,56),e.isPrimary&&0===e.button},D=r(11);function F(t){for(var e=t.length,r=0,i=0,n=0;n<e;n++)r+=t[n].clientX,i+=t[n].clientY;return[r/e,i/e]}var G=function(t){function e(e){var r=e||{};t.call(this,r),r.handleDownEvent&&(this.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(this.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(this.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(this.handleUpEvent=r.handleUpEvent),r.stopDown&&(this.stopDown=r.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==s.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==s.a.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==s.a.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==s.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===s.a.POINTERDOWN||e===s.a.POINTERDRAG||e===s.a.POINTERUP}(t)){var e=t.pointerEvent,r=e.pointerId.toString();t.type==s.a.POINTERUP?delete this.trackedPointers_[r]:t.type==s.a.POINTERDOWN?this.trackedPointers_[r]=e:r in this.trackedPointers_&&(this.trackedPointers_[r]=e),this.targetPointers=Object(D.c)(this.trackedPointers_)}},e}(y),B=function(t){function e(e){t.call(this,{stopDown:w.a});var r=e||{};this.kinetic_=r.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=r.condition?r.condition:j,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(m.a.INTERACTING,1));var e=this.targetPointers,r=F(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var i=this.lastCentroid[0]-r[0],n=r[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,n];Object(v.h)(s,o.getResolution()),Object(v.g)(s,o.getRotation()),Object(v.a)(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,r=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=r.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(n),s[1]-i*Math.sin(n)]);r.animate({center:r.constrainCenter(a),duration:500,easing:c.b})}return this.panning_&&(this.panning_=!1,r.setHint(m.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(G),U=r(63),z=function(t){function e(e){var r=e||{};t.call(this,{stopDown:w.a}),this.condition_=r.condition?r.condition:T,this.lastAngle_=void 0,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(N(t)){var e=t.map,r=e.getView();if(r.getConstraints().rotation!==U.c){var i=e.getSize(),n=t.pixel,o=Math.atan2(i[1]/2-n[1],n[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=r.getRotation();f(r,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!N(t))return!0;var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var r=e.getRotation();return l(e,r,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!N(t)&&(!(!R(t)||!this.condition_(t))&&(t.map.getView().setHint(m.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(G),X=r(0),H=r(22),Y=r(90),K=r(35),q=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,r=this.element_.style;r.left=Math.min(t[0],e[0])+"px",r.top=Math.min(t[1],e[1])+"px",r.width=Math.abs(e[0]-t[0])+"px",r.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,r=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new K.a([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(Y.a),W="boxstart",V="boxdrag",Z="boxend",J=function(t){function e(e,r,i){t.call(this,e),this.coordinate=r,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a),$=function(t){function e(e){t.call(this);var r=e||{};this.box_=new q(r.className||"ol-dragbox"),this.minArea_=void 0!==r.minArea?r.minArea:64,this.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:w.c,this.startPixel_=null,this.condition_=r.condition?r.condition:x,this.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,r){var i=r[0]-e[0],n=r[1]-e[1];return i*i+n*n>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){N(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new J(V,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!N(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new J(Z,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!N(t)&&(!(!R(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new J(W,t.coordinate,t)),!0))},e}(G);function Q(){var t=this.getMap(),e=t.getView(),r=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var n=e.calculateExtent(r),o=Object(X.n)([t.getPixelFromCoordinate(Object(X.v)(i)),t.getPixelFromCoordinate(Object(X.D)(i))]),s=e.getResolutionForExtent(o,r);Object(X.J)(n,1/s),i=n}var a=e.constrainResolution(e.getResolutionForExtent(i,r)),h=Object(X.x)(i);h=e.constrainCenter(h),e.animate({resolution:a,center:h,duration:this.duration_,easing:c.b})}var tt=function(t){function e(e){var r=e||{},i=r.condition?r.condition:L;t.call(this,{condition:i,className:r.className||"ol-dragzoom",onBoxEnd:Q}),this.duration_=void 0!==r.duration?r.duration:200,this.out_=void 0!==r.out&&r.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($),et=r(4),rt={LEFT:37,UP:38,RIGHT:39,DOWN:40};function it(t){var e=!1;if(t.type==et.a.KEYDOWN){var r=t.originalEvent.keyCode;if(this.condition_(t)&&(r==rt.DOWN||r==rt.LEFT||r==rt.RIGHT||r==rt.UP)){var i=t.map.getView(),n=i.getResolution()*this.pixelDelta_,o=0,s=0;r==rt.DOWN?s=-n:r==rt.LEFT?o=-n:r==rt.RIGHT?o=n:s=n;var a=[o,s];Object(v.g)(a,i.getRotation()),function(t,e,r){var i=t.getCenter();if(i){var n=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);r?t.animate({duration:r,easing:c.d,center:n}):t.setCenter(n)}}(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var nt=function(t){function e(e){t.call(this,{handleEvent:it});var r=e||{};this.defaultCondition_=function(t){return j(t)&&P(t)},this.condition_=void 0!==r.condition?r.condition:this.defaultCondition_,this.duration_=void 0!==r.duration?r.duration:100,this.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(y);function ot(t){var e=!1;if(t.type==et.a.KEYDOWN||t.type==et.a.KEYPRESS){var r=t.originalEvent.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,n=r=="+".charCodeAt(0)?this.delta_:-this.delta_;p(i.getView(),n,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var st=function(t){function e(e){t.call(this,{handleEvent:ot});var r=e||{};this.condition_=r.condition?r.condition:P,this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(y),at="trackpad",ct="wheel",ht=function(t){function e(e){var r=e||{};t.call(this,r),this.delta_=0,this.duration_=void 0!==r.duration?r.duration:250,this.timeout_=void 0!==r.timeout?r.timeout:80,this.useAnchor_=void 0===r.useAnchor||r.useAnchor,this.constrainResolution_=r.constrainResolution||!1,this.condition_=r.condition?r.condition:x,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(m.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==et.a.WHEEL&&e!==et.a.MOUSEWHEEL)return!0;t.preventDefault();var r,i=t.map,n=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==et.a.WHEEL?(r=n.deltaY,O.c&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=O.b),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)):t.type==et.a.MOUSEWHEEL&&(r=-n.wheelDeltaY,O.g&&(r/=3)),0===r)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?at:ct),this.mode_===at){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(m.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,r/this.trackpadDeltaPerZoom_),h=s.getMinResolution(),u=s.getMaxResolution(),l=0;if(a<h?(a=Math.max(a,h/this.trackpadZoomBuffer_),l=1):a>u&&(a=Math.min(a,u*this.trackpadZoomBuffer_),l=-1),this.lastAnchor_){var f=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(f))}return s.setResolution(a),0===l&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,r>0?-1:1),easing:c.b,anchor:this.lastAnchor_,duration:this.duration_}),l>0?s.animate({resolution:h,easing:c.b,anchor:this.lastAnchor_,duration:500}):l<0&&s.animate({resolution:u,easing:c.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=r;var d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();p(e,-Object(u.a)(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(y),ut=function(t){function e(e){var r=e||{},i=r;i.stopDown||(i.stopDown=w.a),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==r.threshold?r.threshold:.3,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,r=this.targetPointers[0],i=this.targetPointers[1],n=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){var o=n-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=n;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==U.c){var c=s.getViewport().getBoundingClientRect(),h=F(this.targetPointers);if(h[0]-=c.left,h[1]-=c.top,this.anchor_=s.getCoordinateFromPixel(h),this.rotating_){var u=a.getRotation();s.render(),f(a,u+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(m.a.INTERACTING,-1),this.rotating_){var r=e.getRotation();l(e,r,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(m.a.INTERACTING,1),!0}return!1},e}(G),lt=function(t){function e(e){var r=e||{},i=r;i.stopDown||(i.stopDown=w.a),t.call(this,i),this.constrainResolution_=r.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==r.duration?r.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,r=this.targetPointers[0],i=this.targetPointers[1],n=r.clientX-i.clientX,o=r.clientY-i.clientY,s=Math.sqrt(n*n+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,c=a.getView(),h=c.getResolution(),u=c.getMaxResolution(),l=c.getMinResolution(),f=h*e;f>u?(e=u/h,f=u):f<l&&(e=l/h,f=l),1!=e&&(this.lastScaleDelta_=e);var d=a.getViewport().getBoundingClientRect(),p=F(this.targetPointers);p[0]-=d.left,p[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(p),a.render(),g(c,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var r=e.getResolution();if(this.constrainResolution_||r<e.getMinResolution()||r>e.getMaxResolution()){var i=this.lastScaleDelta_-1;d(e,r,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(m.a.INTERACTING,1),!0}return!1},e}(G),ft=r(1),dt=r(8),pt="addfeatures",gt=function(t){function e(e,r,i,n){t.call(this,e),this.features=i,this.file=r,this.projection=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a);function yt(t){for(var e=t.dataTransfer.files,r=0,i=e.length;r<i;++r){var n=e.item(r),o=new FileReader;o.addEventListener(et.a.LOAD,this.handleResult_.bind(this,n)),o.readAsText(n)}}function _t(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var bt=function(t){function e(e){var r=e||{};t.call(this,{handleEvent:w.b}),this.formatConstructors_=r.formatConstructors?r.formatConstructors:[],this.projection_=r.projection?Object(dt.get)(r.projection):null,this.dropListenKeys_=null,this.source_=r.source||null,this.target=r.target?r.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var r=e.target.result,i=this.getMap(),n=this.projection_;n||(n=i.getView().getProjection());for(var o=this.formatConstructors_,s=[],a=0,c=o.length;a<c;++a){var h=new o[a];if((s=this.tryReadFeatures_(h,r,{featureProjection:n}))&&s.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new gt(pt,t,s,n))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(ft.a)(e,et.a.DROP,yt,this),Object(ft.a)(e,et.a.DRAGENTER,_t,this),Object(ft.a)(e,et.a.DRAGOVER,_t,this),Object(ft.a)(e,et.a.DROP,_t,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(ft.e),this.dropListenKeys_=null)},e}(y),mt=function(t){function e(e){var r=e||{};t.call(this,r),this.condition_=r.condition?r.condition:L,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==r.duration?r.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(N(t)){var e=t.map,r=e.getSize(),i=t.pixel,n=i[0]-r[0]/2,o=r[1]/2-i[1],s=Math.atan2(o,n),a=Math.sqrt(n*n+o*o),c=e.getView();if(c.getConstraints().rotation!==U.c&&void 0!==this.lastAngle_){var h=s-this.lastAngle_;f(c,c.getRotation()-h)}if(this.lastAngle_=s,void 0!==this.lastMagnitude_){var u=this.lastMagnitude_*(c.getResolution()/a);g(c,u)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},e.prototype.handleUpEvent=function(t){if(!N(t))return!0;var e=t.map.getView();e.setHint(m.a.INTERACTING,-1);var r=this.lastScaleDelta_-1;return l(e,e.getRotation()),d(e,e.getResolution(),void 0,this.duration_,r),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!N(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(m.a.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(G),vt=r(54),Et=r(75),wt=r(2),Ot=r(37),St=r(42),Tt=function(t){function e(e,r,i){if(t.call(this),void 0!==i&&void 0===r)this.setFlatCoordinates(i,e);else{var n=r||0;this.setCenterAndRadius(e,n,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,r,i){var n=this.flatCoordinates,o=t-n[0],s=e-n[1],a=o*o+s*s;if(a<i){if(0===a)for(var c=0;c<this.stride;++c)r[c]=n[c];else{var h=this.getRadius()/Math.sqrt(a);r[0]=n[0]+h*o,r[1]=n[1]+h*s;for(var u=2;u<this.stride;++u)r[u]=n[u]}return r.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,i=t-r[0],n=e-r[1];return i*i+n*n<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return Object(X.k)(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return wt.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(X.F)(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||Object(X.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+r;for(var n=1;n<e;++n)i[e+n]=t[n];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,n=Object(St.a)(i,0,t,this.stride);i[n++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[n++]=i[o];i.length=n,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(Ot.a);Tt.prototype.transform;var Ct=Tt,xt=r(64),Rt=r(133),It=r(93),At=r(135),Mt=r(79),jt=r(41),Lt=r(67),Pt=r(68),Nt=r(48),kt={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Dt="drawstart",Ft="drawend",Gt=function(t){function e(e,r){t.call(this,e),this.feature=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a);var Bt=function(t){function e(e){var r=e;r.stopDown||(r.stopDown=w.a),t.call(this,r),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===wt.a.POINT||t===wt.a.MULTI_POINT?e=kt.POINT:t===wt.a.LINE_STRING||t===wt.a.MULTI_LINE_STRING?e=kt.LINE_STRING:t===wt.a.POLYGON||t===wt.a.MULTI_POLYGON?e=kt.POLYGON:t===wt.a.CIRCLE&&(e=kt.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===kt.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:w.b;var i,n=e.geometryFunction;if(!n)if(this.type_===wt.a.CIRCLE)n=function(t,e){var r=e||new Ct([NaN,NaN]),i=Object(v.i)(t[0],t[1]);return r.setCenterAndRadius(t[0],Math.sqrt(i)),r};else{var o,s=this.mode_;s===kt.POINT?o=jt.a:s===kt.LINE_STRING?o=xt.a:s===kt.POLYGON&&(o=K.a),n=function(t,e){var r=e;return r?s===kt.POLYGON?t[0].length?r.setCoordinates([t[0].concat([t[0][0]])]):r.setCoordinates([]):r.setCoordinates(t):r=new o(t),r}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Lt.default({source:new Pt.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=Object(Nt.b)(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:j,this.freehandCondition_,e.freehand?this.freehandCondition_=x:this.freehandCondition_=e.freehandCondition?e.freehandCondition:L,Object(ft.a)(this,Object(a.b)(h.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===et.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==kt.POINT&&this.freehandCondition_(e);var r=e.type===s.a.POINTERMOVE,i=!0;!this.freehand_&&this.lastDragTime_&&e.type===s.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===s.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===s.a.POINTERDOWN?i=!1:r?(i=e.type===s.a.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):(e.pointerEvent.pointerType==Mt.b||e.type===s.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===s.a.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Et.a(s.a.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var r=this.mode_===kt.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===kt.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,i=e[0]-r[0],n=e[1]-r[1],o=i*i+n*n;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,i=[this.finishCoordinate_];if(this.mode_===kt.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===kt.POLYGON){var n=this.sketchCoords_;r=n[0].length>this.minPoints_,i=[n[0][0],n[0][n[0].length-2]]}if(r)for(var o=t.map,s=0,a=i.length;s<a;s++){var c=i[s],h=o.getPixelFromCoordinate(c),u=t.pixel,l=u[0]-h[0],f=u[1]-h[1],d=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(l*l+f*f)<=d){this.finishCoordinate_=c;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new vt.a(new jt.a(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===kt.POINT?this.sketchCoords_=e.slice():this.mode_===kt.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new vt.a(new xt.a(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new vt.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new Gt(Dt,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,i,n=t.coordinate,o=this.sketchFeature_.getGeometry();(this.mode_===kt.POINT?r=this.sketchCoords_:this.mode_===kt.POLYGON?(r=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(n=this.finishCoordinate_.slice())):r=(e=this.sketchCoords_)[e.length-1],r[0]=n[0],r[1]=n[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(n);if(o.getType()==wt.a.POLYGON&&this.mode_!==kt.POLYGON){this.sketchLine_||(this.sketchLine_=new vt.a);var s=o.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),i.changed()):(i=new xt.a(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,i=t.coordinate,n=this.sketchFeature_.getGeometry();this.mode_===kt.LINE_STRING?(this.finishCoordinate_=i.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(i.slice()),this.geometryFunction_(r,n)):this.mode_===kt.POLYGON&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(i.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,n)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===kt.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===kt.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry();this.mode_===kt.LINE_STRING?(e.pop(),this.geometryFunction_(e,r)):this.mode_===kt.POLYGON&&(e[0].pop(),this.geometryFunction_(e,r),e=r.getCoordinates()),this.type_===wt.a.MULTI_POINT?t.setGeometry(new It.a([e])):this.type_===wt.a.MULTI_LINE_STRING?t.setGeometry(new Rt.a([e])):this.type_===wt.a.MULTI_POLYGON&&t.setGeometry(new At.a([e])),this.dispatchEvent(new Gt(Ft,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new Gt(Dt,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(G),Ut={EXTENTCHANGED:"extentchanged"},zt=function(t){function e(e){t.call(this,Ut.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a);function Xt(){var t=Object(Nt.b)();return function(e,r){return t[wt.a.POINT]}}function Ht(t){return function(e){return Object(X.b)([t,e])}}function Yt(t,e){return t[0]==e[0]?function(r){return Object(X.b)([t,[r[0],e[1]]])}:t[1]==e[1]?function(r){return Object(X.b)([t,[e[0],r[1]]])}:null}var Kt=function(t){function e(e){var r,i=e||{};t.call(this,i),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new Lt.default({source:new Pt.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:(r=Object(Nt.b)(),function(t,e){return r[wt.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new Lt.default({source:new Pt.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:Xt(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var r=e.getCoordinateFromPixel(t),i=this.getExtent();if(i){var n=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(i);n.sort(function(t,e){return Object(v.j)(r,t)-Object(v.j)(r,e)});var o=n[0],s=Object(v.c)(r,o),a=e.getPixelFromCoordinate(s);if(Object(v.e)(t,a)<=this.pixelTolerance_){var c=e.getPixelFromCoordinate(o[0]),h=e.getPixelFromCoordinate(o[1]),u=Object(v.i)(a,c),l=Object(v.i)(a,h),f=Math.sqrt(Math.min(u,l));return this.snappedToVertex_=f<=this.pixelTolerance_,this.snappedToVertex_&&(s=u>l?o[1]:o[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,r=t.map,i=this.snapToVertex_(e,r);i||(i=r.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(i)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(K.c)(t)):e.setGeometry(void 0):(e=t?new vt.a(Object(K.c)(t)):new vt.a({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new vt.a(new jt.a(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,r=t.map,i=this.getExtent(),n=this.snapToVertex_(e,r),o=function(t){var e=null,r=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?r=i[3]:t[1]==i[3]&&(r=i[1]),null!==e&&null!==r?[e,r]:null};if(n&&i){var s=n[0]==i[0]||n[0]==i[2]?n[0]:null,a=n[1]==i[1]||n[1]==i[3]?n[1]:null;null!==s&&null!==a?this.pointerHandler_=Ht(o(n)):null!==s?this.pointerHandler_=Yt(o([s,i[1]]),o([s,i[3]])):null!==a&&(this.pointerHandler_=Yt(o([i[0],a]),o([i[2],a])))}else n=r.getCoordinateFromPixel(e),this.setExtent([n[0],n[1],n[0],n[1]]),this.pointerHandler_=Ht(n);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==Object(X.u)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new zt(this.extent_))},e}(G),qt=r(3),Wt=r(27),Vt=r(10),Zt=r(52),Jt=r(83),$t=1,Qt="modifystart",te="modifyend",ee=function(t){function e(e,r,i){t.call(this,e),this.features=r,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a);function re(t,e){return t.index-e.index}function ie(t,e){var r=e.geometry;if(r.getType()===wt.a.CIRCLE){var i=r;if(e.index===$t){var n=Object(v.i)(i.getCenter(),t),o=Math.sqrt(n)-i.getRadius();return o*o}}return Object(v.j)(t,e.segment)}function ne(t,e){var r=e.geometry;return r.getType()===wt.a.CIRCLE&&e.index===$t?r.getClosestPoint(t):Object(v.c)(t,e.segment)}var oe=function(t){function e(e){var r,n;if(t.call(this,e),this.condition_=e.condition?e.condition:k,this.defaultDeleteCondition_=function(t){return S(t)&&M(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:x,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new Jt.a,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new Lt.default({source:new Pt.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(r=Object(Nt.b)(),function(t,e){return r[wt.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,n=new i.a(this.source_.getFeatures()),Object(ft.a)(this.source_,Zt.a.ADDFEATURE,this.handleSourceAdd_,this),Object(ft.a)(this.source_,Zt.a.REMOVEFEATURE,this.handleSourceRemove_,this)):n=e.features,!n)throw new Error("The modify interaction requires features or a source");this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),Object(ft.a)(this.features_,Wt.a.ADD,this.handleFeatureAdd_,this),Object(ft.a)(this.features_,Wt.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),Object(ft.a)(t,et.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new ee(Qt,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(ft.c)(t,et.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,r=[];e.forEach(function(e){t===e.feature&&r.push(e)});for(var i=r.length-1;i>=0;--i)e.remove(r[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),i={feature:t,geometry:e,segment:[r,r]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert(Object(X.b)(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),h={feature:t,geometry:e,depth:[i],index:s,segment:c};this.rBush_.insert(Object(X.b)(c),h)}},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),h={feature:t,geometry:e,depth:[i],index:s,segment:c};this.rBush_.insert(Object(X.b)(c),h)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length;s<a;++s)for(var c=o[s],h=0,u=c.length-1;h<u;++h){var l=c.slice(h,h+2),f={feature:t,geometry:e,depth:[s,i],index:h,segment:l};this.rBush_.insert(Object(X.b)(l),f)}},e.prototype.writeCircleGeometry_=function(t,e){var r=e.getCenter(),i={feature:t,geometry:e,index:0,segment:[r,r]},n={feature:t,geometry:e,index:$t,segment:[r,r]},o=[i,n];i.featureSegments=n.featureSegments=o,this.rBush_.insert(Object(X.m)(r),i),this.rBush_.insert(e.getExtent(),n)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,t,r[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new vt.a(new jt.a(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(r=!(e.type!=s.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!r);var r},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){for(var n=this.dragSegments_[r],o=n[0],s=o.depth,a=o.geometry,c=void 0,h=o.segment,u=n[1];e.length<a.getStride();)e.push(h[u][e.length]);switch(a.getType()){case wt.a.POINT:c=e,h[0]=h[1]=e;break;case wt.a.MULTI_POINT:(c=a.getCoordinates())[o.index]=e,h[0]=h[1]=e;break;case wt.a.LINE_STRING:(c=a.getCoordinates())[o.index+u]=e,h[u]=e;break;case wt.a.MULTI_LINE_STRING:case wt.a.POLYGON:(c=a.getCoordinates())[s[0]][o.index+u]=e,h[u]=e;break;case wt.a.MULTI_POLYGON:(c=a.getCoordinates())[s[1]][s[0]][o.index+u]=e,h[u]=e;break;case wt.a.CIRCLE:h[0]=h[1]=e,0===o.index?(this.changingFeature_=!0,a.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,a.setRadius(Object(v.e)(a.getCenter(),e)),this.changingFeature_=!1)}c&&this.setGeometryCoordinates_(a,c)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var i=[],n=r.getGeometry().getCoordinates(),o=Object(X.b)([n]),s=this.rBush_.getInExtent(o),a={};s.sort(re);for(var c=0,h=s.length;c<h;++c){var u=s[c],l=u.segment,f=Object(qt.c)(u.feature),d=u.depth;if(d&&(f+="-"+d.join("-")),a[f]||(a[f]=new Array(2)),u.geometry.getType()===wt.a.CIRCLE&&u.index===$t){var p=ne(e,u);Object(v.f)(p,n)&&!a[f][0]&&(this.dragSegments_.push([u,0]),a[f][0]=u)}else if(Object(v.f)(l[0],n)&&!a[f][0])this.dragSegments_.push([u,0]),a[f][0]=u;else if(Object(v.f)(l[1],n)&&!a[f][1]){if((u.geometry.getType()===wt.a.LINE_STRING||u.geometry.getType()===wt.a.MULTI_LINE_STRING)&&a[f][0]&&0===a[f][0].index)continue;this.dragSegments_.push([u,1]),a[f][1]=u}else this.insertVertexCondition_(t)&&Object(qt.c)(l)in this.vertexSegments_&&!a[f][0]&&!a[f][1]&&i.push([u,n])}i.length&&this.willModifyFeatures_(t);for(var g=i.length-1;g>=0;--g)this.insertVertex_.apply(this,i[g])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var r=this.dragSegments_[e][0],i=r.geometry;if(i.getType()===wt.a.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],s=r.featureSegments[1];o.segment[0]=o.segment[1]=n,s.segment[0]=s.segment[1]=n,this.rBush_.update(Object(X.m)(n),o),this.rBush_.update(i.getExtent(),s)}else this.rBush_.update(Object(X.b)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new ee(te,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var r=e.getCoordinateFromPixel(t),i=Object(X.c)(Object(X.m)(r),e.getView().getResolution()*this.pixelTolerance_),n=this.rBush_.getInExtent(i);if(n.length>0){n.sort(function(t,e){return ie(r,t)-ie(r,e)});var o=n[0],s=o.segment,a=ne(r,o),c=e.getPixelFromCoordinate(a),h=Object(v.e)(t,c);if(h<=this.pixelTolerance_){var u={};if(o.geometry.getType()===wt.a.CIRCLE&&o.index===$t)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(a);else{var l=e.getPixelFromCoordinate(s[0]),f=e.getPixelFromCoordinate(s[1]),d=Object(v.i)(c,l),p=Object(v.i)(c,f);h=Math.sqrt(Math.min(d,p)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(a=d>p?s[1]:s[0]),this.createOrUpdateVertexFeature_(a);for(var g=1,y=n.length;g<y;++g){var _=n[g].segment;if(!(Object(v.f)(s[0],_[0])&&Object(v.f)(s[1],_[1])||Object(v.f)(s[0],_[1])&&Object(v.f)(s[1],_[0])))break;u[Object(qt.c)(_)]=!0}}return u[Object(qt.c)(s)]=!0,void(this.vertexSegments_=u)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var r,i=t.segment,n=t.feature,o=t.geometry,s=t.depth,a=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case wt.a.MULTI_LINE_STRING:case wt.a.POLYGON:(r=o.getCoordinates())[s[0]].splice(a+1,0,e);break;case wt.a.MULTI_POLYGON:(r=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,e);break;case wt.a.LINE_STRING:(r=o.getCoordinates()).splice(a+1,0,e);break;default:return}this.setGeometryCoordinates_(o,r);var c=this.rBush_;c.remove(t),this.updateSegmentIndices_(o,a,s,1);var h={segment:[i[0],e],feature:n,geometry:o,depth:s,index:a};c.insert(Object(X.b)(h.segment),h),this.dragSegments_.push([h,1]);var u={segment:[e,i[1]],feature:n,geometry:o,depth:s,index:a+1};c.insert(Object(X.b)(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.a.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new ee(te,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,r,i,n,o,s,a,c,h,u,l=this.dragSegments_,f={},d=!1;for(n=l.length-1;n>=0;--n)h=(r=l[n])[0],u=Object(qt.c)(h.feature),h.depth&&(u+="-"+h.depth.join("-")),u in f||(f[u]={}),0===r[1]?(f[u].right=h,f[u].index=h.index):1==r[1]&&(f[u].left=h,f[u].index=h.index+1);for(u in f){switch(c=f[u].right,s=f[u].left,(a=(o=f[u].index)-1)<0&&(a=0),t=e=(i=(h=void 0!==s?s:c).geometry).getCoordinates(),d=!1,i.getType()){case wt.a.MULTI_LINE_STRING:e[h.depth[0]].length>2&&(e[h.depth[0]].splice(o,1),d=!0);break;case wt.a.LINE_STRING:e.length>2&&(e.splice(o,1),d=!0);break;case wt.a.MULTI_POLYGON:t=t[h.depth[1]];case wt.a.POLYGON:(t=t[h.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),d=!0,0===o&&(t.pop(),t.push(t[0]),a=t.length-1))}if(d){this.setGeometryCoordinates_(i,e);var p=[];if(void 0!==s&&(this.rBush_.remove(s),p.push(s.segment[0])),void 0!==c&&(this.rBush_.remove(c),p.push(c.segment[1])),void 0!==s&&void 0!==c){var g={depth:h.depth,feature:h.feature,geometry:h.geometry,index:a,segment:p};this.rBush_.insert(Object(X.b)(g.segment),g)}this.updateSegmentIndices_(i,o,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),l.length=0}}return d},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,r,i){this.rBush_.forEachInExtent(t.getExtent(),function(n){n.geometry===t&&(void 0===r||void 0===n.depth||Object(Vt.b)(n.depth,r))&&n.index>e&&(n.index+=i)})},e}(G),se={SELECT:"select"},ae=function(t){function e(e,r,i,n){t.call(this,e),this.selected=r,this.deselected=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a);function ce(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),r=this.removeCondition_(t),i=this.toggleCondition_(t),n=!e&&!r&&!i,o=t.map,s=this.getFeatures(),a=[],c=[];if(n){Object(D.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return c.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.getLength()-1;h>=0;--h){var u=s.item(h),l=c.indexOf(u);l>-1?c.splice(l,1):(s.remove(u),a.push(u))}0!==c.length&&s.extend(c)}else{o.forEachFeatureAtPixel(t.pixel,function(t,n){if(this.filter_(t,n))return!e&&!i||Object(Vt.d)(s.getArray(),t)?(r||i)&&Object(Vt.d)(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(c.push(t),this.addFeatureLayerAssociation_(t,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=a.length-1;f>=0;--f)s.remove(a[f]);s.extend(c)}return(c.length>0||a.length>0)&&this.dispatchEvent(new ae(se.SELECT,c,a,t)),A(t)}function he(){var t=Object(Nt.b)();return Object(Vt.c)(t[wt.a.POLYGON],t[wt.a.LINE_STRING]),Object(Vt.c)(t[wt.a.GEOMETRY_COLLECTION],t[wt.a.LINE_STRING]),function(e,r){return e.getGeometry()?t[e.getGeometry().getType()]:null}}var ue=function(t){function e(e){t.call(this,{handleEvent:ce});var r=e||{};this.condition_=r.condition?r.condition:M,this.addCondition_=r.addCondition?r.addCondition:I,this.removeCondition_=r.removeCondition?r.removeCondition:I,this.toggleCondition_=r.toggleCondition?r.toggleCondition:L,this.multi_=!!r.multi&&r.multi,this.filter_=r.filter?r.filter:w.b,this.hitTolerance_=r.hitTolerance?r.hitTolerance:0;var i,n=new Lt.default({source:new Pt.default({useSpatialIndex:!1,features:r.features,wrapX:r.wrapX}),style:r.style?r.style:he(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=n,r.layers)if("function"==typeof r.layers)i=r.layers;else{var o=r.layers;i=function(t){return Object(Vt.d)(o,t)}}else i=w.b;this.layerFilter_=i,this.featureLayerAssociation_={};var s=this.getFeatures();Object(ft.a)(s,Wt.a.ADD,this.addFeature_,this),Object(ft.a)(s,Wt.a.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(qt.c)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(qt.c)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap(),i=this.getFeatures();r&&i.forEach(r.unskipFeature.bind(r)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&i.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(qt.c)(t)]},e}(y);function le(t){return t.feature?t.feature:t.element?t.element:void 0}var fe=function(t){function e(e){var r=e||{},i=r;i.handleDownEvent||(i.handleDownEvent=w.b),i.stopDown||(i.stopDown=w.a),t.call(this,i),this.source_=r.source?r.source:null,this.vertex_=void 0===r.vertex||r.vertex,this.edge_=void 0===r.edge||r.edge,this.features_=r.features?r.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,this.sortByDistance_=function(t,e){var r=Object(v.j)(this.pixelCoordinate_,t.segment),i=Object(v.j)(this.pixelCoordinate_,e.segment);return r-i}.bind(this),this.rBush_=new Jt.a,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var r=void 0===e||e,i=Object(qt.c)(t),n=t.getGeometry();if(n){var o=this.SEGMENT_WRITERS_[n.getType()];o&&(this.indexedFeaturesExtents_[i]=n.getExtent(Object(X.j)()),o.call(this,t,n))}r&&(this.featureChangeListenerKeys_[i]=Object(ft.a)(t,et.a.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var r=this.snapTo(e.pixel,e.coordinate,e.map);return r.snapped&&(e.coordinate=r.vertex.slice(0,2),e.pixel=r.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=le(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=le(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var r=Object(qt.c)(e);r in this.pendingFeatures_||(this.pendingFeatures_[r]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(D.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,i=Object(qt.c)(t),n=this.indexedFeaturesExtents_[i];if(n){var o=this.rBush_,s=[];o.forEachInExtent(n,function(e){t===e.feature&&s.push(e)});for(var a=s.length-1;a>=0;--a)o.remove(s[a])}r&&(Object(ft.e)(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var r=this.getMap(),i=this.featuresListenerKeys_,n=this.getFeatures_();r&&(i.forEach(ft.e),i.length=0,n.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push(Object(ft.a)(this.features_,Wt.a.ADD,this.handleFeatureAdd_,this),Object(ft.a)(this.features_,Wt.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(ft.a)(this.source_,Zt.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(ft.a)(this.source_,Zt.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),n.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,r){var i=r.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n=r.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=Object(X.b)([i,n]),s=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(s=s.filter(function(t){return t.feature.getGeometry().getType()!==wt.a.CIRCLE}));var a,c,h,u,l=!1,f=null,d=null;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var p=s[0].segment,g=s[0].feature.getGeometry().getType()===wt.a.CIRCLE;this.vertex_&&!this.edge_?(a=r.getPixelFromCoordinate(p[0]),c=r.getPixelFromCoordinate(p[1]),h=Object(v.i)(t,a),u=Object(v.i)(t,c),Math.sqrt(Math.min(h,u))<=this.pixelTolerance_&&(l=!0,f=h>u?p[1]:p[0],d=r.getPixelFromCoordinate(f))):this.edge_&&(f=g?Object(v.b)(e,s[0].feature.getGeometry()):Object(v.c)(e,p),d=r.getPixelFromCoordinate(f),Object(v.e)(t,d)<=this.pixelTolerance_&&(l=!0,this.vertex_&&!g&&(a=r.getPixelFromCoordinate(p[0]),c=r.getPixelFromCoordinate(p[1]),h=Object(v.i)(d,a),u=Object(v.i)(d,c),Math.sqrt(Math.min(h,u))<=this.pixelTolerance_&&(f=h>u?p[1]:p[0],d=r.getPixelFromCoordinate(f))))),l&&(d=[Math.round(d[0]),Math.round(d[1])])}return{snapped:l,vertex:f,vertexPixel:d}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var r=Object(K.b)(e).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:t,segment:o};this.rBush_.insert(Object(X.b)(o),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,t,r[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:t,segment:o};this.rBush_.insert(Object(X.b)(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),h={feature:t,segment:c};this.rBush_.insert(Object(X.b)(c),h)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length;s<a;++s)for(var c=o[s],h=0,u=c.length-1;h<u;++h){var l=c.slice(h,h+2),f={feature:t,segment:l};this.rBush_.insert(Object(X.b)(l),f)}},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),i={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),h={feature:t,segment:c};this.rBush_.insert(Object(X.b)(c),h)}},e}(G),de="translatestart",pe="translating",ge="translateend",ye=function(t){function e(e,r,i){t.call(this,e),this.features=r,this.coordinate=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H.a),_e=function(t){function e(e){var r,i=e||{};if(t.call(this,i),this.lastCoordinate_=null,this.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var n=i.layers;r=function(t){return Object(Vt.d)(n,t)}}else r=w.b;this.layerFilter_=r,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0,this.lastFeature_=null,Object(ft.a)(this,Object(a.b)(h.ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new ye(de,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new ye(ge,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],n=e[1]-this.lastCoordinate_[1],o=this.features_||new i.a([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(r,n),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new ye(pe,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(Vt.d)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(r)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(G);function be(t){var e=t||{},r=new i.a,n=new o(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&r.push(new z),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&r.push(new b({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&r.push(new B({condition:e.onFocusOnly?C:void 0,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&r.push(new ut),(void 0===e.pinchZoom||e.pinchZoom)&&r.push(new lt({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(r.push(new nt),r.push(new st({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&r.push(new ht({condition:e.onFocusOnly?C:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&r.push(new tt({duration:e.zoomDuration})),r}r.d(e,"defaults",function(){return be}),r.d(e,"DoubleClickZoom",function(){return b}),r.d(e,"DragAndDrop",function(){return bt}),r.d(e,"DragBox",function(){return $}),r.d(e,"DragPan",function(){return B}),r.d(e,"DragRotate",function(){return z}),r.d(e,"DragRotateAndZoom",function(){return mt}),r.d(e,"DragZoom",function(){return tt}),r.d(e,"Draw",function(){return Bt}),r.d(e,"Extent",function(){return Kt}),r.d(e,"Interaction",function(){return y}),r.d(e,"KeyboardPan",function(){return nt}),r.d(e,"KeyboardZoom",function(){return st}),r.d(e,"Modify",function(){return oe}),r.d(e,"MouseWheelZoom",function(){return ht}),r.d(e,"PinchRotate",function(){return ut}),r.d(e,"PinchZoom",function(){return lt}),r.d(e,"Pointer",function(){return G}),r.d(e,"Select",function(){return ue}),r.d(e,"Snap",function(){return fe}),r.d(e,"Translate",function(){return _e})},function(t,e,r){"use strict";var i=r(1),n=r(47),o=r(4),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.a)(this,t[o],e);return n}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.b)(this,t[o],e);return n}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)Object(i.c)(this,t[r],e);else Object(i.c)(this,t,e)},e}(n.a);e.a=s},function(t,e,r){"use strict";var i=r(3),n=r(17),o=r(31),s=r(5),a=r(11),c=function(t){function e(e){t.call(this);var r=Object(a.a)({},e);r[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,r[o.a.VISIBLE]=void 0===e.visible||e.visible,r[o.a.Z_INDEX]=e.zIndex,r[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(r),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(n.a);e.a=c},function(t,e,r){"use strict";var i=r(3),n=function(t){function e(e){var r="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,r),this.code=e,this.name="AssertionError",this.message=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=n},function(t,e,r){"use strict";r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s});var i=r(10),n=r(62);function o(t,e,r,o,s,a,c){for(var h,u,l,f,d,p,g,y=s[a+1],_=[],b=0,m=r.length;b<m;++b){var v=r[b];for(f=t[v-o],p=t[v-o+1],h=e;h<v;h+=o)d=t[h],g=t[h+1],(y<=p&&g<=y||p<=y&&y<=g)&&(l=(y-p)/(g-p)*(d-f)+f,_.push(l)),f=d,p=g}var E=NaN,w=-1/0;for(_.sort(i.g),f=_[0],h=1,u=_.length;h<u;++h){d=_[h];var O=Math.abs(d-f);O>w&&(l=(f+d)/2,Object(n.c)(t,e,r,o,l,y)&&(E=l,w=O)),f=d}return isNaN(E)&&(E=s[a]),c?(c.push(E,y,w),c):[E,y,w]}function s(t,e,r,i,n){for(var s=[],a=0,c=r.length;a<c;++a){var h=r[a];s=o(t,e,h,i,n,2*a,s),e=h[h.length-1]}return s}},function(t,e,r){"use strict";var i=r(3),n=r(17),o=r(0),s=r(46),a=r(8),c=r(28),h=r(9),u=Object(h.c)(),l=function(t){function e(){t.call(this),this.extent_=Object(o.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,r,n){return Object(i.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,r){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var r=Object(a.get)(t),i=r.getUnits()==c.b.TILE_PIXELS?function(t,i,n){var c=r.getExtent(),l=r.getWorldExtent(),f=Object(o.A)(l)/Object(o.A)(c);return Object(h.b)(u,l[0],l[3],f,-f,0,0,0),Object(s.c)(t,0,t.length,n,u,i),Object(a.getTransform)(r,e)(t,i,n)}:Object(a.getTransform)(r,e);return this.applyTransform(i),this},e}(n.a);e.a=l},function(t,e,r){"use strict";function i(t,e,r,i,n,o){for(var s,a=[t[e],t[e+1]],c=[];e+i<r;e+=i){if(c[0]=t[e+i],c[1]=t[e+i+1],s=n.call(o,a,c))return s;a[0]=c[0],a[1]=c[1]}return!1}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=t[e],o=t[e+1],s=0,a=e+i;a<r;a+=i){var c=t[a],h=t[a+1];s+=Math.sqrt((c-n)*(c-n)+(h-o)*(h-o)),n=c,o=h}return s}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,r){"use strict";var i=r(13),n=r(47),o=r(4),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var r=this.oldest_;r;)t.call(e,r.value_,r.key_,this),r=r.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(n.a);e.a=s},function(t,e,r){"use strict";var i=r(3),n=r(17),o=r(8),s=r(59),a=function(t){function e(e){t.call(this),this.projection_=Object(o.get)(e.projection),this.attributions_=c(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=c(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(n.a);function c(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,r){"use strict";var i=function(t){function e(e,r,i,n,o){t.call(this,e,r,o),this.originalEvent=i,this.pixel=r.getEventPixel(i),this.coordinate=r.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r(95).a);e.a=i},function(t,e,r){"use strict";var i=r(10),n=r(0),o=r(23),s=r(2),a=r(64),c=r(37),h=r(45),u=r(42),l=r(43),f=r(94),d=r(77),p=r(60),g=function(t){function e(e,r,n){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,r);else if(void 0!==r&&n)this.setFlatCoordinates(r,e),this.ends_=n;else{for(var o=this.getLayout(),s=e,a=[],c=[],h=0,u=s.length;h<u;++h){var l=s[h];0===h&&(o=l.getLayout()),Object(i.c)(a,l.getFlatCoordinates()),c.push(a.length)}this.setFlatCoordinates(o,a),this.ends_=c}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,n=void 0!==r&&r;return Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,t,i,n)},e.prototype.getCoordinates=function(){return Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new a.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,i=[],n=0,o=0,s=e.length;o<s;++o){var c=e[o],h=new a.a(t.slice(n,c),r);i.push(h),n=c}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,s=0,a=n.length;s<a;++s){var c=n[s],h=Object(f.a)(e,r,c,o,.5);Object(i.c)(t,h),r=c}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new e(r,o.a.XY,i)},e.prototype.getType=function(){return s.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(u.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(c.a);e.a=g},function(t,e,r){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,r){"use strict";var i=r(10),n=r(0),o=r(23),s=r(2),a=r(93),c=r(35),h=r(37),u=r(91);var l=r(45),f=r(62),d=r(42),p=r(43),g=r(125),y=r(77),_=r(81),b=r(60),m=function(t){function e(e,r,n){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var o=this.getLayout(),s=e,a=[],c=[],h=0,u=s.length;h<u;++h){var l=s[h];0===h&&(o=l.getLayout());for(var f=a.length,d=l.getEnds(),p=0,g=d.length;p<g;++p)d[p]+=f;Object(i.c)(a,l.getFlatCoordinates()),c.push(d)}r=o,e=a,n=c}void 0!==r&&n?(this.setFlatCoordinates(r,e),this.endss_=n):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(i.c)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,o=(e=t.getEnds().slice()).length;n<o;++n)e[n]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,r)},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.containsXY=function(t,e){return Object(f.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(u.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(_.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(p.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,r,i){for(var o=[],s=Object(n.j)(),a=0,c=r.length;a<c;++a){var h=r[a];s=Object(n.o)(t,e,h[0],i),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=h[h.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(g.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new a.a(this.getFlatInteriorPoints().slice(),o.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(_.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(_.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(b.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new e(r,o.a.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var i=this.endss_[t].slice(),n=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new c.a(this.flatCoordinates.slice(e,n),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,i=[],n=0,o=0,s=r.length;o<s;++o){var a=r[o].slice(),h=a[a.length-1];if(0!==n)for(var u=0,l=a.length;u<l;++u)a[u]-=n;var f=new c.a(e.slice(n,h),t,a);i.push(f),n=h}return i},e.prototype.getType=function(){return s.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(d.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(h.a);e.a=m},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return u});var i=r(1),n=r(4),o=r(17),s=r(34),a=r(8),c="projection",h=function(t){function e(e){var r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",t.call(this,{element:n,render:r.render||u,target:r.target}),Object(i.a)(this,Object(o.b)(c),this.handleProjectionChanged_,this),r.coordinateFormat&&this.setCoordinateFormat(r.coordinateFormat),r.projection&&this.setProjection(r.projection),this.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(c)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var r=e.getViewport();this.listenerKeys.push(Object(i.a)(r,n.a.MOUSEMOVE,this.handleMouseMove,this),Object(i.a)(r,n.a.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(i.a)(r,n.a.MOUSEOUT,this.handleMouseOut,this),Object(i.a)(r,n.a.TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(c,Object(a.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?Object(a.getTransformFromProjections)(this.mapProjection_,r):a.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();e=n?n(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(s.a);function u(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}e.default=h},function(t,e,r){"use strict";var i=r(19),n=r(166),o=r(21).Buffer,s=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function h(t,e,r,i,n,o,s){return c(t+(e&r|~e&i)+n+o|0,s)+e|0}function u(t,e,r,i,n,o,s){return c(t+(e&i|r&~i)+n+o|0,s)+e|0}function l(t,e,r,i,n,o,s){return c(t+(e^r^i)+n+o|0,s)+e|0}function f(t,e,r,i,n,o,s){return c(t+(r^(e|~i))+n+o|0,s)+e|0}i(a,n),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,i=this._b,n=this._c,o=this._d;r=h(r,i,n,o,t[0],3614090360,7),o=h(o,r,i,n,t[1],3905402710,12),n=h(n,o,r,i,t[2],606105819,17),i=h(i,n,o,r,t[3],3250441966,22),r=h(r,i,n,o,t[4],4118548399,7),o=h(o,r,i,n,t[5],1200080426,12),n=h(n,o,r,i,t[6],2821735955,17),i=h(i,n,o,r,t[7],4249261313,22),r=h(r,i,n,o,t[8],1770035416,7),o=h(o,r,i,n,t[9],2336552879,12),n=h(n,o,r,i,t[10],4294925233,17),i=h(i,n,o,r,t[11],2304563134,22),r=h(r,i,n,o,t[12],1804603682,7),o=h(o,r,i,n,t[13],4254626195,12),n=h(n,o,r,i,t[14],2792965006,17),r=u(r,i=h(i,n,o,r,t[15],1236535329,22),n,o,t[1],4129170786,5),o=u(o,r,i,n,t[6],3225465664,9),n=u(n,o,r,i,t[11],643717713,14),i=u(i,n,o,r,t[0],3921069994,20),r=u(r,i,n,o,t[5],3593408605,5),o=u(o,r,i,n,t[10],38016083,9),n=u(n,o,r,i,t[15],3634488961,14),i=u(i,n,o,r,t[4],3889429448,20),r=u(r,i,n,o,t[9],568446438,5),o=u(o,r,i,n,t[14],3275163606,9),n=u(n,o,r,i,t[3],4107603335,14),i=u(i,n,o,r,t[8],1163531501,20),r=u(r,i,n,o,t[13],2850285829,5),o=u(o,r,i,n,t[2],4243563512,9),n=u(n,o,r,i,t[7],1735328473,14),r=l(r,i=u(i,n,o,r,t[12],2368359562,20),n,o,t[5],4294588738,4),o=l(o,r,i,n,t[8],2272392833,11),n=l(n,o,r,i,t[11],1839030562,16),i=l(i,n,o,r,t[14],4259657740,23),r=l(r,i,n,o,t[1],2763975236,4),o=l(o,r,i,n,t[4],1272893353,11),n=l(n,o,r,i,t[7],4139469664,16),i=l(i,n,o,r,t[10],3200236656,23),r=l(r,i,n,o,t[13],681279174,4),o=l(o,r,i,n,t[0],3936430074,11),n=l(n,o,r,i,t[3],3572445317,16),i=l(i,n,o,r,t[6],76029189,23),r=l(r,i,n,o,t[9],3654602809,4),o=l(o,r,i,n,t[12],3873151461,11),n=l(n,o,r,i,t[15],530742520,16),r=f(r,i=l(i,n,o,r,t[2],3299628645,23),n,o,t[0],4096336452,6),o=f(o,r,i,n,t[7],1126891415,10),n=f(n,o,r,i,t[14],2878612391,15),i=f(i,n,o,r,t[5],4237533241,21),r=f(r,i,n,o,t[12],1700485571,6),o=f(o,r,i,n,t[3],2399980690,10),n=f(n,o,r,i,t[10],4293915773,15),i=f(i,n,o,r,t[1],2240044497,21),r=f(r,i,n,o,t[8],1873313359,6),o=f(o,r,i,n,t[15],4264355552,10),n=f(n,o,r,i,t[6],2734768916,15),i=f(i,n,o,r,t[13],1309151649,21),r=f(r,i,n,o,t[4],4149444226,6),o=f(o,r,i,n,t[11],3174756917,10),n=f(n,o,r,i,t[2],718787259,15),i=f(i,n,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},function(t,e,r){t.exports=n;var i=r(139).EventEmitter;function n(){i.call(this)}r(19)(n,i),n.Readable=r(140),n.Writable=r(242),n.Duplex=r(243),n.Transform=r(244),n.PassThrough=r(245),n.Stream=n,n.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",h),t.on("error",h),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},function(t,e,r){"use strict";var i,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function h(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function u(t,e,r,i){var n,o,s,a;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=h(t))>0&&s.length>n&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function l(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(i);return n.listener=r,i.wrapFn=n,n}function f(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=n[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var h=c.length,u=p(c,h);for(r=0;r<h;++r)o(u[r],this,e)}return!0},a.prototype.addListener=function(t,e){return u(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return u(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,i,n,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return f(this,t,!0)},a.prototype.rawListeners=function(t){return f(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,r){(e=t.exports=r(167)).Stream=e,e.Readable=e,e.Writable=r(142),e.Duplex=r(82),e.Transform=r(170),e.PassThrough=r(241)},function(t,e,r){var i=r(24),n=i.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e,i,n){var o=r(110);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;b.WritableState=_;var h=r(97);h.inherits=r(19);var u={deprecate:r(239)},l=r(168),f=r(141).Buffer,d=n.Uint8Array||function(){};var p,g=r(169);function y(){}function _(t,e){a=a||r(82),t=t||{};var i=e instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,h=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(h||0===h)?h:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,n){--e.pendingcb,r?(o.nextTick(n,i),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),S(t,e))}(t,r,i,e,n);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||E(t,r),i?c(v,t,r,s,n):v(t,r,s,n)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||r(82),!(p.call(b,this)||this instanceof a))return new b(t);this._writableState=new _(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function m(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function v(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),S(t,e)}function E(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)n[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;n.allBuffers=c,m(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,u=r.encoding,l=r.callback;if(m(t,e,!1,e.objectMode?1:h.length,h,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function S(t,e){var r=w(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(O,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}h.inherits(b,l),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===b&&(t&&t._writableState instanceof _)}})):p=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,r){var i,n=this._writableState,s=!1,a=!n.objectMode&&(i=t,f.isBuffer(i)||i instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=y),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(a||function(t,e,r,i){var n=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(i,s),n=!1),n}(this,n,t,r))&&(n.pendingcb++,s=function(t,e,r,i,n,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,a,i,n,o);return c}(this,n,a,t,e,r)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||E(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,r){var i=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,r){e.ending=!0,S(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(56),r(237).setImmediate,r(65))},function(t,e,r){"use strict";var i=r(240).Buffer,n=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function u(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var n=s(e[i]);if(n>=0)return n>0&&(t.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if((n=s(e[i]))>=0)return n>0&&(t.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if((n=s(e[i]))>=0)return n>0&&(2===n?n=0:t.lastNeed=n-3),n;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";var i=r(24).Buffer,n=r(19),o=r(166),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,r,i,n,o,s,a){return p(t+(e^r^i)+o+s|0,a)+n|0}function y(t,e,r,i,n,o,s,a){return p(t+(e&r|~e&i)+o+s|0,a)+n|0}function _(t,e,r,i,n,o,s,a){return p(t+((e|~r)^i)+o+s|0,a)+n|0}function b(t,e,r,i,n,o,s,a){return p(t+(e&i|r&~i)+o+s|0,a)+n|0}function m(t,e,r,i,n,o,s,a){return p(t+(e^(r|~i))+o+s|0,a)+n|0}n(d,o),d.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,i=0|this._b,n=0|this._c,o=0|this._d,d=0|this._e,v=0|this._a,E=0|this._b,w=0|this._c,O=0|this._d,S=0|this._e,T=0;T<80;T+=1){var C,x;T<16?(C=g(r,i,n,o,d,t[a[T]],l[0],h[T]),x=m(v,E,w,O,S,t[c[T]],f[0],u[T])):T<32?(C=y(r,i,n,o,d,t[a[T]],l[1],h[T]),x=b(v,E,w,O,S,t[c[T]],f[1],u[T])):T<48?(C=_(r,i,n,o,d,t[a[T]],l[2],h[T]),x=_(v,E,w,O,S,t[c[T]],f[2],u[T])):T<64?(C=b(r,i,n,o,d,t[a[T]],l[3],h[T]),x=y(v,E,w,O,S,t[c[T]],f[3],u[T])):(C=m(r,i,n,o,d,t[a[T]],l[4],h[T]),x=g(v,E,w,O,S,t[c[T]],f[4],u[T])),r=d,d=o,o=p(n,10),n=i,i=C,v=S,S=O,O=p(w,10),w=E,E=x}var R=this._b+n+O|0;this._b=this._c+o+S|0,this._c=this._d+d+v|0,this._d=this._e+r+E|0,this._e=this._a+i+w|0,this._a=R},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},function(t,e,r){(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r}).sha=r(246),e.sha1=r(247),e.sha224=r(248),e.sha256=r(171),e.sha384=r(249),e.sha512=r(172)},function(t,e,r){"use strict";e.utils=r(255),e.Cipher=r(256),e.DES=r(257),e.CBC=r(258),e.EDE=r(259)},function(t,e,r){var i=r(260),n=r(268),o=r(182);e.createCipher=e.Cipher=i.createCipher,e.createCipheriv=e.Cipheriv=i.createCipheriv,e.createDecipher=e.Decipher=n.createDecipher,e.createDecipheriv=e.Decipheriv=n.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,r){var i={ECB:r(261),CBC:r(262),CFB:r(263),CFB8:r(264),CFB1:r(265),OFB:r(266),CTR:r(180),GCM:r(180)},n=r(182);for(var o in n)n[o].module=i[n[o].mode];t.exports=n},function(t,e,r){var i;function n(t){this.rand=t}if(t.exports=function(t){return i||(i=new n(null)),i.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(272);if("function"!=typeof o.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,r){(function(e){var i=r(33),n=r(87);function o(t,r){var n=function(t){var e=s(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(r),o=r.modulus.byteLength(),a=(i.mont(r.modulus),new i(t).mul(n.blinder).umod(r.modulus)),c=a.toRed(i.mont(r.prime1)),h=a.toRed(i.mont(r.prime2)),u=r.coefficient,l=r.prime1,f=r.prime2,d=c.redPow(r.exponent1),p=h.redPow(r.exponent2);d=d.fromRed(),p=p.fromRed();var g=d.isub(p).imul(u).umod(l);return g.imul(f),p.iadd(g),new e(p.imul(n.unblinder).umod(r.modulus).toArray(!1,o))}function s(t){for(var e=t.modulus.byteLength(),r=new i(n(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new i(n(e));return r}t.exports=o,o.getr=s}).call(this,r(24).Buffer)},function(t,e,r){"use strict";var i=e;i.version=r(277).version,i.utils=r(58),i.rand=r(149),i.curve=r(189),i.curves=r(152),i.ec=r(288),i.eddsa=r(292)},function(t,e,r){"use strict";var i,n=e,o=r(153),s=r(189),a=r(58).assert;function c(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new c(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(287)}catch(t){i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},function(t,e,r){var i=e;i.utils=r(72),i.common=r(99),i.sha=r(281),i.ripemd=r(285),i.hmac=r(286),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},function(t,e,r){"use strict";const i=r(40),n=r(319),o={annotations:Symbol("joi-annotations"),stringify:function(t,r){const i=typeof t;if(null===t)return"null";if("string"===i)return t;if(t instanceof e.Err||"function"===i||"symbol"===i)return t.toString();if("object"===i){if(Array.isArray(t)){let e="";for(let i=0;i<t.length;++i)e=e+(e.length?", ":"")+o.stringify(t[i],r);return r?"["+e+"]":e}return t.toString()}return JSON.stringify(t)}};e.Err=class{constructor(t,e,r,i,o,s,a){this.isJoi=!0,this.type=t,this.context=e||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=i,this.flags=o,this.message=s,this.template=a;const c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||n.errors.root)}toString(){if(this.message)return this.message;let t;this.template&&(t=this.template);const e=this.options.language;if(void 0===(t=t||i.reach(e,this.type)||i.reach(n.errors,this.type)))return`Error code "${this.type}" is not defined, your custom type is missing the correct language definition`;let r=i.reach(e,"messages.wrapArrays");if("boolean"!=typeof r&&(r=n.errors.messages.wrapArrays),null===t){const t=o.stringify(this.context.reason,r);return r?t.slice(1,-1):t}const s=/{{!?label}}/.test(t),a=t.length>2&&"!"===t[0]&&"!"===t[1];if(a&&(t=t.slice(2)),!s&&!a){const r=i.reach(e,"key");t="string"==typeof r?r+t:i.reach(n.errors,"key")+t}const c=t.replace(/{{(!?)([^}]+)}}/g,(t,e,n)=>{const s=i.reach(this.context,n),a=o.stringify(s,r);return e&&this.options.escapeHtml?i.escapeHtml(a):a});return this.toString=()=>c,c}},e.create=function(t,r,i,n,o,s,a){return new e.Err(t,r,i,n,o,s,a)},e.process=function(t,e){if(!t)return null;let r="";const i=[],n=function(t,e,o){for(let s=0;s<t.length;++s){const a=t[s];if(a instanceof Error)return a;if(a.flags.error&&"function"!=typeof a.flags.error&&(!a.flags.selfError||!a.context.reason))return a.flags.error;let c;if(void 0===e&&(c=a.toString(),r=r+(r?". ":"")+c),a.context.reason){const t=n(a.context.reason,a.path,"override"===a.type?a.message:null);if(t)return t}else i.push({message:o||c||a.toString(),path:a.path,type:a.type,context:a.context})}},s=n(t);if(s)return s;const a=new Error(r);return a.isJoi=!0,a.name="ValidationError",a.details=i,a._object=e,a.annotate=o.annotate,a},o.safeStringify=function(t,e){return JSON.stringify(t,o.serializer(),e)},o.serializer=function(){const t=[],e=[];return function(r,i){if(e.length>0){const n=e.indexOf(this);~n?(e.length=n+1,t.length=n+1,t[n]=r):(e.push(this),t.push(r)),~e.indexOf(i)&&(i=((r,i)=>e[0]===i?"[Circular ~]":"[Circular ~."+t.slice(0,e.indexOf(i)).join(".")+"]").call(this,r,i))}else e.push(i);if(i){const t=i[o.annotations];if(t){if(Array.isArray(i)){const e=[];for(let r=0;r<i.length;++r)t.errors[r]&&e.push(`_$idx$_${t.errors[r].sort().join(", ")}_$end$_`),e.push(i[r]);i=e}else{const e=Object.keys(t.errors);for(let r=0;r<e.length;++r){const n=e[r];i[`${n}_$key$_${t.errors[n].sort().join(", ")}_$end$_`]=i[n],i[n]=void 0}const r=Object.keys(t.missing);for(let e=0;e<r.length;++e){const n=r[e];i[`_$miss$_${n}|${t.missing[n]}_$end$_`]="__missing__"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"==typeof i||"symbol"==typeof i?"["+i.toString()+"]":i}},o.annotate=function(t){const e=t?"":"[31m",r=t?"":"[41m",n=t?"":"[0m";if("object"!=typeof this._object)return this.details[0].message;const s=i.clone(this._object||{});for(let t=this.details.length-1;t>=0;--t){const e=t+1,r=this.details[t],i=r.path;let n=s;for(let t=0;;++t){const s=i[t];if(n.isImmutable&&(n=n.clone()),!(t+1<i.length&&n[s]&&"string"!=typeof n[s])){const t=n[o.annotations]=n[o.annotations]||{errors:{},missing:{}},i=n[s],a=s||r.context.label;void 0!==i?(t.errors[a]=t.errors[a]||[],t.errors[a].push(e)):t.missing[a]=e;break}n=n[s]}}const a=/_\$key\$_([, \d]+)_\$end\$_"/g,c=/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,h=/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,u=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g;let l=o.safeStringify(s,2).replace(a,(t,r)=>`" ${e}[${r}]${n}`).replace(c,(t,i,o)=>`${r}"${i}"${n}${e} [${o}]: -- missing --${n}`).replace(h,(t,r,i)=>`\n${i} ${e}[${r}]${n}`).replace(u,(t,e)=>e);l=`${l}\n${e}`;for(let t=0;t<this.details.length;++t){l=`${l}\n[${t+1}] ${this.details[t].message}`}return l+=n}},function(t,e,r){"use strict";t.exports=class{constructor(t,e,r,i){this.key=t,this.path=e,this.parent=r,this.reference=i}}},function(t,e,r){"use strict";r.r(e);var i=r(15),n=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Object(i.a)(t,t),this.canvas_=this.context_.canvas};n.prototype.get=function(t){return this.entries_[t]||null},n.prototype.add=function(t,e,r,i,n){for(var o=0,s=this.emptyBlocks_.length;o<s;++o){var a=this.emptyBlocks_[o];if(a.width>=e+this.space_&&a.height>=r+this.space_){var c={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};return this.entries_[t]=c,i.call(n,this.context_,a.x+this.space_,a.y+this.space_),this.split_(o,a,e+this.space_,r+this.space_),c}}return null},n.prototype.split_=function(t,e,r,i){var n,o;e.width-r>e.height-i?(n={x:e.x+r,y:e.y,width:e.width-r,height:e.height},o={x:e.x,y:e.y+i,width:r,height:e.height-i},this.updateBlocks_(t,n,o)):(n={x:e.x+r,y:e.y,width:e.width-r,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,n,o))},n.prototype.updateBlocks_=function(t,e,r){var i=[t,1];e.width>0&&e.height>0&&i.push(e),r.width>0&&r.height>0&&i.push(r),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)};var o=n,s=r(104),a=r(14),c=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:256,this.maxSize_=void 0!==e.maxSize?e.maxSize:void 0!==s.a?s.a:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new o(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new o(this.currentHitSize_,this.space_)]};c.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var r=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,r)},c.prototype.getInfo_=function(t,e){for(var r=0,i=t.length;r<i;++r){var n=t[r].get(e);if(n)return n}return null},c.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},c.prototype.add=function(t,e,r,i,n,o){if(e+this.space_>this.maxSize_||r+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,r,i,o);if(!s)return null;var c=void 0!==n?n:a.c,h=this.add_(!0,t,e,r,c,o);return this.mergeInfos_(s,h)},c.prototype.add_=function(t,e,r,i,n,s){var a,c,h,u,l=t?this.hitAtlases_:this.atlases_;for(h=0,u=l.length;h<u;++h){if(c=(a=l[h]).add(e,r,i,n,s))return c;if(!c&&h===u-1){var f=void 0;t?(f=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=f):(f=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=f),a=new o(f,this.space_),l.push(a),++u}}return null};var h=c,u=r(103),l=r(70),f=r(3),d=r(25),p=r(13),g=r(50),y=r(1),_=r(4),b={FRACTION:"fraction",PIXELS:"pixels"},m=r(47),v=r(107),E=function(t){function e(e,r,i,n,o,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==n&&(this.image_.crossOrigin=n),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=r,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===d.a.LOADED){this.tainted_=!1;var t=Object(i.a)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(_.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=d.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=d.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],n=Object(i.a)(e,r);n.fillRect(0,0,e,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==d.a.IDLE){this.imageState_=d.a.LOADING,this.imageListenerKeys_=[Object(y.b)(this.image_,_.a.ERROR,this.handleImageError_,this),Object(y.b)(this.image_,_.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),r=e.data,i=this.color_[0]/255,n=this.color_[1]/255,o=this.color_[2]/255,s=0,a=r.length;s<a;s+=4)r[s]*=i,r[s+1]*=n,r[s+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(y.e),this.imageListenerKeys_=null},e}(m.a);var w=E,O={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},S=r(89),T=function(t){function e(e){var r=e||{},i=void 0!==r.opacity?r.opacity:1,n=void 0!==r.rotation?r.rotation:0,o=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;t.call(this,{opacity:i,rotation:n,scale:o,rotateWithView:s}),this.anchor_=void 0!==r.anchor?r.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:O.TOP_LEFT,this.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:b.FRACTION,this.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:b.FRACTION,this.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var a=void 0!==r.img?r.img:null,c=void 0!==r.imgSize?r.imgSize:null,h=r.src;Object(p.a)(!(void 0!==h&&a),4),Object(p.a)(!a||a&&c,5),void 0!==h&&0!==h.length||!a||(h=a.src||Object(f.c)(a)),Object(p.a)(void 0!==h&&h.length>0,6);var u=void 0!==r.src?d.a.IDLE:d.a.LOADED;this.color_=void 0!==r.color?Object(g.a)(r.color):null,this.iconImage_=function(t,e,r,i,n,o){var s=v.a.get(e,i,o);return s||(s=new E(t,e,r,i,n,o),v.a.set(e,i,o,s)),s}(a,h,c,this.crossOrigin_,u,this.color_),this.offset_=void 0!==r.offset?r.offset:[0,0],this.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:O.TOP_LEFT,this.origin_=null,this.size_=void 0!==r.size?r.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==b.FRACTION||this.anchorYUnits_==b.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==b.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==b.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=O.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=O.TOP_RIGHT&&this.anchorOrigin_!=O.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=O.BOTTOM_LEFT&&this.anchorOrigin_!=O.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=O.TOP_LEFT){var e=this.getSize(),r=this.iconImage_.getSize();if(!e||!r)return null;t=t.slice(),this.offsetOrigin_!=O.TOP_RIGHT&&this.offsetOrigin_!=O.BOTTOM_RIGHT||(t[0]=r[0]-e[0]-t[0]),this.offsetOrigin_!=O.BOTTOM_LEFT&&this.offsetOrigin_!=O.BOTTOM_RIGHT||(t[1]=r[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Object(y.a)(this.iconImage_,_.a.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Object(y.c)(this.iconImage_,_.a.CHANGE,t,e)},e}(S.a),C=r(120),x=r(71),R=r(48),I=r(105);r.d(e,"Atlas",function(){return o}),r.d(e,"AtlasManager",function(){return h}),r.d(e,"Circle",function(){return u.a}),r.d(e,"Fill",function(){return l.a}),r.d(e,"Icon",function(){return T}),r.d(e,"IconImage",function(){return w}),r.d(e,"Image",function(){return S.a}),r.d(e,"RegularShape",function(){return C.a}),r.d(e,"Stroke",function(){return x.a}),r.d(e,"Style",function(){return R.c}),r.d(e,"Text",function(){return I.a})},function(t,e,r){"use strict";r.r(e);var i=r(3),n=r(29),o=r(27),s=r(132),a=r(26),c=r(16),h=r(75),u=r(1),l=r(47),f=r(38),d=r(108),p=function(t){function e(e,r){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=r?r*a.b:a.b,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new d.a(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(u.a)(this.pointerEventHandler_,f.a.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(u.a)(this.pointerEventHandler_,f.a.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h.a(c.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h.a(c.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h.a(c.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c.a.POINTERUP||e.type==c.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h.a(c.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(u.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h.a(c.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new d.a(document),this.dragListenerKeys_.push(Object(u.a)(this.documentPointerEventHandler_,c.a.POINTERMOVE,this.handlePointerMove_,this),Object(u.a)(this.documentPointerEventHandler_,c.a.POINTERUP,this.handlePointerUp_,this),Object(u.a)(this.pointerEventHandler_,c.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h.a(c.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h.a(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(u.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(u.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(u.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(l.a),g=r(95),y=r(74),_=r(39),b=r(44),m=r(17),v=r(61),E=r(7),w=r(4),O=r(13),S=r(11),T=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};T.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(S.b)(this.queuedElements_)},T.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,r=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},T.prototype.enqueue=function(t){Object(O.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},T.prototype.getCount=function(){return this.elements_.length},T.prototype.getLeftChildIndex_=function(t){return 2*t+1},T.prototype.getRightChildIndex_=function(t){return 2*t+2},T.prototype.getParentIndex_=function(t){return t-1>>1},T.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},T.prototype.isEmpty=function(){return 0===this.elements_.length},T.prototype.isKeyQueued=function(t){return t in this.queuedElements_},T.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},T.prototype.siftUp_=function(t){for(var e=this.elements_,r=this.priorities_,i=e.length,n=e[t],o=r[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),h=c<i&&r[c]<r[a]?c:a;e[t]=e[h],r[t]=r[h],t=h}e[t]=n,r[t]=o,this.siftDown_(s,t)},T.prototype.siftDown_=function(t,e){for(var r=this.elements_,i=this.priorities_,n=r[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;r[e]=r[s],i[e]=i[s],e=s}r[e]=n,i[e]=o},T.prototype.reprioritize=function(){var t,e,r,i=this.priorityFunction_,n=this.elements_,o=this.priorities_,s=0,a=n.length;for(e=0;e<a;++e)(r=i(t=n[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=r,n[s++]=t);n.length=s,o.length=s,this.heapify_()};var C=function(t){function e(e,r){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=r,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);if(r){var i=e[0];Object(u.a)(i,w.a.CHANGE,this.handleTileChange,this)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,r=e.getState();if(r===E.a.LOADED||r===E.a.ERROR||r===E.a.EMPTY||r===E.a.ABORT){Object(u.c)(e,w.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var r,i,n,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)n=(i=this.dequeue()[0]).getKey(),(r=i.getState())===E.a.ABORT?s=!0:r!==E.a.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(T),x=r(159),R=r(18),I=r(15),A=r(22),M=r(0),j=r(14),L=r(123),P=r(59),N={LAYERS:"layers"},k=function(t){function e(e){var r=e||{},i=Object(S.a)({},r);delete i.layers;var o=r.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(u.a)(this,Object(m.b)(N.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new n.a(o.slice(),{unique:!0}):Object(O.a)("function"==typeof o.getArray,43):o=new n.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(u.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(u.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(u.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(u.e);Object(S.b)(this.listenerKeys_);for(var r=t.getArray(),n=0,s=r.length;n<s;n++){var a=r[n];this.listenerKeys_[Object(i.c)(a)]=[Object(u.a)(a,v.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.a)(a,w.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(u.a)(e,v.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.a)(e,w.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,r=Object(i.c)(e);this.listenerKeys_[r].forEach(u.e),delete this.listenerKeys_[r],this.changed()},e.prototype.getLayers=function(){return this.get(N.LAYERS)},e.prototype.setLayers=function(t){this.set(N.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],r=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),n=r,o=e.length;n<o;n++){var s=e[n];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=Object(M.B)(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return P.a.READY},e}(L.a),D=r(55),F=r(9);var G=function(t){function e(e){t.call(this);var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var r,i,o,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new k({layers:t.layers});s[_.a.LAYERGROUP]=a,s[_.a.TARGET]=t.target,s[_.a.VIEW]=void 0!==t.view?t.view:new x.default,void 0!==t.controls&&(Array.isArray(t.controls)?r=new n.a(t.controls.slice()):(Object(O.a)("function"==typeof t.controls.getArray,47),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new n.a(t.interactions.slice()):(Object(O.a)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new n.a(t.overlays.slice()):(Object(O.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new n.a;return{controls:r,interactions:i,keyboardEventTarget:e,overlays:o,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(F.c)(),this.pixelToCoordinateTransform_=Object(F.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a.h?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[w.a.CLICK,w.a.DBLCLICK,w.a.MOUSEDOWN,w.a.TOUCHSTART,w.a.MSPOINTERDOWN,c.a.POINTERDOWN,w.a.MOUSEWHEEL,w.a.WHEEL],s=0,h=i.length;s<h;++s)Object(u.a)(this.overlayContainerStopEvent_,i[s],A.b);for(var l in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new p(this,e.moveTolerance),c.a)Object(u.a)(this.mapBrowserEventHandler_,c.a[l],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=r.keyboardEventTarget,this.keyHandlerKeys_=null,Object(u.a)(this.viewport_,w.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(u.a)(this.viewport_,w.a.WHEEL,this.handleBrowserEvent,this),Object(u.a)(this.viewport_,w.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=r.controls||new n.a,this.interactions=r.interactions||new n.a,this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new C(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(u.a)(this,Object(m.b)(_.a.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(u.a)(this,Object(m.b)(_.a.VIEW),this.handleViewChanged_,this),Object(u.a)(this,Object(m.b)(_.a.SIZE),this.handleSizeChanged_,this),Object(u.a)(this,Object(m.b)(_.a.TARGET),this.handleTargetChanged_,this),this.setProperties(r.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(u.a)(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),Object(u.a)(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(u.a)(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),Object(u.a)(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(u.a)(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(u.a)(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(u.c)(this.viewport_,w.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(u.c)(this.viewport_,w.a.WHEEL,this.handleBrowserEvent,this),Object(u.c)(this.viewport_,w.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(w.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,r){if(this.frameState_){var i=this.getCoordinateFromPixel(t),n=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:j.b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,n,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var r=null;return this.forEachFeatureAtPixel(t,function(t){r||(r=[]),r.push(t)},e),r},e.prototype.forEachLayerAtPixel=function(t,e,r){if(this.frameState_){var i=r||{},n=void 0!==i.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||j.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,n,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:j.b,n=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,n,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-e.left,r.clientY-e.top]},e.prototype.getTarget=function(){return this.get(_.a.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(F.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(_.a.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(F.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(_.a.SIZE)},e.prototype.getView=function(){return this.get(_.a.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,r,i){var n=this.frameState_;if(!(n&&e in n.wantedTiles))return 1/0;if(!n.wantedTiles[e][t.getKey()])return 1/0;var o=r[0]-n.focus[0],s=r[1]-n.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var r=e||t.type,i=new s.a(r,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var r=this.maxTilesLoading_,i=r;if(t){var n=t.viewHints;n[R.a.ANIMATING]&&(r=this.loadTilesWhileAnimating_?8:0,i=2),n[R.a.INTERACTING]&&(r=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<r&&(e.reprioritize(),e.loadMoreTiles(r,i))}!t||!this.hasListener(b.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var r=0,i=e.length;r<i;++r){var n=e[r];if("function"==typeof n.getLayers)return t(n.getLayers().getArray());var o=n.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(b.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,r=this.keyHandlerKeys_.length;e<r;++e)Object(u.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(u.a)(i,w.a.KEYDOWN,this.handleBrowserEvent,this),Object(u.a)(i,w.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(w.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(I.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(w.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(u.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(u.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(u.a)(t,v.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(u.a)(t,w.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(u.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(u.a)(t,v.a.PROPERTYCHANGE,this.render,this),Object(u.a)(t,w.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,r=this.getSize(),n=this.getView(),o=Object(M.j)(),s=this.frameState_,a=null;if(void 0!==r&&Object(D.a)(r)&&n&&n.isDef()){for(var c=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),u={},l=0,f=h.length;l<f;++l)u[Object(i.c)(h[l].layer)]=h[l];e=n.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:u,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:c,wantedTiles:{}}}if(a&&(a.extent=Object(M.z)(e.center,e.resolution,e.rotation,a.size,o)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s)(!this.previousExtent_||!Object(M.H)(this.previousExtent_)&&!Object(M.p)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new g.a(y.a.MOVESTART,this,s)),this.previousExtent_=Object(M.l)(this.previousExtent_));this.previousExtent_&&!a.viewHints[R.a.ANIMATING]&&!a.viewHints[R.a.INTERACTING]&&!Object(M.p)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new g.a(y.a.MOVEEND,this,a)),Object(M.d)(a.extent,this.previousExtent_))}this.dispatchEvent(new g.a(y.a.POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(_.a.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(_.a.SIZE,t)},e.prototype.setTarget=function(t){this.set(_.a.TARGET,t)},e.prototype.setView=function(t){this.set(_.a.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(m.a);var B=r(117),U=r(121),z=r(53),X=function(t){function e(e,r,i,n){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=r,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(w.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(l.a),H=r(25),Y=function(t){function e(e,r,i,n,o){var s=void 0!==o?H.a.IDLE:H.a.LOADED;t.call(this,e,r,i,s),this.loader_=void 0!==o?o:null,this.canvas_=n,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=H.a.ERROR):this.state=H.a.LOADED,this.changed()},e.prototype.load=function(){this.state==H.a.IDLE&&(this.state=H.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(X),K=r(49),q=r(10),W=r(129),V=r(20),Z=r(69),J=function(t){function e(e,r,i,n,o){t.call(this,e),this.vectorContext=r,this.frameState=i,this.context=n,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A.a),$=r(6),Q=r(51),tt=r(2),et=r(37),rt=r(46),it=function(){};it.prototype.drawCustom=function(t,e,r){},it.prototype.drawGeometry=function(t){},it.prototype.setStyle=function(t){},it.prototype.drawCircle=function(t,e){},it.prototype.drawFeature=function(t,e){},it.prototype.drawGeometryCollection=function(t,e){},it.prototype.drawLineString=function(t,e){},it.prototype.drawMultiLineString=function(t,e){},it.prototype.drawMultiPoint=function(t,e){},it.prototype.drawMultiPolygon=function(t,e){},it.prototype.drawPoint=function(t,e){},it.prototype.drawPolygon=function(t,e){},it.prototype.drawText=function(t,e){},it.prototype.setFillStrokeStyle=function(t,e){},it.prototype.setImageStyle=function(t,e){},it.prototype.setTextStyle=function(t,e){};var nt=it,ot=function(t){function e(e,r,i,n,o){t.call(this),this.context_=e,this.pixelRatio_=r,this.extent_=i,this.transform_=n,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(F.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,r,i){if(this.image_){var n=Object(rt.c)(t,e,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var h=0,u=n.length;h<u;h+=2){var l=n[h]-this.imageAnchorX_,f=n[h+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var d=l+this.imageAnchorX_,p=f+this.imageAnchorY_;Object(F.b)(s,d,p,this.imageScale_,this.imageScale_,c,-d,-p),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,l,f,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,r,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(rt.c)(t,e,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<r;e+=i){var a=n[e]+this.textOffsetX_,c=n[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var h=Object(F.b)(this.tmpLocalTransform_,a,c,this.textScale_,this.textScale_,s,-a,-c);o.setTransform.apply(o,h)}this.textStrokeState_&&o.strokeText(this.text_,a,c),this.textFillState_&&o.fillText(this.text_,a,c)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,r,i,n){var o=this.context_,s=Object(rt.c)(t,e,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var c=2;c<a;c+=2)o.lineTo(s[c],s[c+1]);return n&&o.closePath(),r},e.prototype.drawRings_=function(t,e,r,i){for(var n=0,o=r.length;n<o;++n)e=this.moveToLineTo_(t,e,r[n],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(M.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(et.b)(t,this.transform_,this.pixelCoordinates_),r=e[2]-e[0],i=e[3]-e[1],n=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case tt.a.POINT:this.drawPoint(t);break;case tt.a.LINE_STRING:this.drawLineString(t);break;case tt.a.POLYGON:this.drawPolygon(t);break;case tt.a.MULTI_POINT:this.drawMultiPoint(t);break;case tt.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case tt.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case tt.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case tt.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var r=e.getGeometryFunction()(t);r&&Object(M.F)(this.extent_,r.getExtent())&&(this.setStyle(e),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),r=0,i=e.length;r<i;++r)this.drawGeometry(e[r])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawLineString=function(t){if(Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(M.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates(),n=0,o=t.getEnds(),s=t.getStride();r.beginPath();for(var a=0,c=o.length;a<c;++a)n=this.moveToLineTo_(i,n,o[a],s,!1);r.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(M.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getOrientedFlatCoordinates(),i=0,n=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=n.length;s<a;++s){var c=n[s];i=this.drawRings_(r,i,c,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=e.lineCap=t.lineCap),a.a&&(Object(q.b)(r.lineDash,t.lineDash)||e.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=e.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=e.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=e.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,a.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:$.l;r?(r.font!=t.font&&(r.font=e.font=t.font),r.textAlign!=i&&(r.textAlign=e.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var r=t.getColor();this.fillState_={fillStyle:Object(Q.a)(r||$.b)}}else this.fillState_=null;if(e){var i=e.getColor(),n=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),c=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:$.d,lineDash:o||$.e,lineDashOffset:s||$.f,lineJoin:void 0!==a?a:$.g,lineWidth:this.pixelRatio_*(void 0!==c?c:$.h),miterLimit:void 0!==h?h:$.i,strokeStyle:Object(Q.a)(i||$.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),r=t.getImage(1),i=t.getOrigin(),n=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=n[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=n[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var r=e.getColor();this.textFillState_={fillStyle:Object(Q.a)(r||$.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var n=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),c=i.getLineJoin(),h=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:$.d,lineDash:s||$.e,lineDashOffset:a||$.f,lineJoin:void 0!==c?c:$.g,lineWidth:void 0!==h?h:$.h,miterLimit:void 0!==u?u:$.i,strokeStyle:Object(Q.a)(n||$.k)}}else this.textStrokeState_=null;var l=t.getFont(),f=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),g=t.getRotation(),y=t.getScale(),_=t.getText(),b=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==l?l:$.c,textAlign:void 0!==b?b:$.l,textBaseline:void 0!==m?m:$.m},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(nt),st=r(90),at=r(107),ct=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(F.b)(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(F.d)(Object(F.g)(i,r))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o,s,a){var c,h=e.viewState,u=h.resolution;function l(t,r){var s=e.layerStates[Object(i.c)(r)].managed;if(!(Object(i.c)(t)in e.skippedFeatureUids)||s)return n.call(o,t,s?r:null)}var f=h.projection,d=t;if(f.canWrapX()){var p=f.getExtent(),g=Object(M.E)(p),y=t[0];if(y<p[0]||y>p[2])d=[y+g*Math.ceil((p[0]-y)/g),t[1]]}var _,b=e.layerStatesArray;for(_=b.length-1;_>=0;--_){var m=b[_],v=m.layer;if(Object(Z.b)(m,u)&&s.call(a,v)){var E=this.getLayerRenderer(v),w=v.getSource();if(w&&(c=E.forEachFeatureAtCoordinate(w.getWrapX()?d:t,e,r,l)),c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,r,n,o,s,a){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,r,i,n){return void 0!==this.forEachFeatureAtCoordinate(t,e,r,j.b,this,i,n)},e.prototype.getLayerRenderer=function(t){var e=Object(i.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var r,n=0,o=this.layerRendererConstructors_.length;n<o;++n){var s=this.layerRendererConstructors_[n];if(s.handles(t)){r=s.create(this,t);break}}if(!r)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=r,this.layerRendererListeners_[e]=Object(u.a)(r,w.a.CHANGE,this.handleLayerRendererChange_,this),r},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(u.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var r in this.layerRenderers_)e&&r in e.layerStates||this.removeLayerRendererByKey_(r).dispose()},e.prototype.renderFrame=function(t){Object(i.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(ht)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(st.a);function ht(t,e){at.a.expire()}function ut(t,e){return t.zIndex-e.zIndex}var lt=[],ft=function(t){function e(e){t.call(this,e);var r=e.getViewport();this.context_=Object(I.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=V.e,r.insertBefore(this.canvas_,r.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(F.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var r=this.getMap(),i=this.context_;if(r.hasListener(t)){var n=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),c=new ot(i,o,n,a,s),h=new J(t,c,e,i,null);r.dispatchEvent(h)}},e.prototype.getTransform=function(t){var e=t.viewState,r=this.canvas_.width/2,i=this.canvas_.height/2,n=t.pixelRatio/e.resolution,o=-n,s=-e.rotation,a=-e.center[0],c=-e.center[1];return Object(F.b)(this.transform_,r,i,n,o,s,a,c)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,r=t.pixelRatio,i=Math.round(t.size[0]*r),n=Math.round(t.size[1]*r);this.canvas_.width!=i||this.canvas_.height!=n?(this.canvas_.width=i,this.canvas_.height=n):e.clearRect(0,0,i,n);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(b.a.PRECOMPOSE,t);var s=t.layerStatesArray;Object(q.j)(s,ut),o&&(e.save(),Object($.s)(e,o,i/2,n/2));var a,c,h=t.viewState.resolution;for(a=0,c=s.length;a<c;++a){var u=s[a],l=u.layer,f=this.getLayerRenderer(l);Object(Z.b)(u,h)&&u.sourceState==P.a.READY&&(f.prepareFrame(t,u)&&f.composeFrame(t,u,e))}o&&e.restore(),this.dispatchRenderEvent(b.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,r,i,n,o,s){var a,c,h=e.viewState.resolution,u=e.layerStatesArray,l=u.length,f=Object(F.a)(e.pixelToCoordinateTransform,t.slice());for(c=l-1;c>=0;--c){var d=u[c],p=d.layer;if(Object(Z.b)(d,h)&&o.call(s,p))if(a=this.getLayerRenderer(p).forEachLayerAtCoordinate(f,e,r,i,n))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var r=0,i=e.length;r<i;++r){var n=e[r];Object(q.d)(lt,n)||lt.push(n)}},e}(ct),dt=r(12),pt=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(F.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,r){var i=e.pixelRatio,n=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=Object(M.C)(r),c=Object(M.D)(r),h=Object(M.w)(r),u=Object(M.v)(r);Object(F.a)(e.coordinateToPixelTransform,a),Object(F.a)(e.coordinateToPixelTransform,c),Object(F.a)(e.coordinateToPixelTransform,h),Object(F.a)(e.coordinateToPixelTransform,u),t.save(),Object($.s)(t,-s,n/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(u[0]*i,u[1]*i),t.clip(),Object($.s)(t,s,n/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,r,i){var n=this.getLayer();if(n.hasListener(t)){var o=r.size[0]*r.pixelRatio,s=r.size[1]*r.pixelRatio,a=r.viewState.rotation;Object($.s)(e,-a,o/2,s/2);var c=void 0!==i?i:this.getTransform(r,0),h=new ot(e,r.pixelRatio,r.extent,c,r.viewState.rotation),u=new J(t,h,r,e,null);n.dispatchEvent(u),Object($.s)(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,r,i,n){return this.forEachFeatureAtCoordinate(t,e,r,j.b)?i.call(n,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,r,i){this.dispatchComposeEvent_(b.a.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,r){this.dispatchComposeEvent_(b.a.PRECOMPOSE,t,e,r)},e.prototype.dispatchRenderEvent=function(t,e,r){this.dispatchComposeEvent_(b.a.RENDER,t,e,r)},e.prototype.getTransform=function(t,e){var r=t.viewState,i=t.pixelRatio,n=i*t.size[0]/2,o=i*t.size[1]/2,s=i/r.resolution,a=-s,c=-r.rotation,h=-r.center[0]+e,u=-r.center[1];return Object(F.b)(this.transform_,n,o,s,a,c,h,u)},e.prototype.composeFrame=function(t,e,r){Object(i.b)()},e.prototype.prepareFrame=function(t,e){return Object(i.b)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,r){return function(i,n){return t.forEachLoadedTile(e,i,n,function(t){r[i]||(r[i]={}),r[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===H.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=H.a.LOADED&&e!=H.a.ERROR&&Object(u.a)(t,w.a.CHANGE,this.handleImageChange_,this),e==H.a.IDLE&&(t.load(),e=t.getState()),e==H.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==P.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var r=function(t,e,r){var n=Object(i.c)(t);n in r.usedTiles&&t.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,e,r,n){var o=Object(i.c)(e),s=r.toString();o in t?s in t[o]?t[o][s].extend(n):t[o][s]=n:(t[o]={},t[o][s]=n)},e.prototype.manageTilePyramid=function(t,e,r,n,o,s,a,c,h,u){var l=Object(i.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var f,d,p,g,y,_,b=t.wantedTiles[l],m=t.tileQueue;for(_=r.getMinZoom();_<=a;++_)for(d=r.getTileRangeForExtentAndZ(s,_,d),p=r.getResolution(_),g=d.minX;g<=d.maxX;++g)for(y=d.minY;y<=d.maxY;++y)a-_<=c?((f=e.getTile(_,g,y,n,o)).getState()==E.a.IDLE&&(b[f.getKey()]=!0,m.isKeyQueued(f.getKey())||m.enqueue([f,l,r.getTileCoordCenter(f.tileCoord),p])),void 0!==h&&h.call(u,f)):e.useTile(_,g,y,o)},e}(r(122).a)),gt=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(F.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,r){this.preCompose(r,t);var i=this.getImage();if(i){var n=e.extent,o=void 0!==n&&!Object(M.g)(n,t.extent)&&Object(M.F)(n,t.extent);o&&this.clip(r,t,n);var s=this.getImageTransform(),a=r.globalAlpha;r.globalAlpha=e.opacity;var c=s[4],h=s[5],u=i.width*s[0],l=i.height*s[3];u>=.5&&l>=.5&&r.drawImage(i,0,0,+i.width,+i.height,Math.round(c),Math.round(h),Math.round(u),Math.round(l)),r.globalAlpha=a,o&&r.restore()}this.postCompose(r,t,e)},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getImageTransform=function(){return Object(i.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,r,i,n){if(this.getImage()){var o=Object(F.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(dt.h)(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(I.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(n,this.getLayer(),s):void 0}},e}(pt),yt=function(t){function e(r){if(t.call(this,r),this.image_=null,this.imageTransform_=Object(F.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,r.getType()===K.a.VECTOR)for(var i=0,n=lt.length;i<n;++i){var o=lt[i];if(o!==e&&o.handles(r)){this.vectorRenderer_=new o(r);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var r,i=t.pixelRatio,n=t.size,o=t.viewState,s=o.center,a=o.resolution,c=this.getLayer().getSource(),h=t.viewHints,u=this.vectorRenderer_,l=t.extent;if(u||void 0===e.extent||(l=Object(M.B)(l,e.extent)),!h[R.a.ANIMATING]&&!h[R.a.INTERACTING]&&!Object(M.H)(l)){var f=o.projection;if(!z.a){var d=c.getProjection();d&&(f=d)}var p=this.skippedFeatures_;if(u){var g=u.context,y=Object(S.a)({},t,{size:[Object(M.E)(l)/a,Object(M.A)(l)/a],viewState:Object(S.a)({},t.viewState,{rotation:0})}),_=Object.keys(y.skippedFeatureUids).sort();r=new Y(l,a,i,g.canvas,function(t){!u.prepareFrame(y,e)||!u.replayGroupChanged&&Object(q.b)(p,_)||(g.canvas.width=y.size[0]*i,g.canvas.height=y.size[1]*i,u.compose(g,y,e),p=_,t())})}else r=c.getImage(l,a,i,f);r&&this.loadImage(r)&&(this.image_=r,this.skippedFeatures_=p)}if(this.image_){var b=(r=this.image_).getExtent(),m=r.getResolution(),v=r.getPixelRatio(),E=i*m/(a*v),w=Object(F.b)(this.imageTransform_,i*n[0]/2,i*n[1]/2,E,E,0,v*(b[0]-s[0])/m,v*(s[1]-b[3])/m);Object(F.b)(this.coordinateToCanvasPixelTransform,i*n[0]/2-w[4],i*n[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=m*i/v}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,r,i,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,r,i,n):t.prototype.forEachFeatureAtCoordinate.call(this,e,r,i,n)},e}(gt);yt.handles=function(t){return t.getType()===K.a.IMAGE||t.getType()===K.a.VECTOR&&t.getRenderMode()===W.a.IMAGE},yt.create=function(t,e){return new yt(e)};var _t=yt,bt=r(86),mt=function(t){function e(e,r){t.call(this,e),this.context=r?null:Object(I.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(M.j)(),this.tmpTileRange_=new bt.b(0,0,0,0),this.imageTransform_=Object(F.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),r=t.getState(),i=e.getUseInterimTilesOnError();return r==E.a.LOADED||r==E.a.EMPTY||r==E.a.ERROR&&!i},e.prototype.getTile=function(t,e,r,i,n){var o=this.getLayer(),s=o.getSource().getTile(t,e,r,i,n);return s.getState()==E.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(E.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var r=t.pixelRatio,n=t.size,o=t.viewState,s=o.projection,a=o.resolution,c=o.center,h=this.getLayer(),u=h.getSource(),l=u.getRevision(),f=u.getTileGridForProjection(s),d=f.getZForResolution(a,this.zDirection),p=f.getResolution(d),g=Math.round(a/p)||1,y=t.extent;if(void 0!==e.extent&&(y=Object(M.B)(y,e.extent)),Object(M.H)(y))return!1;var _=f.getTileRangeForExtentAndZ(y,d),b=f.getTileRangeExtent(d,_),m=u.getTilePixelRatio(r),v={};v[d]={};var w,O,S,T=this.createLoadedTileFinder(u,s,v),C=t.viewHints,x=C[R.a.ANIMATING]||C[R.a.INTERACTING],I=this.tmpExtent,A=this.tmpTileRange_;for(this.newTiles_=!1,O=_.minX;O<=_.maxX;++O)for(S=_.minY;S<=_.maxY;++S)if(!(Date.now()-t.time>16&&x)){if(w=this.getTile(d,O,S,r,s),this.isDrawableTile_(w)){var j=Object(i.c)(this);if(w.getState()==E.a.LOADED){v[d][w.tileCoord.toString()]=w;var L=w.inTransition(j);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)}if(1===w.getAlpha(j,t.time))continue}var P=f.getTileCoordChildTileRange(w.tileCoord,A,I),N=!1;P&&(N=T(d+1,P)),N||f.forEachTileCoordParentTileRange(w.tileCoord,T,null,A,I)}var k=p*r/m*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&x)&&(this.newTiles_||!this.renderedExtent_||!Object(M.g)(this.renderedExtent_,y)||this.renderedRevision!=l||g!=this.oversampling_||!x&&k!=this.renderedResolution)){var D=this.context;if(D){var G=u.getTilePixelSize(d,r,s),B=Math.round(_.getWidth()*G[0]/g),U=Math.round(_.getHeight()*G[1]/g),z=D.canvas;z.width!=B||z.height!=U?(this.oversampling_=g,z.width=B,z.height=U):((this.renderedExtent_&&!Object(M.p)(b,this.renderedExtent_)||this.renderedRevision!=l)&&D.clearRect(0,0,B,U),g=this.oversampling_)}this.renderedTiles.length=0;var X,H,Y,K,q,W,V,Z,J,$,Q=Object.keys(v).map(Number);for(Q.sort(function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0}),K=0,q=Q.length;K<q;++K)for(var tt in Y=Q[K],H=u.getTilePixelSize(Y,r,s),X=f.getResolution(Y)/p,V=m*u.getGutterForProjection(s),Z=v[Y])w=Z[tt],O=((W=f.getTileCoordExtent(w.getTileCoord(),I))[0]-b[0])/p*m/g,S=(b[3]-W[3])/p*m/g,J=H[0]*X/g,$=H[1]*X/g,this.drawTileImage(w,t,e,O,S,J,$,V,d===Y),this.renderedTiles.push(w);this.renderedRevision=l,this.renderedResolution=p*r/m*g,this.renderedExtent_=b}var et=this.renderedResolution/a,rt=Object(F.b)(this.imageTransform_,r*n[0]/2,r*n[1]/2,et,et,0,(this.renderedExtent_[0]-c[0])/this.renderedResolution*r,(c[1]-this.renderedExtent_[3])/this.renderedResolution*r);return Object(F.b)(this.coordinateToCanvasPixelTransform,r*n[0]/2-rt[4],r*n[1]/2-rt[5],r/a,-r/a,0,-c[0],-c[1]),this.updateUsedTiles(t.usedTiles,u,d,_),this.manageTilePyramid(t,u,f,r,s,y,d,h.getPreload()),this.scheduleExpireCache(t,u),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,r,n,o,s,a,c,h){var u=this.getTileImage(t);if(u){var l=Object(i.c)(this),f=h?t.getAlpha(l,e.time):1,d=this.getLayer().getSource();1!==f||d.getOpaque(e.viewState.projection)||this.context.clearRect(n,o,s,a);var p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,c,c,u.width-2*c,u.height-2*c,n,o,s,a),p&&this.context.restore(),1!==f?e.animate=!0:h&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(gt);mt.handles=function(t){return t.getType()===K.a.TILE},mt.create=function(t,e){return new mt(e)},mt.prototype.getLayer;var vt=mt,Et=r(92),wt=r.n(Et),Ot=function(){};Ot.prototype.getReplay=function(t,e){return Object(i.b)()},Ot.prototype.isEmpty=function(){return Object(i.b)()},Ot.prototype.addDeclutter=function(t){return Object(i.b)()};var St=Ot,Tt={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},Ct=r(36),xt=r(43),Rt=r(128),It=r(5);function At(t,e,r,i,n,o,s,a){for(var c,h,u,l=[],f=t[e]>t[r-i],d=n.length,p=t[e],g=t[e+1],y=t[e+=i],_=t[e+1],b=0,m=Math.sqrt(Math.pow(y-p,2)+Math.pow(_-g,2)),v="",E=0,w=0;w<d;++w){h=f?d-w-1:w;var O=n.charAt(h),S=o(v=f?O+v:v+O)-E;E+=S;for(var T=s+S/2;e<r-i&&b+m<T;)p=y,g=_,y=t[e+=i],_=t[e+1],b+=m,m=Math.sqrt(Math.pow(y-p,2)+Math.pow(_-g,2));var C=T-b,x=Math.atan2(_-g,y-p);if(f&&(x+=x>0?-Math.PI:Math.PI),void 0!==u){var R=x-u;if(R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>a)return null}var I=C/m,A=Object(It.c)(p,y,I),M=Object(It.c)(g,_,I);u==x?(f&&(c[0]=A,c[1]=M,c[2]=S/2),c[4]=v):(E=S,c=[A,M,S/2,x,v=O],f?l.unshift(c):l.push(c),u=x),s+=S}return l}var Mt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},jt=[Mt.FILL],Lt=[Mt.STROKE],Pt=[Mt.BEGIN_PATH],Nt=[Mt.CLOSE_PATH],kt=Mt,Dt=[Tt.POLYGON,Tt.CIRCLE,Tt.LINE_STRING,Tt.IMAGE,Tt.TEXT,Tt.DEFAULT],Ft={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Gt=Object(M.j)(),Bt=Object(F.c)(),Ut=function(t){function e(e,r,i,n,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=r,this.overlaps=o,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(F.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,r,i,n,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,r,i,n,o,s,a,c,h,u,l,f,d,p,g,y,_){var b=y||_;e-=n*=f,r-=o*=f;var m,v,E,w,O=p+h>i.width?i.width-h:p,S=a+u>i.height?i.height-u:a,T=g[3]+O*f+g[1],C=g[0]+S*f+g[2],x=e-g[3],R=r-g[0];(b||0!==l)&&(m=[x,R],v=[x+T,R],E=[x+T,R+C],w=[x,R+C]);var I=null;if(0!==l){var A=e+n,j=r+o;I=Object(F.b)(Bt,A,j,1,1,l,-A,-j),Object(M.l)(Gt),Object(M.r)(Gt,Object(F.a)(Bt,m)),Object(M.r)(Gt,Object(F.a)(Bt,v)),Object(M.r)(Gt,Object(F.a)(Bt,E)),Object(M.r)(Gt,Object(F.a)(Bt,w))}else Object(M.k)(x,R,x+T,R+C,Gt);var L=t.canvas,P=_?_[2]*f/2:0,N=Gt[0]-P<=L.width&&Gt[2]+P>=0&&Gt[1]-P<=L.height&&Gt[3]+P>=0;if(d&&(e=Math.round(e),r=Math.round(r)),s){if(!N&&1==s[4])return;Object(M.q)(s,Gt);var k=N?[t,I?I.slice(0):null,c,i,h,u,O,S,e,r,f]:null;k&&b&&k.push(y,_,m,v,E,w),s.push(k)}else N&&(b&&this.replayTextBackground_(t,m,v,E,w,y,_),Object($.n)(t,I,c,i,h,u,O,S,e,r,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,r,i,n,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var c,h,u,l=[t[e],t[e+1]],f=[NaN,NaN],d=!0;for(c=e+i;c<r;c+=i)f[0]=t[c],f[1]=t[c+1],(u=Object(M.i)(a,f))!==h?(d&&(this.coordinates[s++]=l[0],this.coordinates[s++]=l[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],d=!1):u===Ct.a.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],d=!1):d=!0,l[0]=f[0],l[1]=f[1],h=u;return(n&&d||c===e+i)&&(this.coordinates[s++]=l[0],this.coordinates[s++]=l[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,r,i,n){for(var o=0,s=r.length;o<s;++o){var a=r[o],c=this.appendFlatCoordinates(t,e,a,i,!1,!1);n.push(c),e=a}return e},e.prototype.drawCustom=function(t,e,r){this.beginGeometry(t,e);var i,n,o,s,a,c=t.getType(),h=t.getStride(),u=this.coordinates.length;if(c==tt.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var l=t.getEndss();a=0;for(var f=0,d=l.length;f<d;++f){var p=[];a=this.drawCustomCoordinates_(i,a,l[f],h,p),s.push(p)}this.instructions.push([kt.CUSTOM,u,s,t,r,xt.c])}else c==tt.a.POLYGON||c==tt.a.MULTI_LINE_STRING?(o=[],i=c==tt.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),h,o),this.instructions.push([kt.CUSTOM,u,o,t,r,xt.b])):c==tt.a.LINE_STRING||c==tt.a.MULTI_POINT?(i=t.getFlatCoordinates(),n=this.appendFlatCoordinates(i,0,i.length,h,!1,!1),this.instructions.push([kt.CUSTOM,u,n,t,r,xt.a])):c==tt.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),n=this.coordinates.length,this.instructions.push([kt.CUSTOM,u,n,t,r]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[kt.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[kt.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(F.a)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,$.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var r=t[4];if(1==r||r==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var n=5,o=t.length;n<o;++n){var s=t[n];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),$.n.apply(void 0,s))}}t.length=5,Object(M.l)(t)}}},e.prototype.replay_=function(t,e,r,n,o,s,a){var c;this.pixelCoordinates_&&Object(q.b)(e,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Object(rt.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(F.g)(this.renderedTransform_,e));for(var h,u,l,f,d,p,g,y,_,b,m,v,E=!Object(S.d)(r),w=0,O=n.length,T=0,C=0,x=0,R=null,I=null,A=this.coordinateCache_,j=this.viewRotation_,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},P=this.instructions!=n||this.overlaps?0:200;w<O;){var N=n[w];switch(N[0]){case kt.BEGIN_GEOMETRY:b=N[1],E&&r[Object(i.c)(b)]||!b.getGeometry()?w=N[2]:void 0===a||Object(M.F)(a,b.getGeometry().getExtent())?++w:w=N[2]+1;break;case kt.BEGIN_PATH:C>P&&(this.fill_(t),C=0),x>P&&(t.stroke(),x=0),C||x||(t.beginPath(),f=d=NaN),++w;break;case kt.CIRCLE:var k=c[T=N[1]],D=c[T+1],G=c[T+2]-k,B=c[T+3]-D,U=Math.sqrt(G*G+B*B);t.moveTo(k+U,D),t.arc(k,D,U,0,2*Math.PI,!0),++w;break;case kt.CLOSE_PATH:t.closePath(),++w;break;case kt.CUSTOM:T=N[1],h=N[2];var z=N[3],X=N[4],H=6==N.length?N[5]:void 0;L.geometry=z,L.feature=b,w in A||(A[w]=[]);var Y=A[w];H?H(c,T,h,2,Y):(Y[0]=c[T],Y[1]=c[T+1],Y.length=2),X(Y,L),++w;break;case kt.DRAW_IMAGE:T=N[1],h=N[2],_=N[3],u=N[4],l=N[5],y=s?null:N[6];var K=N[7],W=N[8],V=N[9],Z=N[10],J=N[11],Q=N[12],tt=N[13],et=N[14],it=void 0,nt=void 0,ot=void 0;for(N.length>16?(it=N[15],nt=N[16],ot=N[17]):(it=$.j,nt=ot=!1),J&&(Q+=j);T<h;T+=2)this.replayImage_(t,c[T],c[T+1],_,u,l,y,K,W,V,Z,Q,tt,o,et,it,nt?R:null,ot?I:null);this.renderDeclutter_(y,b),++w;break;case kt.DRAW_CHARS:var st=N[1],at=N[2],ct=N[3];y=s?null:N[4];var ht=N[5],ut=N[6],lt=N[7],ft=N[8],dt=N[9],pt=N[10],gt=N[11],yt=N[12],_t=N[13],bt=N[14],mt=Object(Rt.a)(c,st,at,2),vt=ft(yt);if(ht||vt<=mt){var Et=this.textStates[_t].textAlign,wt=At(c,st,at,2,yt,ft,(mt-vt)*Ft[Et],lt);if(wt){var Ot=void 0,St=void 0,Tt=void 0,Ct=void 0,xt=void 0;if(pt)for(Ot=0,St=wt.length;Ot<St;++Ot)Tt=(xt=wt[Ot])[4],Ct=this.getImage(Tt,_t,"",pt),u=xt[2]+gt,l=ct*Ct.height+2*(.5-ct)*gt-dt,this.replayImage_(t,xt[0],xt[1],Ct,u,l,y,Ct.height,1,0,0,xt[3],bt,!1,Ct.width,$.j,null,null);if(ut)for(Ot=0,St=wt.length;Ot<St;++Ot)Tt=(xt=wt[Ot])[4],Ct=this.getImage(Tt,_t,ut,""),u=xt[2],l=ct*Ct.height-dt,this.replayImage_(t,xt[0],xt[1],Ct,u,l,y,Ct.height,1,0,0,xt[3],bt,!1,Ct.width,$.j,null,null)}}this.renderDeclutter_(y,b),++w;break;case kt.END_GEOMETRY:if(void 0!==s){var It=s(b=N[1]);if(It)return It}++w;break;case kt.FILL:P?C++:this.fill_(t),++w;break;case kt.MOVE_TO_LINE_TO:for(T=N[1],h=N[2],m=c[T],g=(v=c[T+1])+.5|0,(p=m+.5|0)===f&&g===d||(t.moveTo(m,v),f=p,d=g),T+=2;T<h;T+=2)p=(m=c[T])+.5|0,g=(v=c[T+1])+.5|0,T!=h-2&&p===f&&g===d||(t.lineTo(m,v),f=p,d=g);++w;break;case kt.SET_FILL_STYLE:R=N,this.alignFill_=N[2],C&&(this.fill_(t),C=0,x&&(t.stroke(),x=0)),t.fillStyle=N[1],++w;break;case kt.SET_STROKE_STYLE:I=N,x&&(t.stroke(),x=0),this.setStrokeStyle_(t,N),++w;break;case kt.STROKE:P?x++:t.stroke(),++w;break;default:++w}}C&&this.fill_(t),x&&t.stroke()},e.prototype.replay=function(t,e,r,i,n){this.viewRotation_=r,this.replay_(t,e,i,this.instructions,n,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,r,i,n,o){return this.viewRotation_=r,this.replay_(t,e,i,this.hitDetectionInstructions,!0,n,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var r,i,n=e.length,o=-1;for(t=0;t<n;++t)(i=(r=e[t])[0])==kt.END_GEOMETRY?o=t:i==kt.BEGIN_GEOMETRY&&(r[2]=t,Object(q.i)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var i=t.getColor();r.fillStyle=Object(Q.a)(i||$.b)}else r.fillStyle=void 0;if(e){var n=e.getColor();r.strokeStyle=Object(Q.a)(n||$.k);var o=e.getLineCap();r.lineCap=void 0!==o?o:$.d;var s=e.getLineDash();r.lineDash=s?s.slice():$.e;var a=e.getLineDashOffset();r.lineDashOffset=a||$.f;var c=e.getLineJoin();r.lineJoin=void 0!==c?c:$.g;var h=e.getWidth();r.lineWidth=void 0!==h?h:$.h;var u=e.getMiterLimit();r.miterLimit=void 0!==u?u:$.i,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t,e){var r=t.fillStyle,i=[kt.SET_FILL_STYLE,r];return"string"!=typeof r&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[kt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,r){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,r)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var r=t.strokeStyle,i=t.lineCap,n=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||n!=t.currentLineDash&&!Object(q.b)(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=c)&&(void 0!==r&&e.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=c)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[kt.END_GEOMETRY,e];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(M.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(M.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(nt),zt=function(t){function e(e,r,i,n,o,s){t.call(this,e,r,i,n,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,r,i){return this.appendFlatCoordinates(t,e,r,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),i=t.getStride(),n=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,i);this.instructions.push([kt.DRAW_IMAGE,n,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),i=t.getStride(),n=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,i);this.instructions.push([kt.DRAW_IMAGE,n,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var r=t.getAnchor(),i=t.getSize(),n=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroup_=e,this.hitDetectionImage_=n,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Ut),Xt=function(t){function e(e,r,i,n,o,s){t.call(this,e,r,i,n,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,r,i){var n=this.coordinates.length,o=this.appendFlatCoordinates(t,e,r,i,!1,!1),s=[kt.MOVE_TO_LINE_TO,n,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},e.prototype.drawLineString=function(t,e){var r=this.state,i=r.strokeStyle,n=r.lineWidth;if(void 0!==i&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],Pt);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Lt),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var r=this.state,i=r.strokeStyle,n=r.lineWidth;if(void 0!==i&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],Pt);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),c=0,h=0,u=o.length;h<u;++h)c=this.drawFlatCoordinates_(s,c,o[h],a);this.hitDetectionInstructions.push(Lt),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Lt),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Lt),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Pt)},e}(Ut),Ht=r(50),Yt=r(60),Kt=function(t){function e(e,r,i,n,o,s){t.call(this,e,r,i,n,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,r,i){var n=this.state,o=void 0!==n.fillStyle,s=null!=n.strokeStyle,a=r.length;this.instructions.push(Pt),this.hitDetectionInstructions.push(Pt);for(var c=0;c<a;++c){var h=r[c],u=this.coordinates.length,l=this.appendFlatCoordinates(t,e,h,i,!0,!s),f=[kt.MOVE_TO_LINE_TO,u,l];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(Nt),this.hitDetectionInstructions.push(Nt)),e=h}return o&&(this.instructions.push(jt),this.hitDetectionInstructions.push(jt)),s&&(this.instructions.push(Lt),this.hitDetectionInstructions.push(Lt)),e},e.prototype.drawCircle=function(t,e){var r=this.state,i=r.fillStyle,n=r.strokeStyle;if(void 0!==i||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,Object(Ht.b)($.b)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var c=[kt.CIRCLE,a];this.instructions.push(Pt,c),this.hitDetectionInstructions.push(Pt,c),this.hitDetectionInstructions.push(jt),void 0!==r.fillStyle&&this.instructions.push(jt),void 0!==r.strokeStyle&&(this.instructions.push(Lt),this.hitDetectionInstructions.push(Lt)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var r=this.state,i=r.fillStyle,n=r.strokeStyle;if(void 0!==i||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,Object(Ht.b)($.b)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var r=this.state,i=r.fillStyle,n=r.strokeStyle;if(void 0!==i||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,Object(Ht.b)($.b)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),c=0,h=0,u=o.length;h<u;++h)c=this.drawFlatCoordinatess_(s,c,o[h],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,r=0,i=e.length;r<i;++r)e[r]=Object(Yt.e)(e[r],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Ut);function qt(t,e,r,i,n){var o,s,a,c,h,u,l,f,d,p=r,g=r,y=0,_=0,b=r;for(o=r;o<i;o+=n){var m=e[o],v=e[o+1];void 0!==c&&(f=m-c,d=v-h,a=Math.sqrt(f*f+d*d),void 0!==u&&(_+=s,Math.acos((u*f+l*d)/(s*a))>t&&(_>y&&(y=_,p=b,g=o),_=0,b=o-n)),s=a,u=f,l=d),c=m,h=v}return(_+=a)>y?[b,o]:[p,g]}var Wt=r(134);var Vt={Circle:Kt,Default:Ut,Image:zt,LineString:Xt,Polygon:Kt,Text:function(t){function e(e,r,i,n,o,s){t.call(this,e,r,i,n,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},$.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var r=this.textFillState_,i=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(r||i)){var o,s,a=this.coordinates.length,c=t.getType(),h=null,u=2,l=2;if(n.placement===Wt.a.LINE){if(!Object(M.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(h=t.getFlatCoordinates(),l=t.getStride(),c==tt.a.LINE_STRING)f=[h.length];else if(c==tt.a.MULTI_LINE_STRING)f=t.getEnds();else if(c==tt.a.POLYGON)f=t.getEnds().slice(0,1);else if(c==tt.a.MULTI_POLYGON){var d=t.getEndss();for(f=[],o=0,s=d.length;o<s;++o)f.push(d[o][0])}this.beginGeometry(t,e);for(var p,g=n.textAlign,y=0,_=0,b=f.length;_<b;++_){if(null==g){var m=qt(n.maxAngle,h,y,f[_],l);y=m[0],p=m[1]}else p=f[_];for(o=y;o<p;o+=l)this.coordinates.push(h[o],h[o+1]);u=this.coordinates.length,y=f[_],this.drawChars_(a,u,this.declutterGroup_),a=u}this.endGeometry(t,e)}else{var v=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),E=v.width/this.pixelRatio;switch(c){case tt.a.POINT:case tt.a.MULTI_POINT:u=(h=t.getFlatCoordinates()).length;break;case tt.a.LINE_STRING:h=t.getFlatMidpoint();break;case tt.a.CIRCLE:h=t.getCenter();break;case tt.a.MULTI_LINE_STRING:u=(h=t.getFlatMidpoints()).length;break;case tt.a.POLYGON:if(h=t.getFlatInteriorPoint(),!n.overflow&&h[2]/this.resolution<E)return;l=3;break;case tt.a.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(h=[],o=0,s=w.length;o<s;o+=3)(n.overflow||w[o+2]/this.resolution>=E)&&h.push(w[o],w[o+1]);if(0==(u=h.length))return}u=this.appendFlatCoordinates(h,0,u,l,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(v,a,u),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,r,i){var n,o=i+e+t+r+this.pixelRatio;if(!$.o.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,c=r?this.fillStates[r]||this.textFillState_:null,h=this.textStates[e]||this.textState_,u=this.pixelRatio,l=h.scale*u,f=Ft[h.textAlign||$.l],d=i&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),g=p.length,y=[],_=function(t,e,r){for(var i=e.length,n=0,o=0;o<i;++o){var s=Object($.q)(t,e[o]);n=Math.max(n,s),r.push(s)}return n}(h.font,p,y),b=Object($.p)(h.font),m=b*g,v=_+d,E=Object(I.a)(Math.ceil(v*l),Math.ceil((m+d)*l));n=E.canvas,$.o.set(o,n),1!=l&&E.scale(l,l),E.font=h.font,i&&(E.strokeStyle=s.strokeStyle,E.lineWidth=d,E.lineCap=s.lineCap,E.lineJoin=s.lineJoin,E.miterLimit=s.miterLimit,a.a&&s.lineDash.length&&(E.setLineDash(s.lineDash),E.lineDashOffset=s.lineDashOffset)),r&&(E.fillStyle=c.fillStyle),E.textBaseline="middle",E.textAlign="center";var w,O=.5-f,S=f*n.width/l+O*d;if(i)for(w=0;w<g;++w)E.strokeText(p[w],S+O*y[w],.5*(d+b)+w*b);if(r)for(w=0;w<g;++w)E.fillText(p[w],S+O*y[w],.5*(d+b)+w*b)}return $.o.get(o)},e.prototype.drawTextImage_=function(t,e,r){var i=this.textState_,n=this.textStrokeState_,o=this.pixelRatio,s=Ft[i.textAlign||$.l],a=Ft[i.textBaseline],c=n&&n.lineWidth?n.lineWidth:0,h=s*t.width/o+2*(.5-s)*c,u=a*t.height/o+2*(.5-a)*c;this.instructions.push([kt.DRAW_IMAGE,e,r,t,(h-this.textOffsetX_)*o,(u-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==$.j?$.j:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,e,r,t,(h-this.textOffsetX_)*o,(u-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,r){var i=this.textStrokeState_,n=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:n.font,textAlign:n.textAlign||$.l,scale:n.scale});var c=this.fillKey_;o&&(c in this.fillStates||(this.fillStates[c]={fillStyle:o.fillStyle}));var h=this.pixelRatio,u=Ft[n.textBaseline],l=this.textOffsetY_*h,f=this.text_,d=n.font,p=n.scale,g=i?i.lineWidth*p/2:0,y=this.widths_[d];y||(this.widths_[d]=y={}),this.instructions.push([kt.DRAW_CHARS,t,e,u,r,n.overflow,c,n.maxAngle,function(t){var e=y[t];return e||(e=y[t]=Object($.q)(d,t)),e*p*h},l,s,g*h,f,a,1]),this.hitDetectionInstructions.push([kt.DRAW_CHARS,t,e,u,r,n.overflow,c,n.maxAngle,function(t){var e=y[t];return e||(e=y[t]=Object($.q)(d,t)),e*p},l,s,g,f,a,1/h])},e.prototype.setTextStyle=function(t,e){var r,n,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((n=this.textFillState_)||(n=this.textFillState_={}),n.fillStyle=Object(Q.a)(s.getColor()||$.b)):n=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var c=a.getLineDash(),h=a.getLineDashOffset(),u=a.getWidth(),l=a.getMiterLimit();o.lineCap=a.getLineCap()||$.d,o.lineDash=c?c.slice():$.e,o.lineDashOffset=void 0===h?$.f:h,o.lineJoin=a.getLineJoin()||$.g,o.lineWidth=void 0===u?$.h:u,o.miterLimit=void 0===l?$.i:l,o.strokeStyle=Object(Q.a)(a.getColor()||$.k)}else o=this.textStrokeState_=null;r=this.textState_;var f=t.getFont()||$.c;Object($.a)(f);var d=t.getScale();r.overflow=t.getOverflow(),r.font=f,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||$.m,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||$.j,r.scale=void 0===d?1:d;var p=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(i.c)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(i.c)(n.fillStyle):""}else this.text_=""},e}(Ut)},Zt=function(t){function e(e,r,i,n,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=r,this.overlaps_=o,this.pixelRatio_=n,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(I.a)(1,1),this.hitDetectionTransform_=Object(F.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(M.j)()).push(1)),e},e.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var r=this.replaysByZIndex_[e],i=0,n=t.length;i<n;++i)if(t[i]in r)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var r in e)e[r].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,n,o,s){var a,c=2*(i=Math.round(i))+1,h=Object(F.b)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-r,-t[0],-t[1]),u=this.hitDetectionContext_;u.canvas.width!==c||u.canvas.height!==c?(u.canvas.width=c,u.canvas.height=c):u.clearRect(0,0,c,c),void 0!==this.renderBuffer_&&(a=Object(M.j)(),Object(M.r)(a,t),Object(M.c)(a,e*(this.renderBuffer_+i),a));var l,f,d=function(t){if(void 0!==Jt[t])return Jt[t];for(var e=2*t+1,r=new Array(e),i=0;i<e;i++)r[i]=new Array(e);var n=t,o=0,s=0;for(;n>=o;)$t(r,t+n,t+o),$t(r,t+o,t+n),$t(r,t-o,t+n),$t(r,t-n,t+o),$t(r,t-n,t-o),$t(r,t-o,t-n),$t(r,t+o,t-n),$t(r,t+n,t-o),2*((s+=1+2*++o)-n)+1>0&&(s+=1-2*(n-=1));return Jt[t]=r,r}(i);function p(t){for(var e=u.getImageData(0,0,c,c).data,r=0;r<c;r++)for(var i=0;i<c;i++)if(d[r][i]&&e[4*(i*c+r)+3]>0){var n=void 0;return(!l||f!=Tt.IMAGE&&f!=Tt.TEXT||-1!==l.indexOf(t))&&(n=o(t)),n||void u.clearRect(0,0,c,c)}}this.declutterTree_&&(l=this.declutterTree_.all().map(function(t){return t.value}));var g,y,_,b,m,v=Object.keys(this.replaysByZIndex_).map(Number);for(v.sort(q.g),g=v.length-1;g>=0;--g){var E=v[g].toString();for(_=this.replaysByZIndex_[E],y=Dt.length-1;y>=0;--y)if(void 0!==(b=_[f=Dt[y]]))if(!s||f!=Tt.IMAGE&&f!=Tt.TEXT){if(m=b.replayHitDetection(u,h,r,n,p,a))return m}else{var w=s[E];w?w.push(b,h.slice(0)):s[E]=[b,h.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,r=e[0],i=e[1],n=e[2],o=e[3],s=[r,i,r,o,n,o,n,i];return Object(rt.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var r=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var n=i[e];void 0===n&&(n=new(0,Vt[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=n);return n},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(S.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,r,i,n,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(q.g),t.save(),this.clip(t,e);var c,h,u,l,f,d,p=o||Dt;for(c=0,h=a.length;c<h;++c){var g=a[c].toString();for(f=this.replaysByZIndex_[g],u=0,l=p.length;u<l;++u){var y=p[u];if(d=f[y],void 0!==d)if(!s||y!=Tt.IMAGE&&y!=Tt.TEXT)d.replay(t,e,r,i,n);else{var _=s[g];_?_.push(d,e.slice(0)):s[g]=[d,e.slice(0)]}}}t.restore()},e}(St),Jt={0:[[!0]]};function $t(t,e,r){var i,n=Math.floor(t.length/2);if(e>=n)for(i=n;i<e;i++)t[i][r]=!0;else if(e<n)for(i=e+1;i<n;i++)t[i][r]=!0}var Qt=Zt,te=.5,ee={Point:function(t,e,r,i){var n=r.getImage();if(n){if(n.getImageState()!=H.a.LOADED)return;var o=t.getReplay(r.getZIndex(),Tt.IMAGE);o.setImageStyle(n,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=r.getText();if(s){var a=t.getReplay(r.getZIndex(),Tt.TEXT);a.setTextStyle(s,t.addDeclutter(!!n)),a.drawText(e,i)}},LineString:function(t,e,r,i){var n=r.getStroke();if(n){var o=t.getReplay(r.getZIndex(),Tt.LINE_STRING);o.setFillStrokeStyle(null,n),o.drawLineString(e,i)}var s=r.getText();if(s){var a=t.getReplay(r.getZIndex(),Tt.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(n||o){var s=t.getReplay(r.getZIndex(),Tt.POLYGON);s.setFillStrokeStyle(n,o),s.drawPolygon(e,i)}var a=r.getText();if(a){var c=t.getReplay(r.getZIndex(),Tt.TEXT);c.setTextStyle(a,t.addDeclutter(!1)),c.drawText(e,i)}},MultiPoint:function(t,e,r,i){var n=r.getImage();if(n){if(n.getImageState()!=H.a.LOADED)return;var o=t.getReplay(r.getZIndex(),Tt.IMAGE);o.setImageStyle(n,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=r.getText();if(s){var a=t.getReplay(r.getZIndex(),Tt.TEXT);a.setTextStyle(s,t.addDeclutter(!!n)),a.drawText(e,i)}},MultiLineString:function(t,e,r,i){var n=r.getStroke();if(n){var o=t.getReplay(r.getZIndex(),Tt.LINE_STRING);o.setFillStrokeStyle(null,n),o.drawMultiLineString(e,i)}var s=r.getText();if(s){var a=t.getReplay(r.getZIndex(),Tt.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(o||n){var s=t.getReplay(r.getZIndex(),Tt.POLYGON);s.setFillStrokeStyle(n,o),s.drawMultiPolygon(e,i)}var a=r.getText();if(a){var c=t.getReplay(r.getZIndex(),Tt.TEXT);c.setTextStyle(a,t.addDeclutter(!1)),c.drawText(e,i)}},GeometryCollection:function(t,e,r,i){var n,o,s=e.getGeometriesArray();for(n=0,o=s.length;n<o;++n){var a=ee[s[n].getType()];a(t,s[n],r,i)}},Circle:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(n||o){var s=t.getReplay(r.getZIndex(),Tt.CIRCLE);s.setFillStrokeStyle(n,o),s.drawCircle(e,i)}var a=r.getText();if(a){var c=t.getReplay(r.getZIndex(),Tt.TEXT);c.setTextStyle(a,t.addDeclutter(!1)),c.drawText(e,i)}}};function re(t,e){return parseInt(Object(i.c)(t),10)-parseInt(Object(i.c)(e),10)}function ie(t,e){var r=ne(t,e);return r*r}function ne(t,e){return te*t/e}function oe(t,e,r,i,n,o){var s=!1,a=r.getImage();if(a){var c=a.getImageState();c==H.a.LOADED||c==H.a.ERROR?a.unlistenImageChange(n,o):(c==H.a.IDLE&&a.load(),c=a.getImageState(),a.listenImageChange(n,o),s=!0)}return function(t,e,r,i){var n=r.getGeometryFunction()(e);if(!n)return;var o=n.getSimplifiedGeometry(i);if(r.getRenderer())!function t(e,r,i,n){if(r.getType()==tt.a.GEOMETRY_COLLECTION){for(var o=r.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,n);return}var c=e.getReplay(i.getZIndex(),Tt.DEFAULT);c.drawCustom(r,n,i.getRenderer())}(t,o,r,e);else{var s=ee[o.getType()];s(t,o,r,e)}}(t,e,r,i),s}var se=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?wt()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(M.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(I.a)(),Object(u.a)($.o,w.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(u.c)($.o,w.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,r){var i=e.extent,n=e.pixelRatio,o=r.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,c=s.rotation,h=a.getExtent(),u=this.getLayer().getSource(),l=this.getTransform(e,0),f=r.extent,d=void 0!==f;d&&this.clip(t,e,f);var p=this.replayGroup_;if(p&&!p.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,y=this.getLayer(),_=0,m=0,v=1!==r.opacity,E=y.hasListener(b.a.RENDER);if(v||E){var w=t.canvas.width,O=t.canvas.height;if(c){var S=Math.round(Math.sqrt(w*w+O*O));_=(S-w)/2,m=(S-O)/2,w=O=S}this.context.canvas.width=w,this.context.canvas.height=O,g=this.context}else g=t;var T=g.globalAlpha;v||(g.globalAlpha=r.opacity),g!=t&&g.translate(_,m);var C=e.viewHints,x=!(C[R.a.ANIMATING]||C[R.a.INTERACTING]),I=e.size[0]*n,A=e.size[1]*n;if(Object($.s)(g,-c,I/2,A/2),p.replay(g,l,c,o,x),u.getWrapX()&&a.canWrapX()&&!Object(M.g)(h,i)){for(var j,L=i[0],P=Object(M.E)(h),N=0;L<h[0];)j=P*--N,l=this.getTransform(e,j),p.replay(g,l,c,o,x),L+=P;for(N=0,L=i[2];L>h[2];)j=P*++N,l=this.getTransform(e,j),p.replay(g,l,c,o,x),L-=P}if(Object($.s)(g,c,I/2,A/2),E&&this.dispatchRenderEvent(g,e,l),g!=t){if(v){var k=t.globalAlpha;t.globalAlpha=r.opacity,t.drawImage(g.canvas,-_,-m),t.globalAlpha=k}else t.drawImage(g.canvas,-_,-m);g.translate(-_,-m)}v||(g.globalAlpha=T)}d&&t.restore()},e.prototype.composeFrame=function(t,e,r){var i=this.getTransform(t,0);this.preCompose(r,t,i),this.compose(r,t,e),this.postCompose(r,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,c=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,r,{},function(t){var e=Object(i.c)(t);if(!(e in h))return h[e]=!0,n.call(o,t,c)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var r=this.getLayer(),i=r.getSource(),n=t.viewHints[R.a.ANIMATING],o=t.viewHints[R.a.INTERACTING],s=r.getUpdateWhileAnimating(),a=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&n||!a&&o)return!0;var c=t.extent,h=t.viewState,u=h.projection,l=h.resolution,f=t.pixelRatio,d=r.getRevision(),p=r.getRenderBuffer(),g=r.getRenderOrder();void 0===g&&(g=re);var y=Object(M.c)(c,p*l),_=h.projection.getExtent();if(i.getWrapX()&&h.projection.canWrapX()&&!Object(M.g)(_,t.extent)){var b=Object(M.E)(_),m=Math.max(Object(M.E)(y)/2,b);y[0]=_[0]-m,y[2]=_[2]+m}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&Object(M.g)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var v=new Qt(ne(l,f),y,l,f,i.getOverlaps(),this.declutterTree_,r.getRenderBuffer());i.loadFeatures(y,l,u);var E=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,l)),e){var n=this.renderFeature(t,l,f,e,v);this.dirty_=this.dirty_||n}}.bind(this);if(g){var w=[];i.forEachFeatureInExtent(y,function(t){w.push(t)}),w.sort(g);for(var O=0,S=w.length;O<S;++O)E(w[O])}else i.forEachFeatureInExtent(y,E);return v.finish(),this.renderedResolution_=l,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.replayGroup_=v,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=oe(n,t,i[s],ie(e,r),this.handleStyleImageChange_,this)||o;else o=oe(n,t,i,ie(e,r),this.handleStyleImageChange_,this);return o},e}(pt);se.handles=function(t){return t.getType()===K.a.VECTOR},se.create=function(t,e){return new se(e)};var ae=se,ce={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},he=r(8),ue=r(28),le={image:[Tt.POLYGON,Tt.CIRCLE,Tt.LINE_STRING,Tt.IMAGE,Tt.TEXT],hybrid:[Tt.POLYGON,Tt.LINE_STRING]},fe={image:[Tt.DEFAULT],hybrid:[Tt.IMAGE,Tt.TEXT,Tt.DEFAULT],vector:Dt},de=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?wt()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(F.c)();var r=e.getRenderMode();this.zDirection=r===ce.VECTOR?1:0,r!==ce.VECTOR&&(this.context=Object(I.a)()),Object(u.a)($.o,w.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(u.c)($.o,w.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,r,i,n,o){var s=t.prototype.getTile.call(this,e,r,i,n,o);return s.getState()===E.a.LOADED&&(this.createReplayGroup_(s,n,o),this.context&&this.renderTileImage_(s,n,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,r){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,r)},e.prototype.createReplayGroup_=function(t,e,r){var i=this,n=this.getLayer(),o=n.getRevision(),s=n.getRenderOrder()||null,a=t.getReplayState(n);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var c=n.getSource(),h=c.getTileGrid(),u=c.getTileGridForProjection(r).getResolution(t.tileCoord[0]),l=t.extent,f=function(o,f){var d=t.getTile(t.tileKeys[o]);if(d.getState()==E.a.LOADED){var p=d.tileCoord,g=h.getTileCoordExtent(p),y=Object(M.B)(l,g),_=Object(M.p)(g,y)?null:Object(M.c)(y,n.getRenderBuffer()*u,i.tmpExtent),b=d.getProjection(),m=!1;Object(he.equivalent)(r,b)||(m=!0,d.setProjection(r)),a.dirty=!1;var v=new Qt(0,y,u,e,c.getOverlaps(),i.declutterTree_,n.getRenderBuffer()),w=ie(u,e),O=function(t){var e,r=t.getStyleFunction()||n.getStyleFunction();if(r&&(e=r(t,u)),e){var i=this.renderFeature(t,w,e,v);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},S=d.getFeatures();s&&s!==a.renderedRenderOrder&&S.sort(s);for(var T=0,C=S.length;T<C;++T){var x=S[T];m&&(b.getUnits()==ue.b.TILE_PIXELS&&(b.setWorldExtent(g),b.setExtent(d.getExtent())),x.getGeometry().transform(b,r)),_&&!Object(M.F)(_,x.getGeometry().getExtent())||O.call(i,x)}v.finish(),d.setReplayGroup(n,t.tileCoord.toString(),v)}},d=0,p=t.tileKeys.length;d<p;++d)f(d);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){var s=e.viewState.resolution,a=e.viewState.rotation;r=null==r?0:r;var c,h,u,l,f=this.getLayer(),d={},p=this.renderedTiles;for(u=0,l=p.length;u<l;++u){var g=p[u];if(c=Object(M.c)(g.extent,r*s,c),Object(M.f)(c,t))for(var y=0,_=g.tileKeys.length;y<_;++y){var b=g.getTile(g.tileKeys[y]);if(b.getState()==E.a.LOADED){var m=b.getReplayGroup(f,g.tileCoord.toString());h=h||m.forEachFeatureAtCoordinate(t,s,a,r,{},function(t){var e=Object(i.c)(t);if(!(e in d))return d[e]=!0,n.call(o,t,f)},null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var r=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,n=r.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,c=r.getTileCoordExtent(i,this.tmpExtent),h=o.center,u=Object(M.C)(c),l=e.size,f=Math.round(s*l[0]/2),d=Math.round(s*l[1]/2);return Object(F.b)(this.tmpTransform_,f,d,n/a,n/a,o.rotation,(u[0]-h[0])/n,(h[1]-u[1])/n)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,r,i){var n=this.getLayer(),o=n.getRenderMode();if(o!=ce.IMAGE){var s,a,c=n.getDeclutter()?{}:null,h=n.getSource(),u=fe[o],l=r.pixelRatio,f=r.viewState.rotation,d=r.size;f&&(s=Math.round(l*d[0]/2),a=Math.round(l*d[1]/2),Object($.s)(e,-f,s,a)),c&&this.declutterTree_.clear();for(var p=r.viewHints,g=!(p[R.a.ANIMATING]||p[R.a.INTERACTING]),y=this.renderedTiles,_=h.getTileGridForProjection(r.viewState.projection),b=[],m=[],v=y.length-1;v>=0;--v){var w=y[v];if(w.getState()!=E.a.ABORT)for(var O=w.tileCoord,S=_.getTileCoordExtent(O,this.tmpExtent)[0]-w.extent[0],T=void 0,C=0,x=w.tileKeys.length;C<x;++C){var I=w.getTile(w.tileKeys[C]);if(I.getState()==E.a.LOADED){var A=I.getReplayGroup(n,O.toString());if(A&&A.hasReplays(u)){T||(T=this.getTransform(r,S));var M=I.tileCoord[0],j=A.getClipCoords(T);e.save(),e.globalAlpha=i.opacity;for(var L=0,P=b.length;L<P;++L){var N=b[L];M<m[L]&&(e.beginPath(),e.moveTo(j[0],j[1]),e.lineTo(j[2],j[3]),e.lineTo(j[4],j[5]),e.lineTo(j[6],j[7]),e.moveTo(N[6],N[7]),e.lineTo(N[4],N[5]),e.lineTo(N[2],N[3]),e.lineTo(N[0],N[1]),e.clip())}A.replay(e,T,f,{},g,u,c),e.restore(),b.push(j),m.push(M)}}}}c&&function(t,e,r,i){for(var n=Object.keys(t).map(Number).sort(q.g),o={},s=0,a=n.length;s<a;++s)for(var c=t[n[s].toString()],h=0,u=c.length;h<u;){var l=c[h++],f=c[h++];l.replay(e,f,r,o,i)}}(c,e,f,g),f&&Object($.s)(e,f,s,a)}t.prototype.postCompose.call(this,e,r,i)},e.prototype.renderFeature=function(t,e,r,i){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var o=0,s=r.length;o<s;++o)n=oe(i,t,r[o],e,this.handleStyleImageChange_,this)||n;else n=oe(i,t,r,e,this.handleStyleImageChange_,this);return n},e.prototype.renderTileImage_=function(t,e,r){var i=this.getLayer(),n=t.getReplayState(i),o=i.getRevision(),s=le[i.getRenderMode()];if(s&&n.renderedTileRevision!==o){n.renderedTileRevision=o;var a=t.wrappedTileCoord,c=a[0],h=i.getSource(),u=h.getTileGridForProjection(r),l=u.getResolution(c),f=t.getContext(i),d=h.getTilePixelSize(c,e,r);f.canvas.width=d[0],f.canvas.height=d[1];for(var p=u.getTileCoordExtent(a,this.tmpExtent),g=0,y=t.tileKeys.length;g<y;++g){var _=t.getTile(t.tileKeys[g]);if(_.getState()==E.a.LOADED){var b=e/l,m=Object(F.e)(this.tmpTransform_);Object(F.f)(m,b,-b),Object(F.h)(m,-p[0],-p[3]),_.getReplayGroup(i,t.tileCoord.toString()).replay(f,m,0,{},!0,s)}}}},e}(vt);de.handles=function(t){return t.getType()===K.a.VECTOR_TILE},de.create=function(t,e){return new de(e)};var pe=de,ge=function(t){function e(e){(e=Object(S.a)({},e)).controls||(e.controls=Object(B.a)()),e.interactions||(e.interactions=Object(U.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new ft(this);return t.registerLayerRenderers([_t,vt,ae,pe]),t},e}(G);e.default=ge},function(t,e,r){"use strict";r.r(e);var i=r(53),n=r(3),o=r(7),s=r(30),a=r(47),c=r(4),h=function(t){function e(e,r,i){t.call(this);var n=i||{};this.tileCoord=e,this.state=r,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(c.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var i=e-r+1e3/60;return i>=this.transition_?1:Object(s.a)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),u=r(15),l=r(1);function f(){var t=Object(u.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var d=function(t){function e(e,r,i,n,o,s){t.call(this,e,r,s),this.crossOrigin_=n,this.src_=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=f()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=f(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(l.b)(this.image_,c.a.ERROR,this.handleImageError_,this),Object(l.b)(this.image_,c.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.e),this.imageListenerKeys_=null},e}(h);function p(t,e,r,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=r,i):[t,e,r]}function g(t,e,r){return t+"/"+e+"/"+r}function y(t){return g(t[0],t[1],t[2])}var _=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),r=e.tileCoord[0].toString();if(r in t&&t[r].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(y(e.tileCoord)),e.dispose())},this)}},e}(r(130).a),b=r(8),m=r(0),v=r(5);function E(t,e,r,i){var n=r-t,o=i-e,s=Math.sqrt(n*n+o*o);return[Math.round(r+n/s),Math.round(i+o/s)]}var w=function(t,e,r,i,n){this.sourceProj_=t,this.targetProj_=e;var o={},s=Object(b.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(m.E)(i)==Object(m.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(m.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(m.E)(this.targetProj_.getExtent()):null;var a=Object(m.C)(r),c=Object(m.D)(r),h=Object(m.w)(r),u=Object(m.v)(r),l=this.transformInv_(a),f=this.transformInv_(c),d=this.transformInv_(h),p=this.transformInv_(u);if(this.addQuad_(a,c,h,u,l,f,d,p,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,r){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var r=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-r<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};w.prototype.addTriangle_=function(t,e,r,i,n,o){this.triangles_.push({source:[i,n,o],target:[t,e,r]})},w.prototype.addQuad_=function(t,e,r,i,n,o,s,a,c){var h=Object(m.b)([n,o,s,a]),u=this.sourceWorldWidth_?Object(m.E)(h)/this.sourceWorldWidth_:null,l=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&u>.5&&u<1,d=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var p=Object(m.b)([t,e,r,i]);d=Object(m.E)(p)/this.targetWorldWidth_>.25||d}!f&&this.sourceProj_.isGlobal()&&u&&(d=u>.25||d)}if(d||!this.maxSourceExtent_||Object(m.F)(h,this.maxSourceExtent_)){if(!(d||isFinite(n[0])&&isFinite(n[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(c>0))return;d=!0}if(c>0){if(!d){var g,y=[(t[0]+r[0])/2,(t[1]+r[1])/2],_=this.transformInv_(y);if(f)g=(Object(v.d)(n[0],l)+Object(v.d)(s[0],l))/2-Object(v.d)(_[0],l);else g=(n[0]+s[0])/2-_[0];var b=(n[1]+s[1])/2-_[1];d=g*g+b*b>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var E=[(e[0]+r[0])/2,(e[1]+r[1])/2],w=this.transformInv_(E),O=[(i[0]+t[0])/2,(i[1]+t[1])/2],S=this.transformInv_(O);this.addQuad_(t,e,E,O,n,o,w,S,c-1),this.addQuad_(O,E,r,i,S,w,s,a,c-1)}else{var T=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(T),x=[(r[0]+i[0])/2,(r[1]+i[1])/2],R=this.transformInv_(x);this.addQuad_(t,T,x,i,n,C,R,a,c-1),this.addQuad_(T,e,r,x,C,o,s,R,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,r,i,n,s,a),this.addTriangle_(t,e,r,n,o,s)}},w.prototype.calculateSourceExtent=function(){var t=Object(m.j)();return this.triangles_.forEach(function(e,r,i){var n=e.source;Object(m.r)(t,n[0]),Object(m.r)(t,n[1]),Object(m.r)(t,n[2])}),t},w.prototype.getTriangles=function(){return this.triangles_};var O=w,S=function(t){function e(e,r,n,s,a,c,h,u,l,f,d){t.call(this,a,o.a.IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=h,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=s,this.wrappedTileCoord_=c||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var p=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),_=g?Object(m.B)(p,g):p;if(0!==Object(m.u)(_)){var E=e.getExtent();E&&(y=y?Object(m.B)(y,E):E);var w=s.getResolution(this.wrappedTileCoord_[0]),S=function(t,e,r,i){var n=Object(b.transform)(r,e,t),o=Object(b.getPointResolution)(e,i,r),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var c=t.getExtent();if(!c||Object(m.f)(c,n)){var h=Object(b.getPointResolution)(t,o,n)/o;isFinite(h)&&h>0&&(o/=h)}return o}(e,n,Object(m.x)(_),w);if(!isFinite(S)||S<=0)this.state=o.a.EMPTY;else{var T=void 0!==f?f:i.b;if(this.triangulation_=new O(e,n,_,y,S*T),0!==this.triangulation_.getTriangles().length){this.sourceZ_=r.getZForResolution(S);var C=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(C[1]=Object(v.a)(C[1],y[1],y[3]),C[3]=Object(v.a)(C[3],y[1],y[3])):C=Object(m.B)(C,y)),Object(m.u)(C)){for(var x=r.getTileRangeForExtentAndZ(C,this.sourceZ_),R=x.minX;R<=x.maxX;R++)for(var I=x.minY;I<=x.maxY;I++){var A=l(this.sourceZ_,R,I,h);A&&this.sourceTiles_.push(A)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,i){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i="number"==typeof r?r:r[0],n="number"==typeof r?r:r[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,r,i,n,o,s,a,c,h,l){var f=Object(u.a)(Math.round(r*t),Math.round(r*e));if(0===c.length)return f.canvas;f.scale(r,r);var d=Object(m.j)();c.forEach(function(t,e,r){Object(m.q)(d,t.extent)});var p=Object(m.E)(d),g=Object(m.A)(d),y=Object(u.a)(Math.round(r*p/i),Math.round(r*g/i)),_=r/i;c.forEach(function(t,e,r){var i=t.extent[0]-d[0],n=-(t.extent[3]-d[3]),o=Object(m.E)(t.extent),s=Object(m.A)(t.extent);y.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,i*_,n*_,o*_,s*_)});var b=Object(m.C)(s);return a.getTriangles().forEach(function(t,e,n){var s=t.source,a=t.target,c=s[0][0],h=s[0][1],u=s[1][0],l=s[1][1],p=s[2][0],g=s[2][1],_=(a[0][0]-b[0])/o,m=-(a[0][1]-b[1])/o,w=(a[1][0]-b[0])/o,O=-(a[1][1]-b[1])/o,S=(a[2][0]-b[0])/o,T=-(a[2][1]-b[1])/o,C=c,x=h;c=0,h=0;var R=[[u-=C,l-=x,0,0,w-_],[p-=C,g-=x,0,0,S-_],[0,0,u,l,O-m],[0,0,p,g,T-m]],I=Object(v.e)(R);if(I){f.save(),f.beginPath();var A=(_+w+S)/3,M=(m+O+T)/3,j=E(A,M,_,m),L=E(A,M,w,O),P=E(A,M,S,T);f.moveTo(L[0],L[1]),f.lineTo(j[0],j[1]),f.lineTo(P[0],P[1]),f.clip(),f.transform(I[0],I[2],I[1],I[3],_,m),f.translate(d[0]-C,d[3]-x),f.scale(i/r,-i/r),f.drawImage(y.canvas,0,0),f.restore()}}),l&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(t,e,r){var i=t.target,n=(i[0][0]-b[0])/o,s=-(i[0][1]-b[1])/o,a=(i[1][0]-b[0])/o,c=-(i[1][1]-b[1])/o,h=(i[2][0]-b[0])/o,u=-(i[2][1]-b[1])/o;f.beginPath(),f.moveTo(a,c),f.lineTo(n,s),f.lineTo(h,u),f.closePath(),f.stroke()}),f.restore()),f.canvas}(i,n,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,c,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,i){var n=e.getState();if(n==o.a.IDLE||n==o.a.LOADING){t++;var s=Object(l.a)(e,c.a.CHANGE,function(r){var i=e.getState();i!=o.a.LOADED&&i!=o.a.ERROR&&i!=o.a.EMPTY||(Object(l.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,r){t.getState()==o.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.e),this.sourcesListenerKeys_=null},e}(h),T=r(13);function C(t,e){var r=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,o=/\{-y\}/g;return function(s,a,c){return s?t.replace(r,s[0].toString()).replace(i,s[1].toString()).replace(n,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=s[0],r=e.getFullTileRange(t);return Object(T.a)(r,55),(r.getHeight()+s[2]).toString()}):void 0}}function x(t,e){for(var r=t.length,i=new Array(r),n=0;n<r;++n)i[n]=C(t[n],e);return function(t){if(1===t.length)return t[0];return function(e,r,i){if(e){var n=function(t){return(t[1]<<t[0])+t[2]}(e),o=Object(v.d)(n,t.length);return t[o](e,r,i)}}}(i)}function R(t,e,r){}var I=r(22),A=r(55),M=r(131),j=r(84),L=r(85),P=r(28),N=r(86),k=r(10),D=[0,0,0],F=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(T.a)(Object(k.e)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(e){if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}else e=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(T.a)(this.origins_.length==this.resolutions_.length,20));var n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Object(m.C)(n)),Object(T.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(T.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:j.b,Object(T.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new N.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):n&&this.calculateTileRanges_(n)};F.prototype.forEachTileCoord=function(t,e,r){for(var i=this.getTileRangeForExtentAndZ(t,e),n=i.minX,o=i.maxX;n<=o;++n)for(var s=i.minY,a=i.maxY;s<=a;++s)r([e,n,s])},F.prototype.forEachTileCoordParentTileRange=function(t,e,r,i,n){var o,s,a,c=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):c=this.getTileCoordExtent(t,n);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(N.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(c,h,i),e.call(r,h,o))return!0;--h}return!1},F.prototype.getExtent=function(){return this.extent_},F.prototype.getMaxZoom=function(){return this.maxZoom},F.prototype.getMinZoom=function(){return this.minZoom},F.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},F.prototype.getResolution=function(t){return this.resolutions_[t]},F.prototype.getResolutions=function(){return this.resolutions_},F.prototype.getTileCoordChildTileRange=function(t,e,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],n=2*t[2];return Object(N.a)(i,i+1,n,n+1,e)}var o=this.getTileCoordExtent(t,r);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},F.prototype.getTileRangeExtent=function(t,e,r){var i=this.getOrigin(t),n=this.getResolution(t),o=Object(A.c)(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*n,a=i[0]+(e.maxX+1)*o[0]*n,c=i[1]+e.minY*o[1]*n,h=i[1]+(e.maxY+1)*o[1]*n;return Object(m.k)(s,c,a,h,r)},F.prototype.getTileRangeForExtentAndZ=function(t,e,r){var i=D;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var n=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(N.a)(n,i[1],o,i[2],r)},F.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Object(A.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*r,e[1]+(t[2]+.5)*i[1]*r]},F.prototype.getTileCoordExtent=function(t,e){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=Object(A.c)(this.getTileSize(t[0]),this.tmpSize_),o=r[0]+t[1]*n[0]*i,s=r[1]+t[2]*n[1]*i,a=o+n[0]*i,c=s+n[1]*i;return Object(m.k)(o,s,a,c,e)},F.prototype.getTileCoordForCoordAndResolution=function(t,e,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,r)},F.prototype.getTileCoordForXYAndResolution_=function(t,e,r,i,n){var o=this.getZForResolution(r),s=r/this.getResolution(o),a=this.getOrigin(o),c=Object(A.c)(this.getTileSize(o),this.tmpSize_),h=i?.5:0,u=i?0:.5,l=Math.floor((t-a[0])/r+h),f=Math.floor((e-a[1])/r+u),d=s*l/c[0],g=s*f/c[1];return i?(d=Math.ceil(d)-1,g=Math.ceil(g)-1):(d=Math.floor(d),g=Math.floor(g)),p(o,d,g,n)},F.prototype.getTileCoordForXYAndZ_=function(t,e,r,i,n){var o=this.getOrigin(r),s=this.getResolution(r),a=Object(A.c)(this.getTileSize(r),this.tmpSize_),c=i?.5:0,h=i?0:.5,u=Math.floor((t-o[0])/s+c),l=Math.floor((e-o[1])/s+h),f=u/a[0],d=l/a[1];return i?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),p(r,f,d,n)},F.prototype.getTileCoordForCoordAndZ=function(t,e,r){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r)},F.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},F.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},F.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},F.prototype.getZForResolution=function(t,e){var r=Object(k.f)(this.resolutions_,t,e||0);return Object(v.a)(r,this.minZoom,this.maxZoom)},F.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,r=new Array(e),i=this.minZoom;i<e;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r};var G=F;function B(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,r,i){return function(t,e,r,i){var n=void 0!==i?i:L.a.TOP_LEFT,o=U(t,e,r);return new G({extent:t,origin:Object(m.y)(t,n),resolutions:o,tileSize:r})}(z(t),e,r,i)}(t),t.setDefaultTileGrid(e)),e}function U(t,e,r){for(var i=void 0!==e?e:j.a,n=Object(m.A)(t),o=Object(m.E)(t),s=Object(A.c)(void 0!==r?r:j.b),a=Math.max(o/s[0],n/s[1]),c=i+1,h=new Array(c),u=0;u<c;++u)h[u]=a/Math.pow(2,u);return h}function z(t){var e=(t=Object(b.get)(t)).getExtent();if(!e){var r=180*b.METERS_PER_UNIT[P.b.DEGREES]/t.getMetersPerUnit();e=Object(m.k)(-r,-r,r,r)}return e}var X=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new _(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var r=this.getTileCacheForProjection(t);r&&r.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,r,i){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var s,a,c,h=!0,u=r.minX;u<=r.maxX;++u)for(var l=r.minY;l<=r.maxY;++l)a=g(e,u,l),c=!1,n.containsKey(a)&&(c=(s=n.get(a)).getState()===o.a.LOADED)&&(c=!1!==i(s)),c||(h=!1);return h},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,r,i,o){return Object(n.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:B(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(b.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,r){var i=this.getTileGridForProjection(r),n=this.getTilePixelRatio(e),o=Object(A.c)(i.getTileSize(t),this.tmpSize);return 1==n?o:Object(A.b)(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var r=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=function(t,e,r){var i=e[0],n=t.getTileCoordCenter(e),o=z(r);if(Object(m.f)(o,n))return e;var s=Object(m.E)(o),a=Math.ceil((o[0]-n[0])/s);return n[0]+=s*a,t.getTileCoordForCoordAndZ(n,i)}(i,t,r)),function(t,e){var r=t[0],i=t[1],n=t[2];if(e.getMinZoom()>r||r>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,r):e.getFullTileRange(r))||o.containsXY(i,n)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,r,i){},e}(M.a),H=function(t){function e(e,r){t.call(this,e),this.tile=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(I.a),Y="tileloadstart",K="tileloadend",q="tileloaderror";function W(t,e){t.getImage().src=e}var V=function(t){function e(e){var r=e||{},i=void 0!==r.projection?r.projection:"EPSG:3857",n=void 0!==r.tileGrid?r.tileGrid:function(t){var e=t||{},r=e.extent||Object(b.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:U(r,e.maxZoom,e.tileSize)};return new G(i)}({extent:z(i),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:W,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:d,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!i.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,r){if(i.a){var n=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==n?r:{})}}else t.prototype.expireCache.call(this,e,r)},e.prototype.getGutterForProjection=function(t){return i.a&&this.getProjection()&&t&&!Object(b.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.a&&this.getProjection()&&e&&!Object(b.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.a)return t.prototype.getTileGridForProjection.call(this,e);var r=this.getProjection();if(!this.tileGrid||r&&!Object(b.equivalent)(r,e)){var o=Object(n.c)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=B(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.a)return t.prototype.getTileCacheForProjection.call(this,e);var r=this.getProjection();if(!r||Object(b.equivalent)(r,e))return this.tileCache;var o=Object(n.c)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new _(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,r,i,n,s){var a=[t,e,r],h=this.getTileCoordForTileUrlFunction(a,n),u=h?this.tileUrlFunction(h,i,n):void 0,f=new this.tileClass(a,void 0!==u?o.a.IDLE:o.a.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,Object(l.a)(f,c.a.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,r,n,o){var s=this.getProjection();if(i.a&&s&&o&&!Object(b.equivalent)(s,o)){var a,c=this.getTileCacheForProjection(o),h=[t,e,r],u=y(h);c.containsKey(u)&&(a=c.get(u));var l=this.getKey();if(a&&a.key==l)return a;var f=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(h,o),g=new S(s,f,o,d,h,p,this.getTilePixelRatio(n),this.getGutter(),function(t,e,r,i){return this.getTileInternal(t,e,r,i,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=l,a?(g.interimTile=a,g.refreshInterimChain(),c.replace(u,g)):c.set(u,g),g}return this.getTileInternal(t,e,r,n,s||o)},e.prototype.getTileInternal=function(t,e,r,i,n){var s=null,a=g(t,e,r),c=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=c){var h=s;s=this.createTile_(t,e,r,i,n,c),h.getState()==o.a.IDLE?s.interimTile=h.interimTile:s.interimTile=h,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,r,i,n,c),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(i.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.a){var r=Object(b.get)(t);if(r){var o=Object(n.c)(r);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):R,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,r=t.target,i=Object(n.c)(r),s=r.getState();s==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,e=Y):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=s==o.a.ERROR?q:s==o.a.LOADED||s==o.a.ABORT?K:void 0),null!=e&&this.dispatchEvent(new H(e,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],r=/\{([a-z])-([a-z])\}/.exec(t);if(r){var i,n=r[1].charCodeAt(0),o=r[2].charCodeAt(0);for(i=n;i<=o;++i)e.push(t.replace(r[0],String.fromCharCode(i)));return e}if(r=r=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(r[2],10),a=parseInt(r[1],10);a<=s;a++)e.push(t.replace(r[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(x(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,r){var i=g(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(X)));e.default=V},function(t,e,r){"use strict";r.r(e);var i=r(84),n=r(3),o=r(14),s=r(5);function a(t){return t}var c=r(17),h=r(10);var u=r(63),l=r(18),f=r(32),d=r(13),p=r(12),g=r(30),y=r(0),_=r(2),b=r(35),m=r(11),v=r(8),E=r(28);r.d(e,"createCenterConstraint",function(){return T}),r.d(e,"createResolutionConstraint",function(){return C}),r.d(e,"createRotationConstraint",function(){return x}),r.d(e,"isNoopAnimation",function(){return R});var w=0,O=function(t){function e(e){t.call(this);var r=Object(m.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(v.createProjection)(r.projection,"EPSG:3857"),this.applyOptions_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[f.a.CENTER]=void 0!==t.center?t.center:null;var r=C(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=r.minZoom;var i=T(t),n=r.constraint,o=x(t);this.constraints_={center:i,resolution:n,rotation:o},void 0!==t.resolution?e[f.a.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[f.a.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[f.a.RESOLUTION]=Object(s.a)(Number(this.getResolution()||e[f.a.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[f.a.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(m.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(m.a)({},e,t)},e.prototype.animate=function(t){var e,r=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&S(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),c=this.getResolution(),h=this.getRotation(),u=[],f=0;f<i;++f){var d=r[f],p={start:o,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||g.c};if(d.center&&(p.sourceCenter=a,p.targetCenter=d.center,a=p.targetCenter),void 0!==d.zoom?(p.sourceResolution=c,p.targetResolution=this.constrainResolution(this.maxResolution_,d.zoom-this.minZoom_,0),c=p.targetResolution):d.resolution&&(p.sourceResolution=c,p.targetResolution=d.resolution,c=p.targetResolution),void 0!==d.rotation){p.sourceRotation=h;var y=Object(s.d)(d.rotation-h+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=h+y,h=p.targetRotation}p.callback=e,R(p)?p.complete=!0:o+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(l.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[l.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[l.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(l.a.ANIMATING,-this.hints_[l.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var r=this.animations_[t];r[0].callback&&S(r[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,r=this.animations_.length-1;r>=0;--r){for(var i=this.animations_[r],n=!0,o=0,a=i.length;o<a;++o){var c=i[o];if(!c.complete){var h=t-c.start,u=c.duration>0?h/c.duration:1;u>=1?(c.complete=!0,u=1):n=!1;var d=c.easing(u);if(c.sourceCenter){var p=c.sourceCenter[0],g=c.sourceCenter[1],y=p+d*(c.targetCenter[0]-p),_=g+d*(c.targetCenter[1]-g);this.set(f.a.CENTER,[y,_])}if(c.sourceResolution&&c.targetResolution){var b=1===d?c.targetResolution:c.sourceResolution+d*(c.targetResolution-c.sourceResolution);c.anchor&&this.set(f.a.CENTER,this.calculateCenterZoom(b,c.anchor)),this.set(f.a.RESOLUTION,b)}if(void 0!==c.sourceRotation&&void 0!==c.targetRotation){var m=1===d?Object(s.d)(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+d*(c.targetRotation-c.sourceRotation);c.anchor&&this.set(f.a.CENTER,this.calculateCenterRotate(m,c.anchor)),this.set(f.a.ROTATION,m)}if(e=!0,!c.complete)break}}if(n){this.animations_[r]=null,this.setHint(l.a.ANIMATING,-1);var v=i[0].callback;v&&S(v,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var r,i=this.getCenter();return void 0!==i&&(r=[i[0]-e[0],i[1]-e[1]],Object(p.g)(r,t-this.getRotation()),Object(p.a)(r,e)),r},e.prototype.calculateCenterZoom=function(t,e){var r,i=this.getCenter(),n=this.getResolution();void 0!==i&&void 0!==n&&(r=[e[0]-t*(e[0]-i[0])/n,e[1]-t*(e[1]-i[1])/n]);return r},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(n.c)(this)+'"]',r=document.querySelector(e);if(r){var i=getComputedStyle(r);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,r){var i=e||0,n=r||0;return this.constraints_.resolution(t,i,n)},e.prototype.constrainRotation=function(t,e){var r=e||0;return this.constraints_.rotation(t,r)},e.prototype.getCenter=function(){return this.get(f.a.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),r=this.getCenter();Object(d.a)(r,1);var i=this.getResolution();Object(d.a)(void 0!==i,2);var n=this.getRotation();return Object(d.a)(void 0!==n,3),Object(y.z)(r,i,n,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(f.a.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var r=e||this.getSizeFromViewport_(),i=Object(y.E)(t)/r[0],n=Object(y.A)(t)/r[1];return Math.max(i,n)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,r=this.maxResolution_,i=this.minResolution_,n=Math.log(r/i)/Math.log(e);return function(t){return r/Math.pow(e,t*n)}},e.prototype.getRotation=function(){return this.get(f.a.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,r=this.maxResolution_,i=this.minResolution_,n=Math.log(r/i)/Math.log(e);return function(t){return Math.log(r/t)/Math.log(e)/n}},e.prototype.getState=function(t){var e=this.getCenter(),r=this.getProjection(),i=this.getResolution(),n=i/t,o=this.getRotation();return{center:[Math.round(e[0]/n)*n,Math.round(e[1]/n)*n],projection:void 0!==r?r:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,r,i=this.minZoom_||0;if(this.resolutions_){var n=Object(h.f)(this.resolutions_,t,1);i=n,e=this.resolutions_[n],r=n==this.resolutions_.length-1?2:e/this.resolutions_[n+1]}else e=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(e/t)/Math.log(r)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var r,i=e||{},n=i.size;n||(n=this.getSizeFromViewport_()),Object(d.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(d.a)(!Object(y.H)(t),25),r=Object(b.c)(t)):t.getType()===_.a.CIRCLE?(t=t.getExtent(),(r=Object(b.c)(t)).rotate(this.getRotation(),Object(y.x)(t))):r=t;var s,a=void 0!==i.padding?i.padding:[0,0,0,0],c=void 0===i.constrainResolution||i.constrainResolution,h=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var u=r.getFlatCoordinates(),l=this.getRotation(),f=Math.cos(-l),p=Math.sin(-l),g=1/0,m=1/0,v=-1/0,E=-1/0,w=r.getStride(),O=0,T=u.length;O<T;O+=w){var C=u[O]*f-u[O+1]*p,x=u[O]*p+u[O+1]*f;g=Math.min(g,C),m=Math.min(m,x),v=Math.max(v,C),E=Math.max(E,x)}var R=this.getResolutionForExtent([g,m,v,E],[n[0]-a[1]-a[3],n[1]-a[0]-a[2]]);if(R=isNaN(R)?s:Math.max(R,s),c){var I=this.constrainResolution(R,0,0);!h&&I<R&&(I=this.constrainResolution(I,-1,0)),R=I}p=-p;var A=(g+v)/2,M=(m+E)/2,j=[(A+=(a[1]-a[3])/2*R)*f-(M+=(a[0]-a[2])/2*R)*p,M*f+A*p],L=i.callback?i.callback:o.c;void 0!==i.duration?this.animate({resolution:R,center:j,duration:i.duration,easing:i.easing},L):(this.setResolution(R),this.setCenter(j),S(L,!0))},e.prototype.centerOn=function(t,e,r){var i=this.getRotation(),n=Math.cos(-i),o=Math.sin(-i),s=t[0]*n-t[1]*o,a=t[1]*n+t[0]*o,c=this.getResolution(),h=(s+=(e[0]/2-r[0])*c)*n-(a+=(r[1]-e[1]/2)*c)*(o=-o),u=a*n+s*o;this.setCenter([h,u])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var r=this.calculateCenterRotate(t,e);this.setCenter(r)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(f.a.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(f.a.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(f.a.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(c.a);function S(t,e){setTimeout(function(){t(e)},0)}function T(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(s.a)(t[0],e[0],e[2]),Object(s.a)(t[1],e[1],e[3])]:void 0}):a;var e}function C(t){var e,r,n,o=void 0!==t.minZoom?t.minZoom:w,a=void 0!==t.maxZoom?t.maxZoom:28,c=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;r=u[o],n=void 0!==u[a]?u[a]:u[u.length-1],e=function(t){return function(e,r,i){if(void 0!==e){var n=Object(h.f)(t,e,i);n=Object(s.a)(n+r,0,t.length-1);var o=Math.floor(n);if(n!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,n-o)}return t[o]}}}(u)}else{var l=Object(v.createProjection)(t.projection,"EPSG:3857"),f=l.getExtent(),d=(f?Math.max(Object(y.E)(f),Object(y.A)(f)):360*v.METERS_PER_UNIT[E.b.DEGREES]/l.getMetersPerUnit())/i.b/Math.pow(2,w),p=d/Math.pow(2,28-w);void 0!==(r=t.maxResolution)?o=0:r=d/Math.pow(c,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(c,a):d/Math.pow(c,a):p),a=o+Math.floor(Math.log(r/n)/Math.log(c)),n=r/Math.pow(c,a-o),e=function(t,e,r){return function(i,n,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),c=Math.max(a+n,0);return void 0!==r&&(c=Math.min(c,r)),e/Math.pow(t,c)}}}(c,r,a-o)}return{constraint:e,maxResolution:r,minResolution:n,minZoom:o,zoomFactor:c}}function x(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(u.b)():!1===e?u.d:"number"==typeof e?Object(u.a)(e):u.d}return u.c}function R(t){return!(t.sourceCenter&&t.targetCenter&&!Object(p.f)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=O},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(352)),o=i(r(223)),s=i(r(158));e.baseMapOSM=new n.default({source:new o.default({wrapX:!0})}),e.baseMapXYZ=new n.default({source:new s.default({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OceanGreenColor="rgba(77, 175, 124, 1)",e.OceanGreenTransparentColor="rgba(77, 175, 124, 0.5)",e.LightGreenColor="rgba(123, 239, 178, 1)",e.MountainMeadowColor="rgba(22, 160, 133, 1)",e.EmeraldColor="rgba(63, 195, 128, 1)",e.ShamRock="rgba(46, 204, 113, 1)",e.ObservatoryColor="rgba(4, 147, 114, 1)",e.BrightTurquioseColor="rgba(41, 241, 195, 1)",e.SalemColor="rgba(30, 130, 76, 1)",e.TurquioseColor="rgba(54, 215, 183, 1)",e.ChartreuseYellow="rgba(238, 238, 0, 1)"},function(t,e,r){"use strict";const i=r(226);t.exports={getMGRSFromGraticule:i.getMGRSFromGraticule,getGraticuleBoundaryFromMGRS:i.getGraticuleBoundaryFromMGRS,getGraticuleFromMGRS:i.getGraticuleFromMGRS}},function(t,e,r){"use strict";const i=r(40),n=r(66),o=r(102),s=r(154),a=r(321),c=r(73),h={alternatives:r(205),array:r(322),boolean:r(323),binary:r(324),date:r(206),func:r(325),number:r(330),object:r(207),string:r(331),symbol:r(339),callWithDefaults:function(t,e){return i.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(t=this._defaults(t)),t._currentJoi=this,t._init(...e)},root:function(){const t=new n,e=t.clone();return n.prototype._currentJoi=e,e._currentJoi=e,e._binds=new Set(["any","alternatives","alt","array","bool","boolean","binary","date","func","number","object","string","symbol","validate","describe","compile","assert","attempt","lazy","defaults","extend","allow","valid","only","equal","invalid","disallow","not","required","exist","optional","forbidden","strip","when","empty","default"]),e.any=function(...e){return i.assert(0===e.length,"Joi.any() does not allow arguments."),h.callWithDefaults.call(this,t,e)},e.alternatives=e.alt=function(...t){return h.callWithDefaults.call(this,h.alternatives,t)},e.array=function(...t){return i.assert(0===t.length,"Joi.array() does not allow arguments."),h.callWithDefaults.call(this,h.array,t)},e.boolean=e.bool=function(...t){return i.assert(0===t.length,"Joi.boolean() does not allow arguments."),h.callWithDefaults.call(this,h.boolean,t)},e.binary=function(...t){return i.assert(0===t.length,"Joi.binary() does not allow arguments."),h.callWithDefaults.call(this,h.binary,t)},e.date=function(...t){return i.assert(0===t.length,"Joi.date() does not allow arguments."),h.callWithDefaults.call(this,h.date,t)},e.func=function(...t){return i.assert(0===t.length,"Joi.func() does not allow arguments."),h.callWithDefaults.call(this,h.func,t)},e.number=function(...t){return i.assert(0===t.length,"Joi.number() does not allow arguments."),h.callWithDefaults.call(this,h.number,t)},e.object=function(...t){return h.callWithDefaults.call(this,h.object,t)},e.string=function(...t){return i.assert(0===t.length,"Joi.string() does not allow arguments."),h.callWithDefaults.call(this,h.string,t)},e.symbol=function(...t){return i.assert(0===t.length,"Joi.symbol() does not allow arguments."),h.callWithDefaults.call(this,h.symbol,t)},e.ref=function(...t){return c.create(...t)},e.isRef=function(t){return c.isRef(t)},e.validate=function(e,...r){const i=r[r.length-1],n="function"==typeof i?i:null,o=r.length-(n?1:0);if(0===o)return t.validate(e,n);const s=2===o?r[1]:void 0;return this.compile(r[0])._validateWithOptions(e,s,n)},e.describe=function(...e){return(e.length?this.compile(e[0]):t).describe()},e.compile=function(t){try{return o.schema(this,t)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}},e.assert=function(t,e,r){this.attempt(t,e,r)},e.attempt=function(t,e,r){const i=this.validate(t,e),n=i.error;if(n){if(!r)throw"function"==typeof n.annotate&&(n.message=n.annotate()),n;if(!(r instanceof Error))throw"function"==typeof n.annotate&&(n.message=`${r} ${n.annotate()}`),n;throw r}return i.value},e.reach=function(t,e){i.assert(t&&t instanceof n,"you must provide a joi schema"),i.assert(Array.isArray(e)||"string"==typeof e,"path must be a string or an array of strings");const r=(t,e)=>{if(!e.length)return t;const i=t._inner.children;if(!i)return;const n=e.shift();for(let t=0;t<i.length;++t){const o=i[t];if(o.key===n)return r(o.schema,e)}},o="string"==typeof e?e?e.split("."):[]:e.slice();return r(t,o)},e.lazy=function(...t){return h.callWithDefaults.call(this,a,t)},e.defaults=function(t){i.assert("function"==typeof t,"Defaults must be a function");let e=Object.create(this.any());return e=t(e),i.assert(e&&e instanceof this.constructor,"defaults() must return a schema"),Object.assign(e,this,e.clone()),e._defaults=e=>(this._defaults&&(e=this._defaults(e),i.assert(e instanceof this.constructor,"defaults() must return a schema")),e=t(e),i.assert(e instanceof this.constructor,"defaults() must return a schema"),e),e},e.bind=function(){const t=Object.create(this);return t._binds.forEach(e=>{t[e]=t[e].bind(t)}),t},e.extend=function(...t){const r=i.flatten(t);i.assert(r.length>0,"You need to provide at least one extension"),this.assert(r,e.extensionsSchema);const a=Object.create(this.any());Object.assign(a,this),a._currentJoi=a,a._binds=new Set(a._binds);for(let t=0;t<r.length;++t){let u=r[t];"function"==typeof u&&(u=u(a)),this.assert(u,e.extensionSchema);const l=(u.base||this.any()).clone(),f=l.constructor,d=class extends f{constructor(){super(),u.base&&Object.assign(this,l),this._type=u.name}};if(u.language){const t={[u.name]:u.language};d.prototype._language=i.applyToDefaults(d.prototype._language||l._settings&&l._settings.language||{},t)}if(u.coerce&&(d.prototype._coerce=function(t,e,r){if(f.prototype._coerce){const i=f.prototype._coerce.call(this,t,e,r);if(i.errors)return i;t=i.value}const i=u.coerce.call(this,t,e,r);return i instanceof s.Err?{value:t,errors:i}:{value:i}}),u.pre&&(d.prototype._base=function(t,e,r){if(f.prototype._base){const i=f.prototype._base.call(this,t,e,r);if(i.errors)return i;t=i.value}const i=u.pre.call(this,t,e,r);return i instanceof s.Err?{value:t,errors:i}:{value:i}}),u.rules)for(let t=0;t<u.rules.length;++t){const e=u.rules[t],r=e.params?e.params instanceof n?e.params._inner.children.map(t=>t.key):Object.keys(e.params):[],s=e.params?o.schema(this,e.params):null;d.prototype[e.name]=function(...t){if(t.length>r.length)throw new Error("Unexpected number of arguments");let o,h=!1,u={};for(let e=0;e<r.length;++e)u[r[e]]=t[e],!h&&c.isRef(t[e])&&(h=!0);if(s&&(u=a.attempt(u,s)),e.validate&&!e.setup){const t=function(t,r,i){return e.validate.call(this,u,t,r,i)};o=this._test(e.name,u,t,{description:e.description,hasRef:h})}else o=this.clone();if(e.setup){const t=e.setup.call(o,u);if(void 0!==t&&(i.assert(t instanceof n,`Setup of extension Joi.${this._type}().${e.name}() must return undefined or a Joi object`),o=t),e.validate){const t=function(t,r,i){return e.validate.call(this,u,t,r,i)};o=o._test(e.name,u,t,{description:e.description,hasRef:h})}}return o}}u.describe&&(d.prototype.describe=function(){const t=f.prototype.describe.call(this);return u.describe.call(this,t)});const p=new d;a[u.name]=function(...t){return h.callWithDefaults.call(this,p,t)},a._binds.add(u.name)}return a},e.extensionSchema=h.object.keys({base:h.object.type(n,"Joi object"),name:h.string.required(),coerce:h.func.arity(3),pre:h.func.arity(3),language:h.object,describe:h.func.arity(1),rules:h.array.items(h.object.keys({name:h.string.required(),setup:h.func.arity(1),validate:h.func.arity(4),params:[h.object.pattern(/.*/,h.object.type(n,"Joi object")),h.object.type(h.object.constructor,"Joi object")],description:[h.string,h.func.arity(1)]}).or("setup","validate"))}).strict(),e.extensionsSchema=h.array.items([h.object,h.func.arity(1)]).strict(),e.version=r(203).version,e}};t.exports=h.root()},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},i=0;i<e.length;i++)r[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return r},n=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var i=arguments,o=i.length,s=String(t).replace(n,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return t}}),c=i[r];r<o;c=i[++r])g(c)||!v(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(r,i){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,i).apply(this,arguments)};var n=!1;return function(){if(!n){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),n=!0}return r.apply(this,arguments)}};var o,s={};function a(t,r){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(r)?i.showHidden=r:r&&e._extend(i,r),b(i.showHidden)&&(i.showHidden=!1),b(i.depth)&&(i.depth=2),b(i.colors)&&(i.colors=!1),b(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),u(i,t,i.depth)}function c(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function h(t,e){return t}function u(t,r,i){if(t.customInspect&&r&&O(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(i,t);return _(n)||(n=u(t,n,i)),n}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(_(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(y(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(O(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(m(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return l(r)}var h,v="",S=!1,T=["{","}"];(d(r)&&(S=!0,T=["[","]"]),O(r))&&(v=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(v=" "+RegExp.prototype.toString.call(r)),E(r)&&(v=" "+Date.prototype.toUTCString.call(r)),w(r)&&(v=" "+l(r)),0!==s.length||S&&0!=r.length?i<0?m(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),h=S?function(t,e,r,i,n){for(var o=[],s=0,a=e.length;s<a;++s)R(e,String(s))?o.push(f(t,e,r,i,String(s),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(f(t,e,r,i,n,!0))}),o}(t,r,i,a,s):s.map(function(e){return f(t,r,i,a,e,S)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(h,v,T)):T[0]+v+T[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,i,n,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),R(i,n)||(s="["+n+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(r)?u(t,c.value,null):u(t,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&n.match(/^\d+$/))return a;(s=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return void 0===t}function m(t){return v(t)&&"[object RegExp]"===S(t)}function v(t){return"object"==typeof t&&null!==t}function E(t){return v(t)&&"[object Date]"===S(t)}function w(t){return v(t)&&("[object Error]"===S(t)||t instanceof Error)}function O(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(b(o)&&(o=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var i=t.pid;s[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,i,t)}}else s[r]=function(){};return s[r]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=m,e.isObject=v,e.isDate=E,e.isError=w,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(231);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),C[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=r(232),e._extend=function(t,e){if(!e||!v(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(I&&t[I]){var e;if("function"!=typeof(e=t[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,I,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,i=new Promise(function(t,i){e=t,r=i}),n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);n.push(function(t,i){t?r(t):e(i)});try{t.apply(this,n)}catch(t){r(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),I&&Object.defineProperty(e,I,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=I,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return n.apply(o,arguments)};e.apply(this,r).then(function(e){t.nextTick(s,null,e)},function(e){t.nextTick(A,e,s)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,i(e)),r}}).call(this,r(56))},function(t,e,r){"use strict";var i=r(21).Buffer,n=r(138).Transform;function o(t){n.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(19)(o,n),o.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(t){i=t}r(i)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,r){"use strict";(function(e,i){var n=r(110);t.exports=m;var o,s=r(164);m.ReadableState=b;r(139).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=r(168),h=r(141).Buffer,u=e.Uint8Array||function(){};var l=r(97);l.inherits=r(19);var f=r(234),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=r(235),y=r(169);l.inherits(m,c);var _=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var i=e instanceof(o=o||r(82));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(143).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(o=o||r(82),!(this instanceof m))return new m(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function v(t,e,r,i,n){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,S(t)}(t,s)):(n||(o=function(t,e){var r;i=e,h.isBuffer(i)||i instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var i;return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):E(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?E(t,s,e,!1):C(t,s)):E(t,s,e,!1))):i||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function E(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S(t)),C(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=h.from(t,e),e=""),r=!0),v(this,t,e,!1,r)},m.prototype.unshift=function(t){return v(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=r(143).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var w=8388608;function O(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?n.nextTick(T,t):T(t))}function T(t){d("emit readable"),t.emit("readable"),A(t)}function C(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(x,t,e))}function x(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function R(t){d("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,i=1,n=r.data;t-=n.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?n+=o:n+=o.slice(0,t),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e):function(t,e){var r=h.allocUnsafe(t),i=e.head,n=1;i.data.copy(r),t-=i.data.length;for(;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++n}return e.length-=n,r}(t,e);return i}(t,e.buffer,e.decoder),r);var r}function j(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,n.nextTick(L,e,t))}function L(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}m.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):S(this),null;if(0===(t=O(t,e))&&e.ended)return 0===e.length&&j(this),null;var i,n=e.needReadable;return d("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",n=!0),e.ended||e.reading?d("reading or ended",n=!1):n&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=O(r,e))),null===(i=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==i&&this.emit("data",i),i},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?u:m;function h(e,i){d("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",_),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",h),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function u(){d("onend"),t.end()}o.endEmitted?n.nextTick(c):r.once("end",c),t.on("unpipe",h);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(r);t.on("drain",l);var f=!1;var p=!1;function g(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==P(o.pipes,t))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function y(e){d("onerror",e),m(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",b),m()}function b(){d("onfinish"),t.removeListener("close",_),m()}function m(){d("unpipe"),r.unpipe(t)}return r.on("data",g),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",y),t.once("close",_),t.once("finish",b),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,r);return this}var s=P(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},m.prototype.on=function(t,e){var r=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):n.nextTick(R,this))}return r},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(I,t,e))}(this,t)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(n){(d("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))}),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var o=0;o<_.length;o++)t.on(_[o],this.emit.bind(this,_[o]));return this._read=function(e){d("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=M}).call(this,r(65),r(56))},function(t,e,r){t.exports=r(139).EventEmitter},function(t,e,r){"use strict";var i=r(110);function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(n,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";t.exports=s;var i=r(82),n=r(97);function o(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){c(t,e,r)}):c(this,null,null)}function c(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}n.inherits=r(19),n.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var r=this;i.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){var i=r(19),n=r(88),o=r(21).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(c,n),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,_=0;_<16;++_)r[_]=t.readInt32BE(4*_);for(;_<64;++_)r[_]=0|(((e=r[_-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[_-7]+d(r[_-15])+r[_-16];for(var b=0;b<64;++b){var m=y+f(c)+h(c,p,g)+s[b]+r[b]|0,v=l(i)+u(i,n,o)|0;y=g,g=p,p=c,c=a+m|0,a=o,o=n,n=i,i=m+v|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,r){var i=r(19),n=r(88),o=r(21).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,n.call(this,128,112)}function h(t,e,r){return r^t&(e^r)}function u(t,e,r){return t&e|r&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function _(t,e){return t>>>0<e>>>0?1:0}i(c,n),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,b=0|this._gh,m=0|this._hh,v=0|this._al,E=0|this._bl,w=0|this._cl,O=0|this._dl,S=0|this._el,T=0|this._fl,C=0|this._gl,x=0|this._hl,R=0;R<32;R+=2)e[R]=t.readInt32BE(4*R),e[R+1]=t.readInt32BE(4*R+4);for(;R<160;R+=2){var I=e[R-30],A=e[R-30+1],M=d(I,A),j=p(A,I),L=g(I=e[R-4],A=e[R-4+1]),P=y(A,I),N=e[R-14],k=e[R-14+1],D=e[R-32],F=e[R-32+1],G=j+k|0,B=M+N+_(G,j)|0;B=(B=B+L+_(G=G+P|0,P)|0)+D+_(G=G+F|0,F)|0,e[R]=B,e[R+1]=G}for(var U=0;U<160;U+=2){B=e[U],G=e[U+1];var z=u(r,i,n),X=u(v,E,w),H=l(r,v),Y=l(v,r),K=f(a,S),q=f(S,a),W=s[U],V=s[U+1],Z=h(a,c,b),J=h(S,T,C),$=x+q|0,Q=m+K+_($,x)|0;Q=(Q=(Q=Q+Z+_($=$+J|0,J)|0)+W+_($=$+V|0,V)|0)+B+_($=$+G|0,G)|0;var tt=Y+X|0,et=H+z+_(tt,Y)|0;m=b,x=C,b=c,C=T,c=a,T=S,a=o+Q+_(S=O+$|0,O)|0,o=n,O=w,n=i,w=E,i=r,E=v,r=Q+et+_(v=$+tt|0,$)|0}this._al=this._al+v|0,this._bl=this._bl+E|0,this._cl=this._cl+w|0,this._dl=this._dl+O|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+C|0,this._hl=this._hl+x|0,this._ah=this._ah+r+_(this._al,v)|0,this._bh=this._bh+i+_(this._bl,E)|0,this._ch=this._ch+n+_(this._cl,w)|0,this._dh=this._dh+o+_(this._dl,O)|0,this._eh=this._eh+a+_(this._el,S)|0,this._fh=this._fh+c+_(this._fl,T)|0,this._gh=this._gh+b+_(this._gl,C)|0,this._hh=this._hh+m+_(this._hl,x)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,r){"use strict";var i=r(19),n=r(250),o=r(76),s=r(21).Buffer,a=r(174),c=r(144),h=r(145),u=s.alloc(128);function l(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new c:h(t)).update(e).digest():e.length<r&&(e=s.concat([e,u],r));for(var i=this._ipad=s.allocUnsafe(r),n=this._opad=s.allocUnsafe(r),a=0;a<r;a++)i[a]=54^e[a],n[a]=92^e[a];this._hash="rmd160"===t?new c:h(t),this._hash.update(i)}i(l,o),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:h(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new l("rmd160",e):"md5"===t?new n(a,e):new l(t,e)}},function(t,e,r){var i=r(137);t.exports=function(t){return(new i).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,r){e.pbkdf2=r(252),e.pbkdf2Sync=r(179)},function(t,e,r){(function(e){var r=Math.pow(2,30)-1;function i(t,r){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(r+" must be a buffer or string")}t.exports=function(t,e,n,o){if(i(t,"Password"),i(e,"Salt"),"number"!=typeof n)throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!=o)throw new TypeError("Bad key length")}}).call(this,r(24).Buffer)},function(t,e,r){(function(e){var r;e.browser?r="utf-8":r=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=r}).call(this,r(56))},function(t,e,r){var i=r(174),n=r(144),o=r(145),s=r(177),a=r(178),c=r(21).Buffer,h=c.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(t,e,r){var s=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new n).update(t).digest()}:"md5"===t?i:function(e){return o(t).update(e).digest()}}(t),a="sha512"===t||"sha384"===t?128:64;e.length>a?e=s(e):e.length<a&&(e=c.concat([e,h],a));for(var l=c.allocUnsafe(a+u[t]),f=c.allocUnsafe(a+u[t]),d=0;d<a;d++)l[d]=54^e[d],f[d]=92^e[d];var p=c.allocUnsafe(a+r+4);l.copy(p,0,0,a),this.ipad1=p,this.ipad2=l,this.opad=f,this.alg=t,this.blocksize=a,this.hash=s,this.size=u[t]}l.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,i,n){s(t,e,r,i),c.isBuffer(t)||(t=c.from(t,a)),c.isBuffer(e)||(e=c.from(e,a));var o=new l(n=n||"sha1",t,e.length),h=c.allocUnsafe(i),f=c.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var d=0,p=u[n],g=Math.ceil(i/p),y=1;y<=g;y++){f.writeUInt32BE(y,e.length);for(var _=o.run(f,o.ipad1),b=_,m=1;m<r;m++){b=o.run(b,o.ipad2);for(var v=0;v<p;v++)_[v]^=b[v]}_.copy(h,d),d+=p}return h}},function(t,e,r){var i=r(98),n=r(21).Buffer,o=r(181);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),o=t._cache.length;t._cache=n.concat([t._cache,n.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=s(t),h=o+16*a;t._cache.writeUInt32BE(c[0],h+0),t._cache.writeUInt32BE(c[1],h+4),t._cache.writeUInt32BE(c[2],h+8),t._cache.writeUInt32BE(c[3],h+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,u)}},function(t,e){t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,r){var i=r(111),n=r(21).Buffer,o=r(76),s=r(19),a=r(267),c=r(98),h=r(181);function u(t,e,r,s){o.call(this);var c=n.alloc(4,0);this._cipher=new i.AES(e);var u=this._cipher.encryptBlock(c);this._ghash=new a(u),r=function(t,e,r){if(12===e.length)return t._finID=n.concat([e,n.from([0,0,0,1])]),n.concat([e,n.from([0,0,0,2])]);var i=new a(r),o=e.length,s=o%16;i.update(e),s&&(s=16-s,i.update(n.alloc(s,0))),i.update(n.alloc(8,0));var c=8*o,u=n.alloc(8);u.writeUIntBE(c,0,8),i.update(u),t._finID=i.state;var l=n.from(t._finID);return h(l),l}(this,r,u),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(u,o),u.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=n.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=u},function(t,e,r){var i=r(111),n=r(21).Buffer,o=r(76);function s(t,e,r,s){o.call(this),this._cipher=new i.AES(e),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._mode=t}r(19)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,r){var i=r(87);t.exports=b,b.simpleSieve=y,b.fermatTest=_;var n=r(33),o=new n(24),s=new(r(187)),a=new n(1),c=new n(2),h=new n(5),u=(new n(16),new n(8),new n(10)),l=new n(3),f=(new n(7),new n(11)),d=new n(4),p=(new n(12),null);function g(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var i=Math.ceil(Math.sqrt(r)),n=0;n<e&&t[n]<=i&&r%t[n]!=0;n++);e!==n&&t[n]<=i||(t[e++]=r)}return p=t,t}function y(t){for(var e=g(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function _(t){var e=n.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function b(t,e){if(t<16)return new n(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new n(e);;){for(r=new n(i(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),e.cmp(c)){if(!e.cmp(h))for(;r.mod(u).cmp(l);)r.iadd(d)}else for(;r.mod(o).cmp(f);)r.iadd(d);if(y(p=r.shrn(1))&&y(r)&&_(p)&&_(r)&&s.test(p)&&s.test(r))return r}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var i=r(33),n=r(149);function o(t){this.rand=t||new n.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var n=new i(this.rand.generate(r))}while(n.cmp(t)>=0);return n},o.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},o.prototype.test=function(t,e,r){var n=t.bitLength(),o=i.mont(t),s=new i(1).toRed(o);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),c=0;!a.testn(c);c++);for(var h=t.shrn(c),u=a.toRed(o);e>0;e--){var l=this._randrange(new i(2),a);r&&r(l);var f=l.toRed(o).redPow(h);if(0!==f.cmp(s)&&0!==f.cmp(u)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(s))return!1;if(0===f.cmp(u))break}if(d===c)return!1}}return!0},o.prototype.getDivisor=function(t,e){var r=t.bitLength(),n=i.mont(t),o=new i(1).toRed(n);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var c=t.shrn(a),h=s.toRed(n);e>0;e--){var u=this._randrange(new i(2),s),l=t.gcd(u);if(0!==l.cmpn(1))return l;var f=u.toRed(n).redPow(c);if(0!==f.cmp(o)&&0!==f.cmp(h)){for(var d=1;d<a;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(h))break}if(d===a)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,r){"use strict";var i=e;function n(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}i.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16));else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=255&n;o?r.push(o,s):r.push(s)}return r},i.zero2=n,i.toHex=o,i.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,r){"use strict";var i=e;i.base=r(113),i.short=r(278),i.mont=r(279),i.edwards=r(280)},function(t,e,r){"use strict";var i=r(72).rotr32;function n(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,i){return 0===t?n(e,r,i):1===t||3===t?s(e,r,i):2===t?o(e,r,i):void 0},e.ch32=n,e.maj32=o,e.p32=s,e.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},e.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},e.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},e.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},function(t,e,r){"use strict";var i=r(72),n=r(99),o=r(190),s=r(57),a=i.sum32,c=i.sum32_4,h=i.sum32_5,u=o.ch32,l=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,y=n.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}i.inherits(b,y),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=c(g(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],y=this.h[2],_=this.h[3],b=this.h[4],m=this.h[5],v=this.h[6],E=this.h[7];for(s(this.k.length===r.length),i=0;i<r.length;i++){var w=h(E,d(b),u(b,m,v),this.k[i],r[i]),O=a(f(n),l(n,o,y));E=v,v=m,m=b,b=a(_,w),_=y,y=o,o=n,n=a(w,O)}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],_),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],m),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],E)},b.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,r){"use strict";var i=r(72),n=r(99),o=r(57),s=i.rotr64_hi,a=i.rotr64_lo,c=i.shr64_hi,h=i.shr64_lo,u=i.sum64,l=i.sum64_hi,f=i.sum64_lo,d=i.sum64_4_hi,p=i.sum64_4_lo,g=i.sum64_5_hi,y=i.sum64_5_lo,_=n.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function E(t,e,r,i,n,o){var s=e&i^~e&o;return s<0&&(s+=4294967296),s}function w(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function O(t,e,r,i,n,o){var s=e&i^e&o^i&o;return s<0&&(s+=4294967296),s}function S(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function R(t,e){var r=s(t,e,1)^s(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,1)^a(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=s(t,e,19)^s(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}function M(t,e){var r=a(t,e,19)^a(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}i.inherits(m,_),t.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=A(r[i-4],r[i-3]),o=M(r[i-4],r[i-3]),s=r[i-14],a=r[i-13],c=R(r[i-30],r[i-29]),h=I(r[i-30],r[i-29]),u=r[i-32],l=r[i-31];r[i]=d(n,o,s,a,c,h,u,l),r[i+1]=p(n,o,s,a,c,h,u,l)}},m.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],h=this.h[5],d=this.h[6],p=this.h[7],_=this.h[8],b=this.h[9],m=this.h[10],R=this.h[11],I=this.h[12],A=this.h[13],M=this.h[14],j=this.h[15];o(this.k.length===r.length);for(var L=0;L<r.length;L+=2){var P=M,N=j,k=C(_,b),D=x(_,b),F=v(_,b,m,R,I),G=E(_,b,m,R,I,A),B=this.k[L],U=this.k[L+1],z=r[L],X=r[L+1],H=g(P,N,k,D,F,G,B,U,z,X),Y=y(P,N,k,D,F,G,B,U,z,X);P=S(i,n),N=T(i,n),k=w(i,n,s,a,c),D=O(i,n,s,a,c,h);var K=l(P,N,k,D),q=f(P,N,k,D);M=I,j=A,I=m,A=R,m=_,R=b,_=l(d,p,H,Y),b=f(p,p,H,Y),d=c,p=h,c=s,h=a,s=i,a=n,i=l(H,Y,K,q),n=f(H,Y,K,q)}u(this.h,0,i,n),u(this.h,2,s,a),u(this.h,4,c,h),u(this.h,6,d,p),u(this.h,8,_,b),u(this.h,10,m,R),u(this.h,12,I,A),u(this.h,14,M,j)},m.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,r){var i=r(19),n=r(101).Reporter,o=r(24).Buffer;function s(t,e){n.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}i(s,n),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,n.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){var i=e;i._reverse=function(t){var e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);var i=t[r];e[i]=r}),e},i.der=r(300)},function(t,e,r){var i=r(19),n=r(100),o=n.base,s=n.bignum,a=n.constants.der;function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){o.Node.call(this,"der",t)}function u(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var i=a.tagClass[r>>6],n=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:i,primitive:n,tag:r,tagStr:a.tag[r]}}function l(t,e,r){var i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;var n=127&i;if(n>4)return t.error("length octect is too long");i=0;for(var o=0;o<n;o++){i<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;i|=s}return i}t.exports=c,c.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},i(h,o.Node),h.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var i=t.save(),n=u(t,'Failed to peek tag: "'+e+'"');return t.isError(n)?n:(t.restore(i),n.tag===e||n.tagStr===e||n.tagStr+"of"===e||r)},h.prototype._decodeTag=function(t,e,r){var i=u(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;var n=l(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(n))return n;if(!r&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==n)return t.skip(n,'Failed to match body of: "'+e+'"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(n=t.offset-o.offset,t.restore(o),t.skip(n,'Failed to match body of: "'+e+'"'))},h.prototype._skipUntilEnd=function(t,e){for(;;){var r=u(t,e);if(t.isError(r))return r;var i,n=l(t,r.primitive,e);if(t.isError(n))return n;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},h.prototype._decodeList=function(t,e,r,i){for(var n=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=r.decode(t,"der",i);if(t.isError(s)&&o)break;n.push(s)}return n},h.prototype._decodeStr=function(t,e){if("bitstr"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===e){var i=t.raw();if(i.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var n="",o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(2*o));return n}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},h.prototype._decodeObjid=function(t,e,r){for(var i,n=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(n.push(o),o=0)}128&s&&n.push(o);var a=n[0]/40|0,c=n[0]%40;if(i=r?n:[a,c].concat(n.slice(1)),e){var h=e[i.join(" ")];void 0===h&&(h=e[i.join(".")]),void 0!==h&&(i=h)}return i},h.prototype._decodeTime=function(t,e){var r=t.raw().toString();if("gentime"===e)var i=0|r.slice(0,4),n=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");i=0|r.slice(0,2),n=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,o,s,a,c,0)},h.prototype._decodeNull=function(t){return null},h.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},h.prototype._decodeInt=function(t,e){var r=t.raw(),i=new s(r);return e&&(i=e[i.toString(10)]||i),i},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,r){var i=r(19),n=r(24).Buffer,o=r(100),s=o.base,a=o.constants.der;function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){s.Node.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=c,c.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(h,s.Node),h.prototype._encodeComposite=function(t,e,r,i){var o,s=function(t,e,r,i){var n;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))n=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);n=t}if(n>=31)return i.error("Multi-octet tag encoding unsupported");e||(n|=32);return n|=a.tagClassByName[r||"universal"]<<6}(t,e,r,this.reporter);if(i.length<128)return(o=new n(2))[0]=s,o[1]=i.length,this._createEncoderBuffer([o,i]);for(var c=1,h=i.length;h>=256;h>>=8)c++;(o=new n(2+c))[0]=s,o[1]=128|c;h=1+c;for(var u=i.length;u>0;h--,u>>=8)o[h]=255&u;return this._createEncoderBuffer([o,i])},h.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var r=new n(2*t.length),i=0;i<t.length;i++)r.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(r)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},h.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t)){t=t.slice();for(i=0;i<t.length;i++)t[i]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(i=0;i<t.length;i++){var s=t[i];for(o++;s>=128;s>>=7)o++}var a=new n(o),c=a.length-1;for(i=t.length-1;i>=0;i--){s=t[i];for(a[c--]=127&s;(s>>=7)>0;)a[c--]=128|127&s}return this._createEncoderBuffer(a)},h.prototype._encodeTime=function(t,e){var r,i=new Date(t);return"gentime"===e?r=[u(i.getFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[u(i.getFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!n.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new n(r)}if(n.isBuffer(t)){var i=t.length;0===t.length&&i++;var o=new n(i);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);i=1;for(var s=t;s>=256;s>>=8)i++;for(s=(o=new Array(i)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new n(o))},h.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},h.prototype._skipDefault=function(t,e,r){var i,n=this._baseState;if(null===n.default)return!1;var o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,r){var i=r(96),n=r(21).Buffer;function o(t){var e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,s=n.alloc(0),a=0;s.length<e;)r=o(a++),s=n.concat([s,i("sha1").update(t).update(r).digest()]);return s.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var r=t.length,i=-1;++i<r;)t[i]^=e[i];return t}},function(t,e,r){var i=r(33),n=r(21).Buffer;t.exports=function(t,e){return n.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}},function(t,e,r){"use strict";(function(r){const i={};e=t.exports={array:Array.prototype,buffer:r.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",e.error],["[object Map]",e.map],["[object Promise]",e.promise],["[object Set]",e.set],["[object WeakMap]",e.weakMap],["[object WeakSet]",e.weakSet]]),e.getInternalProto=function(t){if(Array.isArray(t))return e.array;if(t instanceof r)return e.buffer;if(t instanceof Date)return e.date;if(t instanceof RegExp)return e.regex;const n=Object.prototype.toString.call(t);return i.typeMap.get(n)||e.generic}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";t.exports={settingsCache:Symbol("settingsCache")}},function(t){t.exports=JSON.parse('{"name":"@hapi/joi","description":"Object schema validation","version":"15.1.0","homepage":"https://github.com/hapijs/joi","repository":"git://github.com/hapijs/joi","main":"lib/index.js","keywords":["schema","validation"],"dependencies":{"@hapi/address":"2.x.x","@hapi/hoek":"6.x.x","@hapi/marker":"1.x.x","@hapi/topo":"3.x.x"},"devDependencies":{"@hapi/code":"5.x.x","@hapi/lab":"18.x.x","hapitoc":"1.x.x"},"scripts":{"test":"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code","toc":"hapitoc && node docs/check-errors-list.js","version":"npm run toc && git add API.md README.md"},"license":"BSD-3-Clause"}')},function(t,e,r){"use strict";(function(e){const i=r(73),n={extendedCheckForValue:function(t,r){const i=typeof t;if("object"===i){if(t instanceof Date)return e=>e instanceof Date&&t.getTime()===e.getTime();if(e.isBuffer(t))return r=>e.isBuffer(r)&&t.length===r.length&&t.toString("binary")===r.toString("binary")}else if(r&&"string"===i){const e=t.toLowerCase();return t=>"string"==typeof t&&e===t.toLowerCase()}return null}};t.exports=class t{constructor(t){this._set=new Set(t),this._hasRef=!1}add(t,e){const r=i.isRef(t);return!r&&this.has(t,null,null,!1)?this:(void 0!==e&&i.push(e,t),this._set.add(t),this._hasRef|=r,this)}merge(t,e){for(const e of t._set)this.add(e);for(const t of e._set)this.remove(t);return this}remove(t){return this._set.delete(t),this}has(t,e,r,i){return!!this.get(t,e,r,i)}get(t,e,r,o){if(!this._set.size)return!1;if(this._set.has(t))return{value:t};const s=n.extendedCheckForValue(t,o);if(!s){if(e&&this._hasRef)for(let n of this._set)if(i.isRef(n)){const i=(n=[].concat(n(e.reference||e.parent,r))).indexOf(t);if(i>=0)return{value:n[i]}}return!1}return this._has(t,e,r,s)}_has(t,e,r,n){const o=!(!e||!this._hasRef),s=function(e){return t===e||n(e)};for(let t of this._set)if(o&&i.isRef(t)&&(t=t(e.reference||e.parent,r),Array.isArray(t))){const e=t.findIndex(s);if(e>=0)return{value:t[e]}}else if(s(t))return{value:t};return!1}values(t){if(t&&t.stripUndefined){const t=[];for(const e of this._set)void 0!==e&&t.push(e);return t}return Array.from(this._set)}slice(){const e=new t(this._set);return e._hasRef=this._hasRef,e}concat(e){const r=new t([...this._set,...e._set]);return r._hasRef=!!(this._hasRef|e._hasRef),r}}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";const i=r(40),n=r(66),o=r(102),s=r(73),a={};a.Alternatives=class extends n{constructor(){super(),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}_init(...t){return t.length?this.try(...t):this}_base(t,e,r){const i=[],n=this._inner.matches.length,o=this._baseType;for(let s=0;s<n;++s){const a=this._inner.matches[s];if(!a.schema){const i=a.peek||a.is,c=a.is?a.ref(e.reference||e.parent,r):t;if(i._validate(c,null,r,e.parent).errors){if(a.otherwise)return a.otherwise._validate(t,e,r)}else if(a.then)return a.then._validate(t,e,r);if(s===n-1&&o)return o._validate(t,e,r);continue}const c=a.schema._validate(t,e,r);if(!c.errors)return c;i.push(...c.errors)}return i.length?{errors:this.createError("alternatives.child",{reason:i},e,r)}:{errors:this.createError("alternatives.base",null,e,r)}}try(...t){t=i.flatten(t),i.assert(t.length,"Cannot add other alternatives without at least one schema");const e=this.clone();for(let r=0;r<t.length;++r){const i=o.schema(this._currentJoi,t[r]);i._refs.length&&e._refs.push(...i._refs),e._inner.matches.push({schema:i})}return e}when(t,e){let r=!1;i.assert(s.isRef(t)||"string"==typeof t||(r=t instanceof n),"Invalid condition:",t),i.assert(e,"Missing options"),i.assert("object"==typeof e,"Invalid options"),r?i.assert(!e.hasOwnProperty("is"),'"is" can not be used with a schema condition'):i.assert(e.hasOwnProperty("is"),'Missing "is" directive'),i.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');const a=this.clone();let c;r||(c=o.schema(this._currentJoi,e.is),null!==e.is&&(s.isRef(e.is)||e.is instanceof n)||(c=c.required()));const h={ref:r?null:o.ref(t),peek:r?t:null,is:c,then:void 0!==e.then?o.schema(this._currentJoi,e.then):void 0,otherwise:void 0!==e.otherwise?o.schema(this._currentJoi,e.otherwise):void 0};return a._baseType&&(h.then=h.then&&a._baseType.concat(h.then),h.otherwise=h.otherwise&&a._baseType.concat(h.otherwise)),r||(s.push(a._refs,h.ref),a._refs.push(...h.is._refs)),h.then&&h.then._refs.length&&a._refs.push(...h.then._refs),h.otherwise&&h.otherwise._refs.length&&a._refs.push(...h.otherwise._refs),a._inner.matches.push(h),a}label(t){const e=super.label(t);return e._inner.matches=e._inner.matches.map(e=>e.schema?{schema:e.schema.label(t)}:((e=Object.assign({},e)).then&&(e.then=e.then.label(t)),e.otherwise&&(e.otherwise=e.otherwise.label(t)),e)),e}describe(){const t=super.describe(),e=[];for(let t=0;t<this._inner.matches.length;++t){const r=this._inner.matches[t];if(r.schema)e.push(r.schema.describe());else{const t=r.is?{ref:r.ref.toString(),is:r.is.describe()}:{peek:r.peek.describe()};r.then&&(t.then=r.then.describe()),r.otherwise&&(t.otherwise=r.otherwise.describe()),e.push(t)}}return t.alternatives=e,t}},t.exports=new a.Alternatives},function(t,e,r){"use strict";const i=r(40),n=r(66),o=r(73),s={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};s.invalidDate=new Date(""),s.isIsoDate=(()=>{const t=s.isoDate.toString();return e=>e&&e.toString()===t})(),s.Date=class extends n{constructor(){super(),this._type="date"}_base(t,e,r){const i={value:r.convert&&s.Date.toDate(t,this._flags.format,this._flags.timestamp,this._flags.multiplier)||t};if(i.value instanceof Date&&!isNaN(i.value.getTime()))i.errors=null;else if(r.convert){let n;n=s.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:"base",i.errors=this.createError(`date.${n}`,{value:t},e,r)}else i.errors=this.createError("date.strict",{value:t},e,r);return i}static toDate(t,e,r,i){if(t instanceof Date)return t;if("string"==typeof t||"number"==typeof t&&!isNaN(t)&&isFinite(t)){const n=e&&s.isIsoDate(e);let o;if(!n&&"string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=parseFloat(t)),o=n?e.test(t)?new Date(t.toString()):s.invalidDate:r?/^\s*$/.test(t)?s.invalidDate:new Date(t*i):new Date(t),!isNaN(o.getTime()))return o}return null}iso(){if(this._flags.format===s.isoDate)return this;const t=this.clone();return t._flags.format=s.isoDate,t}timestamp(t="javascript"){const e=["javascript","unix"];if(i.assert(e.includes(t),'"type" must be one of "'+e.join('", "')+'"'),this._flags.timestamp===t)return this;const r=this.clone();return r._flags.timestamp=t,r._flags.multiplier="unix"===t?1e3:1,r}_isIsoDate(t){return s.isoDate.test(t)}},s.compare=function(t,e){return function(r){const n="now"===r,a=o.isRef(r);return n||a||(r=s.Date.toDate(r)),i.assert(r,"Invalid date format"),this._test(t,r,function(i,o,c){let h;if(n)h=Date.now();else if(a){const t=r(o.reference||o.parent,c);if(!(h=s.Date.toDate(t)))return this.createError("date.ref",{ref:r,value:t},o,c);h=h.getTime()}else h=r.getTime();return e(i.getTime(),h)?i:this.createError("date."+t,{limit:new Date(h),value:i},o,c)})}},s.Date.prototype.min=s.compare("min",(t,e)=>t>=e),s.Date.prototype.max=s.compare("max",(t,e)=>t<=e),s.Date.prototype.greater=s.compare("greater",(t,e)=>t>e),s.Date.prototype.less=s.compare("less",(t,e)=>t<e),t.exports=new s.Date},function(t,e,r){"use strict";const i=r(40),n=r(326),o=r(66),s=r(154),a=r(102),c=r(155),h={};h.Object=class extends o{constructor(){super(),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...t){return t.length?this.keys(...t):this}_base(t,e,r){let n=t;const o=[],a=()=>({value:n,errors:o.length?o:null});if("string"==typeof t&&r.convert&&t.length>1&&("{"===t[0]||/^\s*\{/.test(t)))try{t=JSON.parse(t)}catch(t){}const u=this._flags.func?"function":"object";if(!t||typeof t!==u||Array.isArray(t))return o.push(this.createError(u+".base",{value:t},e,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return n=t,a();if(n===t){"object"===u?n=Object.create(Object.getPrototypeOf(t)):(n=function(...e){return t.apply(this,e)}).prototype=i.clone(t.prototype);const e=Object.keys(t);for(let r=0;r<e.length;++r)n[e[r]]=t[e[r]]}else n=t;const l={};for(let t=0;t<this._inner.renames.length;++t){const i=this._inner.renames[t];if(i.isRegExp){const t=Object.keys(n),s=[];for(let e=0;e<t.length;++e)i.from.test(t[e])&&s.push(t[e]);const c=s.every(t=>void 0===n[t]);if(i.options.ignoreUndefined&&c)continue;if(!i.options.multiple&&l[i.to]&&(o.push(this.createError("object.rename.regex.multiple",{from:s,to:i.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(n,i.to)&&!i.options.override&&!l[i.to]&&(o.push(this.createError("object.rename.regex.override",{from:s,to:i.to},e,r)),r.abortEarly))return a();if(c?delete n[i.to]:n[i.to]=n[s[s.length-1]],l[i.to]=!0,!i.options.alias)for(let t=0;t<s.length;++t)delete n[s[t]]}else{if(i.options.ignoreUndefined&&void 0===n[i.from])continue;if(!i.options.multiple&&l[i.to]&&(o.push(this.createError("object.rename.multiple",{from:i.from,to:i.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(n,i.to)&&!i.options.override&&!l[i.to]&&(o.push(this.createError("object.rename.override",{from:i.from,to:i.to},e,r)),r.abortEarly))return a();void 0===n[i.from]?delete n[i.to]:n[i.to]=n[i.from],l[i.to]=!0,i.options.alias||delete n[i.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();const f=new Set(Object.keys(n));if(this._inner.children){const t=[];for(let i=0;i<this._inner.children.length;++i){const s=this._inner.children[i],h=s.key,u=n[h];f.delete(h);const l=new c(h,[...e.path,h],n,e.reference),d=s.schema._validate(u,l,r);if(d.errors){if(o.push(this.createError("object.child",{key:h,child:s.schema._getLabel(h),reason:d.errors},l,r)),r.abortEarly)return a()}else s.schema._flags.strip||void 0===d.value&&d.value!==u?(t.push(h),n[h]=d.finalValue):void 0!==d.value&&(n[h]=d.value)}for(let e=0;e<t.length;++e)delete n[t[e]]}if(f.size&&this._inner.patterns.length)for(const t of f){const i=new c(t,[...e.path,t],n,e.reference),s=n[t];for(let c=0;c<this._inner.patterns.length;++c){const h=this._inner.patterns[c];if(h.regex?h.regex.test(t):!h.schema._validate(t,e,{...r,abortEarly:!0}).errors){f.delete(t);const e=h.rule._validate(s,i,r);if(e.errors&&(o.push(this.createError("object.child",{key:t,child:h.rule._getLabel(t),reason:e.errors},i,r)),r.abortEarly))return a();n[t]=e.value}}}if(f.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){const t=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.objects);for(const e of f)t?(delete n[e],f.delete(e)):"function"==typeof n[e]&&f.delete(e)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown)for(const t of f)o.push(this.createError("object.allowUnknown",{child:t,value:n[t]},{key:t,path:[...e.path,t]},r,{}))}for(let t=0;t<this._inner.dependencies.length;++t){const u=this._inner.dependencies[t],l=null!==u.key,f=l&&u.key.split("."),d=l?new c(f[f.length-1],[...e.path,...f]):new c(null,e.path),p=h[u.type].call(this,u.key,l&&i.reach(n,u.key,{functions:!0}),u.peers,n,d,r);if(p instanceof s.Err&&(o.push(p),r.abortEarly))return a()}return a()}keys(t){i.assert(null==t||"object"==typeof t,"Object schema must be a valid object"),i.assert(!(t&&t instanceof o),"Object schema cannot be a joi schema");const e=this.clone();if(!t)return e._inner.children=null,e;const r=Object.keys(t);if(!r.length)return e._inner.children=[],e;const s=new n;if(e._inner.children)for(let t=0;t<e._inner.children.length;++t){const i=e._inner.children[t];r.includes(i.key)||s.add(i,{after:i._refs,group:i.key})}for(let e=0;e<r.length;++e){const i=r[e],n=t[i];try{const t=a.schema(this._currentJoi,n);s.add({key:i,schema:t},{after:t._refs,group:i})}catch(t){throw t.hasOwnProperty("path")?t.path=i+"."+t.path:t.path=i,t}}return e._inner.children=s.nodes,e}append(t){return null==t||0===Object.keys(t).length?this:this.keys(t)}unknown(t){const e=!1!==t;if(this._flags.allowUnknown===e)return this;const r=this.clone();return r._flags.allowUnknown=e,r}length(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,function(e,r,i){return Object.keys(e).length===t?e:this.createError("object.length",{limit:t,value:e},r,i)})}min(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,function(e,r,i){return Object.keys(e).length>=t?e:this.createError("object.min",{limit:t,value:e},r,i)})}max(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,function(e,r,i){return Object.keys(e).length<=t?e:this.createError("object.max",{limit:t,value:e},r,i)})}pattern(t,e){const r=t instanceof RegExp;i.assert(r||t instanceof o,"pattern must be a regex or schema"),i.assert(void 0!==e,"Invalid rule"),r&&i.assert(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode");try{e=a.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=`${t.message}(${t.path})`),t}const n=this.clone();return r?n._inner.patterns.push({regex:t,rule:e}):n._inner.patterns.push({schema:t,rule:e}),n}schema(){return this._test("schema",null,function(t,e,r){return t instanceof o?t:this.createError("object.schema",null,e,r)})}with(t,e){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",t,e)}without(t,e){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",t,e)}xor(...t){return t=i.flatten(t),this._dependency("xor",null,t)}oxor(...t){return this._dependency("oxor",null,t)}or(...t){return t=i.flatten(t),this._dependency("or",null,t)}and(...t){return t=i.flatten(t),this._dependency("and",null,t)}nand(...t){return t=i.flatten(t),this._dependency("nand",null,t)}requiredKeys(...t){return t=i.flatten(t),this.applyFunctionToChildren(t,"required")}optionalKeys(...t){return t=i.flatten(t),this.applyFunctionToChildren(t,"optional")}forbiddenKeys(...t){return t=i.flatten(t),this.applyFunctionToChildren(t,"forbidden")}rename(t,e,r){i.assert("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),i.assert("string"==typeof e,"Rename missing the to argument"),i.assert(e!==t,"Cannot rename key to same name:",t);for(let e=0;e<this._inner.renames.length;++e)i.assert(this._inner.renames[e].from!==t,"Cannot rename the same key multiple times");const n=this.clone();return n._inner.renames.push({from:t,to:e,options:i.applyToDefaults(h.renameDefaults,r||{}),isRegExp:t instanceof RegExp}),n}applyFunctionToChildren(t,e,r=[],n){t=[].concat(t),i.assert(t.length>0,"expected at least one children");const o=h.groupChildren(t);let s;if(""in o?(s=this[e](...r),delete o[""]):s=this.clone(),s._inner.children){n=n?n+".":"";for(let t=0;t<s._inner.children.length;++t){const i=s._inner.children[t],a=o[i.key];a&&(s._inner.children[t]={key:i.key,_refs:i._refs,schema:i.schema.applyFunctionToChildren(a,e,r,n+i.key)},delete o[i.key])}}const a=Object.keys(o);return i.assert(0===a.length,"unknown key(s)",a.join(", ")),s}_dependency(t,e,r){r=[].concat(r);for(let e=0;e<r.length;++e)i.assert("string"==typeof r[e],t,"peers must be a string or array of strings");const n=this.clone();return n._inner.dependencies.push({type:t,key:e,peers:r}),n}describe(t){const e=super.describe();if(e.rules)for(let t=0;t<e.rules.length;++t){const r=e.rules[t];r.arg&&"object"==typeof r.arg&&r.arg.schema&&r.arg.ref&&(r.arg={schema:r.arg.schema.describe(),ref:r.arg.ref.toString()})}if(this._inner.children&&!t){e.children={};for(let t=0;t<this._inner.children.length;++t){const r=this._inner.children[t];e.children[r.key]=r.schema.describe()}}if(this._inner.dependencies.length&&(e.dependencies=i.clone(this._inner.dependencies)),this._inner.patterns.length){e.patterns=[];for(let t=0;t<this._inner.patterns.length;++t){const r=this._inner.patterns[t];r.regex?e.patterns.push({regex:r.regex.toString(),rule:r.rule.describe()}):e.patterns.push({schema:r.schema.describe(),rule:r.rule.describe()})}}return this._inner.renames.length>0&&(e.renames=i.clone(this._inner.renames)),e}assert(t,e,r){t=a.ref(t),i.assert(t.isContext||t.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test",i.assert("string"==typeof r,"Message must be a string");try{e=a.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=`${t.message}(${t.path})`),t}const n=t.path[t.path.length-1],o=t.path.join(".");return this._test("assert",{schema:e,ref:t},function(i,s,a){if(!e._validate(t(i),null,a,i).errors)return i;const h=new c(n,t.path,s.parent,s.reference);return this.createError("object.assert",{ref:o,message:r},h,a)})}type(t,e=t.name){i.assert("function"==typeof t,"type must be a constructor function");const r={name:e,ctor:t};return this._test("type",r,function(e,i,n){return e instanceof t?e:this.createError("object.type",{type:r.name,value:e},i,n)})}},h.renameDefaults={alias:!1,multiple:!1,override:!1},h.groupChildren=function(t){t.sort();const e={};for(let r=0;r<t.length;++r){const n=t[r];i.assert("string"==typeof n,"children must be strings");const o=n.split(".")[0];(e[o]=e[o]||[]).push(n.substring(o.length+1))}return e},h.keysToLabels=function(t,e){if(!t._inner.children)return e;const r=function(e){const r=t._currentJoi.reach(t,e);return r?r._getLabel(e):e};return Array.isArray(e)?e.map(r):r(e)},h.with=function(t,e,r,n,o,s){if(void 0!==e)for(let e=0;e<r.length;++e){const a=r[e];if(void 0===i.reach(n,a,{functions:!0}))return this.createError("object.with",{main:t,mainWithLabel:h.keysToLabels(this,t),peer:a,peerWithLabel:h.keysToLabels(this,a)},o,s)}},h.without=function(t,e,r,n,o,s){if(void 0!==e)for(let e=0;e<r.length;++e){const a=r[e];if(void 0!==i.reach(n,a,{functions:!0}))return this.createError("object.without",{main:t,mainWithLabel:h.keysToLabels(this,t),peer:a,peerWithLabel:h.keysToLabels(this,a)},o,s)}},h.xor=function(t,e,r,n,o,s){const a=[];for(let t=0;t<r.length;++t){const e=r[t];void 0!==i.reach(n,e,{functions:!0})&&a.push(e)}if(1===a.length)return;const c={peers:r,peersWithLabels:h.keysToLabels(this,r)};return 0===a.length?this.createError("object.missing",c,o,s):(c.present=a,c.presentWithLabels=h.keysToLabels(this,a),this.createError("object.xor",c,o,s))},h.oxor=function(t,e,r,n,o,s){const a=[];for(let t=0;t<r.length;++t){const e=r[t];void 0!==i.reach(n,e,{functions:!0})&&a.push(e)}if(!a.length||1===a.length)return;const c={peers:r,peersWithLabels:h.keysToLabels(this,r)};return c.present=a,c.presentWithLabels=h.keysToLabels(this,a),this.createError("object.oxor",c,o,s)},h.or=function(t,e,r,n,o,s){for(let t=0;t<r.length;++t){const e=r[t];if(void 0!==i.reach(n,e,{functions:!0}))return}return this.createError("object.missing",{peers:r,peersWithLabels:h.keysToLabels(this,r)},o,s)},h.and=function(t,e,r,n,o,s){const a=[],c=[],u=r.length;for(let t=0;t<u;++t){const e=r[t];void 0===i.reach(n,e,{functions:!0})?a.push(e):c.push(e)}if(!(a.length===u||c.length===u))return this.createError("object.and",{present:c,presentWithLabels:h.keysToLabels(this,c),missing:a,missingWithLabels:h.keysToLabels(this,a)},o,s)},h.nand=function(t,e,r,n,o,s){const a=[];for(let t=0;t<r.length;++t){const e=r[t];void 0!==i.reach(n,e,{functions:!0})&&a.push(e)}const c=r[0],u=r.slice(1);return a.length===r.length?this.createError("object.nand",{main:c,mainWithLabel:h.keysToLabels(this,c),peers:u,peersWithLabels:h.keysToLabels(this,u)},o,s):null},t.exports=new h.Object},function(t,e,r){"use strict";(function(r){const i={};e=t.exports={array:Array.prototype,buffer:r.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",e.error],["[object Map]",e.map],["[object Promise]",e.promise],["[object Set]",e.set],["[object WeakMap]",e.weakMap],["[object WeakSet]",e.weakSet]]),e.getInternalProto=function(t){if(Array.isArray(t))return e.array;if(t instanceof r)return e.buffer;if(t instanceof Date)return e.date;if(t instanceof RegExp)return e.regex;const n=Object.prototype.toString.call(t);return i.typeMap.get(n)||e.generic}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";const i={rfc3986:{},generate:function(){const t="|";i.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",i.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";const e="a-zA-Z0-9-\\._~",r="!\\$&'\\(\\)\\*\\+,;=",n=e+"%0-9A-Fa-f"+r+":@",o="["+n+"]",s="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";i.rfc3986.IPv4address="(?:"+s+"\\.){3}"+s;const a="[0-9A-Fa-f]{1,4}",c="(?:"+a+":"+a+"|"+i.rfc3986.IPv4address+")",h="(?:"+a+":){6}"+c,u="::(?:"+a+":){5}"+c,l="(?:"+a+")?::(?:"+a+":){4}"+c,f="(?:(?:"+a+":){0,1}"+a+")?::(?:"+a+":){3}"+c,d="(?:(?:"+a+":){0,2}"+a+")?::(?:"+a+":){2}"+c,p="(?:(?:"+a+":){0,3}"+a+")?::"+a+":"+c,g="(?:(?:"+a+":){0,4}"+a+")?::"+c;i.rfc3986.IPv6address="(?:"+h+t+u+t+l+t+f+t+d+t+p+t+g+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",i.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+e+r+":]+",i.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const y="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+i.rfc3986.IPv6address+t+i.rfc3986.IPvFuture+")\\]")+t+i.rfc3986.IPv4address+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",_=o+"+",b="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",m="\\/(?:"+_+b+")?";i.rfc3986.hierPart="(?:(?:\\/\\/"+y+b+")"+t+m+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",i.rfc3986.relativeRef="(?:(?:\\/\\/"+y+b+")"+t+m+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+t+")",i.rfc3986.query="["+n+"\\/\\?]*(?=#|$)",i.rfc3986.queryWithSquareBrackets="["+n+"\\[\\]\\/\\?]*(?=#|$)",i.rfc3986.fragment="["+n+"\\/\\?]*"}};i.generate(),t.exports=i.rfc3986},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.oneMeter=5]="oneMeter",t[t.tenMeter=4]="tenMeter",t[t.oneHundredMeter=3]="oneHundredMeter",t[t.oneThousandMeter=2]="oneThousandMeter",t[t.tenThousandMeter=1]="tenThousandMeter"}(e.Accuracy||(e.Accuracy={})),function(t){t[t.column=0]="column",t[t.row=1]="row"}(e.IDEdge||(e.IDEdge={})),e.ellipsoidRadius=6378137,e.eccentricitySquared=.00669438,e.primeEccentricitySquared=e.eccentricitySquared/(1-e.eccentricitySquared),e.UTMCentralMeridanScaleFactor=.9996,e.UTMEastingOffset=5e5,e.UTMNorthingOffset=1e7,e.IDSetColumnOriginCombination="AJSAJS",e.IDSetRowOriginCombination="AFAFAF",e.IDSetColumnLetterCombination="ABCDEFGHJKLMNPQRSTUVWXYZ",e.IDSetRowLetterCombination="ABCDEFGHJKLMNPQRSTUV",e.countOfIDSetColumnOriginOffsetIntervals=8,e.countOfIDSetRowOriginOffsetIntervals=20,e.countOfIDSet=6},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(54),o=r(11),s=r(3),a=r(8),c=function(){this.dataProjection=null,this.defaultFeatureProjection=null};c.prototype.getReadOptions=function(t,e){var r;return e&&(r={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(r)},c.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},c.prototype.getLastExtent=function(){return null},c.prototype.getType=function(){return Object(s.b)()},c.prototype.readFeature=function(t,e){return Object(s.b)()},c.prototype.readFeatures=function(t,e){return Object(s.b)()},c.prototype.readGeometry=function(t,e){return Object(s.b)()},c.prototype.readProjection=function(t){return Object(s.b)()},c.prototype.writeFeature=function(t,e){return Object(s.b)()},c.prototype.writeFeatures=function(t,e){return Object(s.b)()},c.prototype.writeGeometry=function(t,e){return Object(s.b)()};var h=c;function u(t,e,r){var i,n=r?Object(a.get)(r.featureProjection):null,o=r?Object(a.get)(r.dataProjection):null;if(i=n&&o&&!Object(a.equivalent)(n,o)?Array.isArray(t)?Object(a.transformExtent)(t,o,n):(e?t.clone():t).transform(e?n:o,e?o:n):t,e&&r&&void 0!==r.decimals&&!Array.isArray(i)){var s=Math.pow(10,r.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}var l=r(80);function f(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var d=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return l.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(s.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(s.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(s.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(f(t))},e.prototype.readProjectionFromObject=function(t){return Object(s.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(s.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(s.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(s.b)()},e}(h),p=r(1),g=r(4),y=r(0),_=r(126),b=r(2);function m(t){for(var e=[],r=0,i=t.length;r<i;++r)e.push(t[r].clone());return e}var v=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(p.c)(this.geometries_[t],g.a.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(p.a)(this.geometries_[t],g.a.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(y.e)(this.getExtent(),t,e))return i;for(var n=this.geometries_,o=0,s=n.length;o<s;++o)i=n[o].closestPointXY(t,e,r,i);return i},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)if(r[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(y.l)(t);for(var e=this.geometries_,r=0,i=e.length;r<i;++r)Object(y.q)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return m(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(o.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(r))return this.simplifiedGeometryCache[r];for(var i=[],n=this.geometries_,s=!1,a=0,c=n.length;a<c;++a){var h=n[a],u=h.getSimplifiedGeometry(t);i.push(u),u!==h&&(s=!0)}if(s){var l=new e(null);return l.setGeometriesArray(i),this.simplifiedGeometryCache[r]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return b.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var i=r;i||(i=Object(y.x)(this.getExtent()));for(var n=this.geometries_,o=0,s=n.length;o<s;++o)n[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(m(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(_.a),E=r(64),w=r(133),O=r(93),S=r(135),T=r(41),C=r(35),x=function(t){function e(e){var r=e||{};t.call(this),this.dataProjection=Object(a.get)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(this.defaultFeatureProjection=Object(a.get)(r.featureProjection)),this.geometryName_=r.geometryName,this.extractGeometryName_=r.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var r=null,i=R((r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new n.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r.geometry_name),o.setGeometry(i),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var r=null;if("FeatureCollection"===t.type){r=[];for(var i=t.features,n=0,o=i.length;n<o;++n)r.push(this.readFeatureFromObject(i[n],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return R(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t.crs;return r?"name"==r.type?e=Object(a.get)(r.properties.name):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(r.id=i);var n=t.getGeometry();n&&(r.geometry=I(n,e));var s=t.getProperties();return delete s[t.getGeometryName()],Object(o.d)(s)||(r.properties=s),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return I(t,this.adaptOptions(e))},e}(d);function R(t,e){if(!t)return null;var r;switch(t.type){case b.a.POINT:r=function(t){return new T.a(t.coordinates)}(t);break;case b.a.LINE_STRING:r=function(t){return new E.a(t.coordinates)}(t);break;case b.a.POLYGON:r=function(t){return new C.a(t.coordinates)}(t);break;case b.a.MULTI_POINT:r=function(t){return new O.a(t.coordinates)}(t);break;case b.a.MULTI_LINE_STRING:r=function(t){return new w.a(t.coordinates)}(t);break;case b.a.MULTI_POLYGON:r=function(t){return new S.a(t.coordinates)}(t);break;case b.a.GEOMETRY_COLLECTION:r=function(t,e){var r=t.geometries.map(function(t){return R(t,e)});return new v(r)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return u(r,!1,e)}function I(t,e){var r,i=(t=u(t,!0,e)).getType();switch(i){case b.a.POINT:r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case b.a.LINE_STRING:r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case b.a.POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(r)}}(t,e);break;case b.a.MULTI_POINT:r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case b.a.MULTI_LINE_STRING:r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case b.a.MULTI_POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}(t,e);break;case b.a.GEOMETRY_COLLECTION:r=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var r=Object(o.a)({},e);return delete r.featureProjection,I(t,r)})}}(t,e);break;case b.a.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return r}e.default=x},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),r(213);var n=r(115),o=r(121),s=i(r(157)),a=r(109),c=r(160),h=r(224),u=r(225),l=r(343),f=r(344),d=r(345),p=r(346),g=r(348),y=r(349),_=r(350);r(351);var b=new s.default({target:"map",controls:n.defaults().extend([_.fullscreenControl,y.scaleLineControl,g.overviewControl,p.mousePositionControl]),interactions:o.defaults().extend([d.dragRotateZoomnInteraction]),layers:[c.baseMapOSM,u.KMSqIdentification,h.gridZoneDesignation],view:f.initialView});l.enableGridGraticuleOnMap(b),b.on("pointermove",function(t){h.focusGZD(t),u.focusID(t),a.setMouseGraticule(t.coordinate),p.addMouseMGRSPosition()})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(214),r(215),r(216),r(217),r(218),r(219),r(220),r(221)},,,,,,,,,function(t,e,r){t.exports=function(){"use strict";function t(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(r,i,n,o,s){!function e(r,i,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,c=i-n+1,h=Math.log(a),u=.5*Math.exp(2*h/3),l=.5*Math.sqrt(h*u*(a-u)/a)*(c-a/2<0?-1:1),f=Math.max(n,Math.floor(i-c*u/a+l)),d=Math.min(o,Math.floor(i+(a-c)*u/a+l));e(r,i,f,d,s)}var p=r[i],g=n,y=o;for(t(r,n,i),s(r[o],p)>0&&t(r,n,o);g<y;){for(t(r,g,y),g++,y--;s(r[g],p)<0;)g++;for(;s(r[y],p)>0;)y--}0===s(r[n],p)?t(r,n,y):t(r,++y,o),y<=i&&(n=y+1),i<=y&&(o=y-1)}}(r,i,n||0,o||r.length-1,s||e)}}()},function(t,e,r){"use strict";r.r(e),r.d(e,"ATTRIBUTION",function(){return n});var i=r(158),n='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',o=function(t){function e(e){var r,i=e||{};r=void 0!==i.attributions?i.attributions:[n];var o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",s=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:r,cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:s,wrapX:i.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default);e.default=o},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(211)),o=i(r(67)),s=i(r(68)),a=r(156),c=r(8),h=r(161),u=r(109);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.ShamRock,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return function(r,i){return new a.Style({stroke:new a.Stroke({color:t,width:e}),text:i>24600?null:new a.Text({font:i>18600?"bold 16px Arial":"bold 20px Arial",text:r.get("name"),fill:new a.Fill({color:h.ShamRock}),stroke:new a.Stroke({color:"white",width:3}),overflow:!0})})}}e.getGZDStyle=l;var f={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:function(){for(var t=[],e=-80;e<=72;e+=8)for(var r="CDEFGHJKLMNPQRSTUVWX".charAt((e+80)/8),i=1,n=-180;n<180;){var o=n+6,s=i+1;72===e?0===n||33===n?(o=n+9,i=0===n?31:37,s=0===n?33:38):9!==n&&21!==n||(o=n+12,s=(i=9===n?33:35)+2):56===e&&(0===n?o=n+3:3===n&&(o=n+9)),t.push({type:"Feature",properties:{name:"".concat(i).concat(r)},geometry:{type:"Polygon",coordinates:[[c.fromLonLat([n,72===e?84:e+8]),c.fromLonLat([o,72===e?84:e+8]),c.fromLonLat([o,e]),c.fromLonLat([n,e]),c.fromLonLat([n,72===e?84:e+8])]]}}),n=o,i=s}return t}()};var d=new s.default({features:(new n.default).readFeatures(f),wrapX:!1});e.gridZoneDesignation=new o.default({source:d,style:l()}),e.focusGZD=function(t){var r=e.gridZoneDesignation.getSource().getFeaturesAtCoordinate(t.coordinate);if(r.length){u.focusedGZDFeature&&u.focusedGZDFeature.setStyle(l());var i=r[0];i.setStyle(l(h.ShamRock,6)),u.setFocusedGZDFeature(i)}else u.focusedGZDFeature&&u.focusedGZDFeature.setStyle(l()),u.setFocusedGZDFeature(null)}},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(211)),o=i(r(67)),s=i(r(68)),a=r(156),c=r(161),h=r(8),u=r(162),l=r(342),f=r(109);function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.TurquioseColor,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return function(r,i){return new a.Style({stroke:new a.Stroke({color:t,width:e}),text:new a.Text({font:"bold 16px Arial",text:r.get("name"),fill:new a.Fill({color:c.TurquioseColor}),stroke:new a.Stroke({color:"white",width:2}),overflow:!1})})}}e.getIDStyle=d;var p={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:function(){for(var t=new Set,e=[],r=1;r<=60;++r)for(var i=0;i<l.bandCombination.length;++i){var n=l.bandCombination.charAt(i),o=0,s=0;switch((r-1)%3){case 0:o=l.IDColumnCombination.indexOf("A"),s=l.IDColumnCombination.indexOf("H");break;case 1:o=l.IDColumnCombination.indexOf("J"),s=l.IDColumnCombination.indexOf("R");break;case 2:o=l.IDColumnCombination.indexOf("S"),s=l.IDColumnCombination.indexOf("Z")}for(var a=o;a<=s;++a){var c=l.IDColumnCombination.charAt(a),u=function(o){var s=!1,a=l.IDRowCombination.charAt(o),u="0".repeat(10),f={topLeft:"".concat(r).concat(n).concat(c).concat(_(a)).concat(u),topRight:"".concat(r).concat(n).concat(b(c)).concat(_(a)).concat(u),bottomRight:"".concat(r).concat(n).concat(b(c)).concat(a).concat(u),bottomLeft:"".concat(r).concat(n).concat(c).concat(a).concat(u)};console.log("MGRS =",f);var d=y(f.bottomLeft),p=O(d),S=function(){var t=p.zone,e=p.band,r=p.column,i=p.row;return w(t,e,r,i)}(),T=w(r,n,c,a);if("0"===d||0!==d.indexOf(T)&&(t.has(S)||t.has("".concat(r).concat(v(i-1)).concat(c).concat(a)))&&(r===m(r-1)||p.zone!==m(r-1)||p.band!==n))return console.log("check ID is valid against GZD",d),s?"break":"continue";s=!0,t.add(T);var C={topLeft:g(f.topLeft),topRight:g(f.topRight),bottomRight:g(f.bottomRight),bottomLeft:g(f.bottomLeft)};console.log("graticule",C);var x={topLeft:[E(r,n,C.topLeft.longitude),C.topLeft.latitude],topRight:[60===r&&"Z"===c?180:E(r,n,C.topRight.longitude),C.topRight.latitude],bottomRight:[60===r&&"Z"===c?180:E(r,n,C.bottomRight.longitude),C.bottomRight.latitude],bottomLeft:[E(r,n,C.bottomLeft.longitude),C.bottomLeft.latitude]};console.log("graticuleList",x);var R="".concat(c).concat(a);e.push({type:"Feature",properties:{name:R},geometry:{type:"Polygon",coordinates:[[h.fromLonLat(x.topLeft),h.fromLonLat(x.topRight),h.fromLonLat(x.bottomRight),h.fromLonLat(x.bottomLeft),h.fromLonLat(x.topLeft)]]}})};t:for(var f=0;f<l.IDRowCombination.length;++f){var d=u(f);switch(d){case"break":break t;case"continue":continue}}}}return console.log("features",JSON.stringify(e,null,2)),e}()};function g(t){var e=u.getGraticuleFromMGRS(t),r=e.latitude,i=e.longitude;return{latitude:Math.min(Math.max(r,-80),84),longitude:Math.min(Math.max(i,-180),180)}}function y(t){var e="0";try{e=u.getMGRSFromGraticule(g(t))}catch(e){console.log("invalid MGRS",t)}return e.replace(/ /g,"")}function _(t){var e=(l.IDRowCombination.indexOf(t)+1)%l.IDRowCombination.length;return l.IDRowCombination.charAt(e)}function b(t){var e=(l.IDColumnCombination.indexOf(t)+1)%l.IDColumnCombination.length;return l.IDColumnCombination.charAt(e)}function m(t){return Math.min(Math.max(t,1),60)}function v(t){var e=Math.min(Math.max(t,0),l.bandCombination.length);return l.bandCombination.charAt(e)}function E(t,e,r){var i={left:6*(t-1)-180,right:6*t-180};return"X"===e?31===t?(i.left=0,i.right=9):33===t?(i.left=9,i.right=21):35===t?(i.left=21,i.right=33):37===t&&(i.left=33,i.right=42):"V"===e&&(31===t?(i.left=0,i.right=3):32===t&&(i.left=3,i.right=12)),Math.min(Math.max(r,i.left),i.right)}function w(t,e,r,i){return[t,e,r,i].join("")}function O(t){var e=parseInt(t),r=t.indexOf(e.toString())+e.toString().length,i=r+1;return{zone:e,band:t.substring(r,r+1),column:t.substring(i,i+1),row:t.substring(i+1,i+2)}}var S=new s.default({features:(new n.default).readFeatures(p),wrapX:!1});e.KMSqIdentification=new o.default({source:S,style:d(),maxResolution:3600}),e.focusID=function(t){var r=e.KMSqIdentification.getSource().getFeaturesAtCoordinate(t.coordinate);if(r.length){f.focusedIDFeature&&f.focusedIDFeature.setStyle(d());var i=r[0];i.setStyle(d(c.TurquioseColor,10)),f.setFocusedIDFeature(i)}else f.focusedIDFeature&&f.focusedIDFeature.setStyle(d()),f.setFocusedIDFeature(null)}},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(r(163)),o=r(210),s=r(340);function a(t){const e=s.getGraticuleCoordindateFromUTM(t),{accuracy:r}=t;if(r){const i=a({northing:t.northing+r,easting:t.easting+r,zone:t.zone,band:t.band});return{left:e.longitude,right:i.longitude,top:i.latitude,bottom:e.latitude}}return e}function c(t){t=t.toUpperCase().replace(/ /g,"");const{error:e}=n.default.validate(t,n.default.string().required().regex(/^(([0-5]{0,1}[0-9])|60)((?![IO])[C-X])((?![IO])[A-Z])((?![IO])[A-V])(\d\d){0,5}$/).error(new Error(["requires a valid MGTS string:","zone [1..60]","band [C..X]","ID [AA..ZV]","easting [undefined, 0..99,999]","northing [undefined, 0..99,999]]","Note: easting and northing should be paired with same digits of length [0, 5]"].join("\n"))));if(e)throw e;const r=parseInt(t,10),i=t.indexOf(r.toString())+r.toString().length,o=t.substr(i,1),a=i+1,c=t.substr(a,2),h=s.getUTMEastingOffsetFromIDRow(c.charAt(0),r),u=s.getUTMNorthingOffsetFromIDColumn(c.charAt(1),r,o),l=a+2,f=(t.length-l)/2,d=f>0?1e5/Math.pow(10,f):void 0,p=l,g=l+f;return{zone:r,band:o,easting:h+(f>0?parseFloat(t.substr(p,f))*d:0),northing:u+(f>0?parseFloat(t.substr(g,f))*d:0),accuracy:d}}e.getMGRSFromGraticule=function(t,e=o.Accuracy.oneMeter){const r=n.default.object({latitude:n.default.number().required().min(-80).max(84).error(new Error("requires a valid latitude value in degree within [-80, 84], as polar regions not supported")),longitude:n.default.number().required().min(-180).max(180).error(new Error("requires a valid longitude value in degree within [-180, 180]"))}).required(),{error:i,value:a}=n.default.validate(t,r);if(i)throw i;return function(t,e){const{easting:r,northing:i,zone:n,band:a}=t,c=t=>`00000${t}`.substr(-5,e);return[((t,e)=>[t,e].join(""))(n,a),(t=>[s.getIDEdgeLetter(t,o.IDEdge.column),s.getIDEdgeLetter(t,o.IDEdge.row)].join(""))(t),c(r),c(i)].join(" ")}(function(t){return{...s.getUTMGridPoistionsFromGraticule(t),zone:s.getUTMZoneFromGraticule(t),band:s.getUTMLatitudeBandFromGraticule(t)}}(a),e)},e.getGraticuleBoundaryFromMGRS=function(t){const e=a(c(t.toUpperCase())),r=e;return r.latitude&&r.longitude?{left:r.longitude,right:r.longitude,top:r.latitude,bottom:r.latitude}:e},e.getGraticuleFromMGRS=function(t){const e=a(c(t.toUpperCase())),r=e;if(r.latitude&&r.longitude)return r;const i=e;return{latitude:(i.top+i.bottom)/2,longitude:(i.left+i.right)/2}}},function(t,e,r){"use strict";e.byteLength=function(t){var e=h(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){for(var e,r=h(t),i=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,i,s)),c=0,u=s>0?i-4:i,l=0;l<u;l+=4)e=n[t.charCodeAt(l)]<<18|n[t.charCodeAt(l+1)]<<12|n[t.charCodeAt(l+2)]<<6|n[t.charCodeAt(l+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;2===s&&(e=n[t.charCodeAt(l)]<<2|n[t.charCodeAt(l+1)]>>4,a[c++]=255&e);1===s&&(e=n[t.charCodeAt(l)]<<10|n[t.charCodeAt(l+1)]<<4|n[t.charCodeAt(l+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e);return a},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));1===n?(e=t[r-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var n,o,s=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,i,n){var o,s,a=8*n-i-1,c=(1<<a)-1,h=c>>1,u=-7,l=r?n-1:0,f=r?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+l],l+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+l],l+=f,u-=8);if(0===o)o=1-h;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=h}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var s,a,c,h=8*o-n-1,u=(1<<h)-1,l=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=u?(a=0,s=u):s+l>=1?(a=(e*c-1)*Math.pow(2,n),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,n),s=0));n>=8;t[r+d]=255&a,d+=p,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;t[r+d]=255&s,d+=p,s/=256,h-=8);t[r+d-p]|=128*g}},function(t,e,r){"use strict";(function(e){var i=r(230);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function n(t,e){if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=r(165),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,h="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=b,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(h)return t.name;var e=t.toString().match(d);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(h||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function _(t,e,r,i,n){throw new f.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:n})}function b(t,e){t||_(t,!0,e,"==",f.ok)}function m(t,e,r,i){if(t===e)return!0;if(o(t)&&o(e))return 0===n(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,r,i){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var n=v(t),o=v(e);if(n&&!o||!n&&o)return!1;if(n)return t=c.call(t),e=c.call(e),m(t,e,r);var a,h,u=O(t),l=O(e);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),h=u.length-1;h>=0;h--)if(u[h]!==l[h])return!1;for(h=u.length-1;h>=0;h--)if(a=u[h],!m(t[a],e[a],r,i))return!1;return!0}(t,e,r,i))}return r?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function E(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,r,i){var n;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(i=r,r=null),n=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(r&&r.name?" ("+r.name+").":".")+(i?" "+i:"."),t&&!n&&_(n,r,"Missing expected exception"+i);var o="string"==typeof i,a=!t&&n&&!r;if((!t&&s.isError(n)&&o&&E(n,r)||a)&&_(n,r,"Got unwanted exception"+i),t&&n&&r&&!E(n,r)||!t&&n)throw n}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(y(t.actual),128)+" "+t.operator+" "+g(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||_;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var i=r.stack,n=p(e),o=i.indexOf("\n"+n);if(o>=0){var s=i.indexOf("\n",o+1);i=i.substring(s+1)}this.stack=i}}},s.inherits(f.AssertionError,Error),f.fail=_,f.ok=b,f.equal=function(t,e,r){t!=e&&_(t,e,r,"==",f.equal)},f.notEqual=function(t,e,r){t==e&&_(t,e,r,"!=",f.notEqual)},f.deepEqual=function(t,e,r){m(t,e,!1)||_(t,e,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,r){m(t,e,!0)||_(t,e,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,r){m(t,e,!1)&&_(t,e,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,r,i){m(e,r,!0)&&_(e,r,i,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,r){t!==e&&_(t,e,r,"===",f.strictEqual)},f.notStrictEqual=function(t,e,r){t===e&&_(t,e,r,"!==",f.notStrictEqual)},f.throws=function(t,e,r){w(!0,t,e,r)},f.doesNotThrow=function(t,e,r){w(!1,t,e,r)},f.ifError=function(t){if(t)throw t},f.strict=i(function t(e,r){e||_(e,!0,r,"==",t)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var O=Object.keys||function(t){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e}}).call(this,r(65))},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,c=s(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))n.call(r,u)&&(c[u]=r[u]);if(i){a=i(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(c[a[l]]=r[a[l]])}}return c}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(87),e.createHash=e.Hash=r(96),e.createHmac=e.Hmac=r(173);var i=r(251),n=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);e.getHashes=function(){return o};var s=r(176);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=r(253);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var c=r(270);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var h=r(275);e.createSign=h.createSign,e.Sign=h.Sign,e.createVerify=h.createVerify,e.Verify=h.Verify,e.createECDH=r(309);var u=r(310);e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var l=r(313);e.randomFill=l.randomFill,e.randomFillSync=l.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e){},function(t,e,r){"use strict";var i=r(141).Buffer,n=r(236);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,r,n,o=i.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=o,n=a,e.copy(r,n),a+=s.data.length,s=s.next;return o},t}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var t=n.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(238),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(65))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,c=1,h={},u=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return h[c]=n,i(c),c++},f.clearImmediate=d}function d(t){delete h[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=h[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(r,i)}}(e)}finally{d(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(65),r(56))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var i=!1;return function(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,r(65))},function(t,e,r){var i=r(24),n=i.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(n,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,r){"use strict";t.exports=o;var i=r(170),n=r(97);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}n.inherits=r(19),n.inherits(o,i),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(142)},function(t,e,r){t.exports=r(82)},function(t,e,r){t.exports=r(140).Transform},function(t,e,r){t.exports=r(140).PassThrough},function(t,e,r){var i=r(19),n=r(88),o=r(21).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<30|t>>>2}function u(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=i)<<5|e>>>27)+u(d,n,o,a)+c+r[f]+s[d];c=a,a=o,o=h(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,r){var i=r(19),n=r(88),o=r(21).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function h(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function l(t,e,r,i){return 0===t?e&r|~e&i:2===t?e&r|e&i|r&i:e^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=h(i)+l(p,n,o,a)+c+r[d]+s[p]|0;c=a,a=o,o=u(n),n=i,i=g}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,r){var i=r(19),n=r(171),o=r(88),s=r(21).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}i(c,n),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,r){var i=r(19),n=r(172),o=r(88),s=r(21).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}i(c,n),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,i){t.writeInt32BE(e,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,r){"use strict";var i=r(19),n=r(21).Buffer,o=r(76),s=n.alloc(128),a=64;function c(t,e){o.call(this,"digest"),"string"==typeof e&&(e=n.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=n.concat([e,s],a));for(var r=this._ipad=n.allocUnsafe(a),i=this._opad=n.allocUnsafe(a),c=0;c<a;c++)r[c]=54^e[c],i[c]=92^e[c];this._hash=[r]}i(c,o),c.prototype._update=function(t){this._hash.push(t)},c.prototype._final=function(){var t=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,t]))},t.exports=c},function(t,e,r){t.exports=r(175)},function(t,e,r){(function(e,i){var n,o=r(177),s=r(178),a=r(179),c=r(21).Buffer,h=e.crypto&&e.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function f(t,e,r,i,n){return h.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return h.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},t,i<<3)}).then(function(t){return c.from(t)})}t.exports=function(t,r,d,p,g,y){"function"==typeof g&&(y=g,g=void 0);var _=u[(g=g||"sha1").toLowerCase()];if(!_||"function"!=typeof e.Promise)return i.nextTick(function(){var e;try{e=a(t,r,d,p,g)}catch(t){return y(t)}y(null,e)});if(o(t,r,d,p),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");c.isBuffer(t)||(t=c.from(t,s)),c.isBuffer(r)||(r=c.from(r,s)),function(t,e){t.then(function(t){i.nextTick(function(){e(null,t)})},function(t){i.nextTick(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==l[t])return l[t];var r=f(n=n||c.alloc(8),n,10,128,t).then(function(){return!0}).catch(function(){return!1});return l[t]=r,r}(_).then(function(e){return e?f(t,r,d,p,_):a(t,r,d,p,g)}),y)}}).call(this,r(65),r(56))},function(t,e,r){var i=r(254),n=r(147),o=r(148),s=r(269),a=r(112);function c(t,e,r){if(t=t.toLowerCase(),o[t])return n.createCipheriv(t,e,r);if(s[t])return new i({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function h(t,e,r){if(t=t.toLowerCase(),o[t])return n.createDecipheriv(t,e,r);if(s[t])return new i({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,i;if(t=t.toLowerCase(),o[t])r=o[t].key,i=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,i=s[t].iv}var n=a(e,!1,r,i);return c(t,n.key,n.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var r,i;if(t=t.toLowerCase(),o[t])r=o[t].key,i=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,i=s[t].iv}var n=a(e,!1,r,i);return h(t,n.key,n.iv)},e.createDecipheriv=e.Decipheriv=h,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(n.getCiphers())}},function(t,e,r){var i=r(76),n=r(146),o=r(19),s=r(21).Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function c(t){i.call(this);var e,r=t.mode.toLowerCase(),n=a[r];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var c=t.iv;s.isBuffer(c)||(c=s.from(c)),this._des=n.create({key:o,iv:c,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=c,o(c,i),c.prototype._update=function(t){return s.from(this._des.update(t))},c.prototype._final=function(){return s.from(this._des.final())}},function(t,e,r){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,i){for(var n=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)n<<=1,n|=e>>>a+s&1;for(a=0;a<=24;a+=8)n<<=1,n|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}r[i+0]=n>>>0,r[i+1]=o>>>0},e.rip=function(t,e,r,i){for(var n=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)n<<=1,n|=e>>>a+s&1,n<<=1,n|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;r[i+0]=n>>>0,r[i+1]=o>>>0},e.pc1=function(t,e,r,i){for(var n=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)n<<=1,n|=e>>a+s&1;for(a=0;a<=24;a+=8)n<<=1,n|=t>>a+s&1}for(a=0;a<=24;a+=8)n<<=1,n|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;r[i+0]=n>>>0,r[i+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,r,n){for(var o=0,s=0,a=i.length>>>1,c=0;c<a;c++)o<<=1,o|=t>>>i[c]&1;for(c=a;c<i.length;c++)s<<=1,s|=e>>>i[c]&1;r[n+0]=o>>>0,r[n+1]=s>>>0},e.expand=function(t,e,r){var i=0,n=0;i=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=t>>>o&63;for(o=11;o>=3;o-=4)n|=t>>>o&63,n<<=6;n|=(31&t)<<1|t>>>31,e[r+0]=i>>>0,e[r+1]=n>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,i=0;i<4;i++){r<<=4,r|=n[64*i+(t>>>18-6*i&63)]}for(i=0;i<4;i++){r<<=4,r|=n[256+64*i+(e>>>18-6*i&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<o.length;r++)e<<=1,e|=t>>>o[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var n=[],o=0;o<e;o+=r)n.push(i.slice(o,o+r));return n.join(" ")}},function(t,e,r){"use strict";var i=r(57);function n(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},n.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<r;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(t){var e=0,r=0,i=(this.bufferOff+t.length)/this.blockSize|0,n=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(n,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,n,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return n},n.prototype._updateDecrypt=function(t){for(var e=0,r=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,n=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),r+=this._flushBuffer(n,r);return e+=this._buffer(t,e),n},n.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},n.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},n.prototype._unpad=function(t){return t},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,r){"use strict";var i=r(57),n=r(19),o=r(146),s=o.utils,a=o.Cipher;function c(){this.tmp=new Array(2),this.keys=null}function h(t){a.call(this,t);var e=new c;this._desState=e,this.deriveKeys(e,t.key)}n(h,a),t.exports=h,h.create=function(t){return new h(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),n=s.readUInt32BE(e,4);s.pc1(r,n,t.tmp,0),r=t.tmp[0],n=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=u[o>>>1];r=s.r28shl(r,a),n=s.r28shl(n,a),s.pc2(r,n,t.keys,o)}},h.prototype._update=function(t,e,r,i){var n=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,a,n.tmp,0):this._decrypt(n,o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],s.writeUInt32BE(r,o,i),s.writeUInt32BE(r,a,i+4)},h.prototype._pad=function(t,e){for(var r=t.length-e,i=e;i<t.length;i++)t[i]=r;return!0},h.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)i.equal(t[r],e);return t.slice(0,t.length-e)},h.prototype._encrypt=function(t,e,r,i,n){for(var o=e,a=r,c=0;c<t.keys.length;c+=2){var h=t.keys[c],u=t.keys[c+1];s.expand(a,t.tmp,0),h^=t.tmp[0],u^=t.tmp[1];var l=s.substitute(h,u),f=a;a=(o^s.permute(l))>>>0,o=f}s.rip(a,o,i,n)},h.prototype._decrypt=function(t,e,r,i,n){for(var o=r,a=e,c=t.keys.length-2;c>=0;c-=2){var h=t.keys[c],u=t.keys[c+1];s.expand(o,t.tmp,0),h^=t.tmp[0],u^=t.tmp[1];var l=s.substitute(h,u),f=o;o=(a^s.permute(l))>>>0,a=f}s.rip(o,a,i,n)}},function(t,e,r){"use strict";var i=r(57),n=r(19),o={};function s(t){i.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}n(e,t);for(var r=Object.keys(o),i=0;i<r.length;i++){var s=r[i];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,r,i){var n=this._cbcState,o=this.constructor.super_.prototype,s=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,r,i);for(a=0;a<this.blockSize;a++)s[a]=r[i+a]}else{o._update.call(this,t,e,r,i);for(a=0;a<this.blockSize;a++)r[i+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,r){"use strict";var i=r(57),n=r(19),o=r(146),s=o.Cipher,a=o.DES;function c(t,e){i.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r})]}function h(t){s.call(this,t);var e=new c(this.type,this.options.key);this._edeState=e}n(h,s),t.exports=h,h.create=function(t){return new h(t)},h.prototype._update=function(t,e,r,i){var n=this._edeState;n.ciphers[0]._update(t,e,r,i),n.ciphers[1]._update(r,i,r,i),n.ciphers[2]._update(r,i,r,i)},h.prototype._pad=a.prototype._pad,h.prototype._unpad=a.prototype._unpad},function(t,e,r){var i=r(148),n=r(183),o=r(21).Buffer,s=r(184),a=r(76),c=r(111),h=r(112);function u(t,e,r){a.call(this),this._cache=new f,this._cipher=new c.AES(e),this._prev=o.from(r),this._mode=t,this._autopadding=!0}r(19)(u,a),u.prototype._update=function(t){var e,r;this._cache.add(t);for(var i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return o.concat(i)};var l=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(t,e,r){var a=i[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,e,r):"auth"===a.type?new n(a.module,e,r):new u(a.module,e,r)}u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return o.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var r=i[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=h(e,!1,r.key,r.iv);return d(t,n.key,n.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,r){var i=r(98);e.encrypt=function(t,e){var r=i(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return i(n,r)}},function(t,e,r){var i=r(21).Buffer,n=r(98);function o(t,e,r){var o=e.length,s=n(e,t._cache);return t._cache=t._cache.slice(o),t._prev=i.concat([t._prev,r?e:s]),s}e.encrypt=function(t,e,r){for(var n,s=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){s=i.concat([s,o(t,e,r)]);break}n=t._cache.length,s=i.concat([s,o(t,e.slice(0,n),r)]),e=e.slice(n)}return s}},function(t,e,r){var i=r(21).Buffer;function n(t,e,r){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([r?e:n])]),n}e.encrypt=function(t,e,r){for(var o=e.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=n(t,e[a],r);return s}},function(t,e,r){var i=r(21).Buffer;function n(t,e,r){for(var i,n,s=-1,a=0;++s<8;)i=e&1<<7-s?128:0,a+=(128&(n=t._cipher.encryptBlock(t._prev)[0]^i))>>s%8,t._prev=o(t._prev,r?i:n);return a}function o(t,e){var r=t.length,n=-1,o=i.allocUnsafe(t.length);for(t=i.concat([t,i.from([e])]);++n<r;)o[n]=t[n]<<1|t[n+1]>>7;return o}e.encrypt=function(t,e,r){for(var o=e.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=n(t,e[a],r);return s}},function(t,e,r){(function(t){var i=r(98);function n(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),i(r,o)}}).call(this,r(24).Buffer)},function(t,e,r){var i=r(21).Buffer,n=i.alloc(16,0);function o(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,r,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],n=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(n[0]^=i[0],n[1]^=i[1],n[2]^=i[2],n[3]^=i[3]),r=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,r&&(i[0]=i[0]^225<<24)}this.state=o(n)},s.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,r){var i=r(183),n=r(21).Buffer,o=r(148),s=r(184),a=r(76),c=r(111),h=r(112);function u(t,e,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new c.AES(e),this._prev=n.from(r),this._mode=t,this._autopadding=!0}function l(){this.cache=n.allocUnsafe(0)}function f(t,e,r){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=n.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=n.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,r,!0):"auth"===a.type?new i(a.module,e,r,!0):new u(a.module,e,r)}r(19)(u,a),u.prototype._update=function(t){var e,r;this._cache.add(t);for(var i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return n.concat(i)},u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=n.concat([this.cache,t])},l.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=o[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=h(e,!1,r.key,r.iv);return f(t,i.key,i.iv)},e.createDecipheriv=f},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,r){(function(t){var i=r(185),n=r(273),o=r(274);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var r=new t(n[e].prime,"hex"),i=new t(n[e].gen,"hex");return new o(r,i)},e.createDiffieHellman=e.DiffieHellman=function e(r,n,a,c){return t.isBuffer(n)||void 0===s[n]?e(r,"binary",n,a):(n=n||"binary",c=c||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,c)),"number"==typeof r?new o(i(r,a),a,!0):(t.isBuffer(r)||(r=new t(r,n)),new o(r,a,!0)))}}).call(this,r(24).Buffer)},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(t,e,r){(function(e){var i=r(33),n=new(r(187)),o=new i(24),s=new i(11),a=new i(10),c=new i(3),h=new i(7),u=r(185),l=r(87);function f(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._pub=new i(t),this}function d(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._priv=new i(t),this}t.exports=g;var p={};function g(t,e,r){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function y(t,r){var i=new e(t.toArray());return r?i.toString(r):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in p)return p[i];var l,f=0;if(t.isEven()||!u.simpleSieve||!u.fermatTest(t)||!n.test(t))return f+=1,f+="02"===r||"05"===r?8:4,p[i]=f,f;switch(n.test(t.shrn(1))||(f+=2),r){case"02":t.mod(o).cmp(s)&&(f+=8);break;case"05":(l=t.mod(a)).cmp(c)&&l.cmp(h)&&(f+=8);break;default:f+=4}return p[i]=f,f}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var r=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new e(r.toArray()),o=this.getPrime();if(n.length<o.length){var s=new e(o.length-n.length);s.fill(0),n=e.concat([s,n])}return n},g.prototype.getPublicKey=function(t){return y(this._pub,t)},g.prototype.getPrivateKey=function(t){return y(this._priv,t)},g.prototype.getPrime=function(t){return y(this.__prime,t)},g.prototype.getGenerator=function(t){return y(this._gen,t)},g.prototype.setGenerator=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.__gen=t,this._gen=new i(t),this}}).call(this,r(24).Buffer)},function(t,e,r){(function(e){var i=r(96),n=r(138),o=r(19),s=r(276),a=r(308),c=r(175);function h(t){n.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function u(t){n.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){return new h(t)}function f(t){return new u(t)}Object.keys(c).forEach(function(t){c[t].id=new e(c[t].id,"hex"),c[t.toLowerCase()]=c[t]}),o(h,n.Writable),h.prototype._write=function(t,e,r){this._hash.update(t),r()},h.prototype.update=function(t,r){return"string"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},h.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),i=s(r,t,this._hashType,this._signType,this._tag);return e?i.toString(e):i},o(u,n.Writable),u.prototype._write=function(t,e,r){this._hash.update(t),r()},u.prototype.update=function(t,r){return"string"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},u.prototype.verify=function(t,r,i){"string"==typeof r&&(r=new e(r,i)),this.end();var n=this._hash.digest();return a(r,n,t,this._signType,this._tag)},t.exports={Sign:l,Verify:f,createSign:l,createVerify:f}}).call(this,r(24).Buffer)},function(t,e,r){(function(e){var i=r(173),n=r(150),o=r(151).ec,s=r(33),a=r(114),c=r(197);function h(t,r,n,o){if((t=new e(t.toArray())).length<r.byteLength()){var s=new e(r.byteLength()-t.length);s.fill(0),t=e.concat([s,t])}var a=n.length,c=function(t,r){t=(t=u(t,r)).mod(r);var i=new e(t.toArray());if(i.length<r.byteLength()){var n=new e(r.byteLength()-i.length);n.fill(0),i=e.concat([n,i])}return i}(n,r),h=new e(a);h.fill(1);var l=new e(a);return l.fill(0),l=i(o,l).update(h).update(new e([0])).update(t).update(c).digest(),h=i(o,l).update(h).digest(),{k:l=i(o,l).update(h).update(new e([1])).update(t).update(c).digest(),v:h=i(o,l).update(h).digest()}}function u(t,e){var r=new s(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function l(t,r,n){var o,s;do{for(o=new e(0);8*o.length<t.bitLength();)r.v=i(n,r.k).update(r.v).digest(),o=e.concat([o,r.v]);s=u(o,t),r.k=i(n,r.k).update(r.v).update(new e([0])).digest(),r.v=i(n,r.k).update(r.v).digest()}while(-1!==s.cmp(t));return s}function f(t,e,r,i){return t.toRed(s.mont(r)).redPow(e).fromRed().mod(i)}t.exports=function(t,r,i,d,p){var g=a(r);if(g.curve){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");return function(t,r){var i=c[r.curve.join(".")];if(!i)throw new Error("unknown curve "+r.curve.join("."));var n=new o(i).keyFromPrivate(r.privateKey).sign(t);return new e(n.toDER())}(t,g)}if("dsa"===g.type){if("dsa"!==d)throw new Error("wrong private key type");return function(t,r,i){for(var n,o=r.params.priv_key,a=r.params.p,c=r.params.q,d=r.params.g,p=new s(0),g=u(t,c).mod(c),y=!1,_=h(o,c,t,i);!1===y;)n=l(c,_,i),p=f(d,n,a,c),0===(y=n.invm(c).imul(g.add(o.mul(p))).mod(c)).cmpn(0)&&(y=!1,p=new s(0));return function(t,r){t=t.toArray(),r=r.toArray(),128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r));var i=[48,t.length+r.length+4,2,t.length];return i=i.concat(t,[2,r.length],r),new e(i)}(p,y)}(t,g,i)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");t=e.concat([p,t]);for(var y=g.modulus.byteLength(),_=[0,1];t.length+_.length+1<y;)_.push(255);_.push(0);for(var b=-1;++b<t.length;)_.push(t[b]);return n(_,g)},t.exports.getKey=h,t.exports.makeKey=l}).call(this,r(24).Buffer)},function(t){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.0","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^2.11.3","grunt":"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2","istanbul":"^0.4.2","jscs":"^2.9.0","jshint":"^2.6.0","mocha":"^2.1.0"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(t,e,r){"use strict";var i=r(58),n=r(33),o=r(19),s=r(113),a=i.assert;function c(t){s.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(t,e,r,i){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(e,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(t,e,r,i){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(e,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new n(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new n(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new n(t.a,16),b:new n(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:n.mont(t),r=new n(2).toRed(e).redInvm(),i=r.redNeg(),o=new n(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,i,o,s,a,c,h,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new n(1),g=new n(0),y=new n(0),_=new n(1),b=0;0!==f.cmpn(0);){var m=d.div(f);h=d.sub(m.mul(f)),u=y.sub(m.mul(p));var v=_.sub(m.mul(g));if(!i&&h.cmp(l)<0)e=c.neg(),r=p,i=h.neg(),o=u;else if(i&&2==++b)break;c=h,d=f,f=h,y=p,p=u,_=g,g=v}s=h.neg(),a=u;var E=i.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(E)>=0&&(s=e,a=r),i.negative&&(i=i.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:i,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=n.mul(r.a),a=o.mul(i.a),c=n.mul(r.b),h=o.mul(i.b);return{k1:t.sub(s).sub(a),k2:c.add(h).neg()}},c.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(e&&!o||!e&&o)&&(i=i.redNeg()),this.point(t,i)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),i[2*o]=a,i[2*o+1]=c,n[2*o]=s.k1,n[2*o+1]=s.k2}for(var h=this._wnafMulAdd(1,i,n,2*o,r),u=0;u<2*o;u++)i[u]=null,n[u]=null;return h},o(h,s.BasePoint),c.prototype.point=function(t,e,r){return new h(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return h.fromJSON(this,t,e)},h.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},h.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(t){return t=new n(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},h.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},h.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},h.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,s.BasePoint),c.prototype.jpoint=function(t,e,r){return new u(this,t,e,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),u=h.redMul(a),l=i.redMul(h),f=c.redSqr().redIAdd(u).redISub(l).redISub(l),d=c.redMul(l.redISub(f)).redISub(o.redMul(u)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},u.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(i),a=n.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),u=r.redMul(c),l=a.redSqr().redIAdd(h).redISub(u).redISub(u),f=a.redMul(u.redISub(l)).redISub(n.redMul(h)),d=this.z.redMul(s);return this.curve.jpoint(l,f,d)},u.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var i=this.curve.a,n=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),h=s.redAdd(s);for(r=0;r<t;r++){var u=o.redSqr(),l=h.redSqr(),f=l.redSqr(),d=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=o.redMul(l),g=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),_=d.redMul(y);_=_.redIAdd(_).redISub(f);var b=h.redMul(a);r+1<t&&(c=c.redMul(f)),o=g,a=b,h=_}return this.curve.jpoint(o,h.redMul(n),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=c,e=a.redMul(s.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(u).redISub(f);d=d.redIAdd(d);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),y=f.redIAdd(f);y=(y=y.redIAdd(y)).redIAdd(y),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},u.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);t=c;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(s.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),l=this.y.redSqr(),f=this.x.redMul(l),d=this.x.redSub(u).redMul(this.x.redAdd(u));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(u);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),e=d.redMul(p.redISub(t)).redISub(y)}return this.curve.jpoint(t,e,r)},u.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(n)),c=e.redAdd(e),h=(c=c.redIAdd(c)).redMul(s),u=a.redSqr().redISub(h.redAdd(h)),l=h.redISub(u),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(l).redISub(f),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,d,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),o=n.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=n.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),u=e.redMul(h);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.x.redMul(a).redISub(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.y.redMul(h.redMul(c.redISub(h)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,f,d)},u.prototype.mul=function(t,e){return t=new n(t,e),this.curve._wnafMul(this,t)},u.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){"use strict";var i=r(33),n=r(19),o=r(113),s=r(58);function a(t){o.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},n(c,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new c(this,t,e)},a.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),i=t.redMul(e),n=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=n.redMul(i),a=e.z.redMul(o.redAdd(s).redSqr()),c=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var o=n.length-1;o>=0;o--)0===n[o]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){"use strict";var i=r(58),n=r(33),o=r(19),s=r(113),a=i.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new n(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,r,i,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(e,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=o&&new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},c.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(e&&!c||!e&&c)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(n)},o(h,s.BasePoint),c.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},c.prototype.point=function(t,e,r,i){return new h(this,t,e,r,i)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=i.redAdd(e),s=o.redSub(r),a=i.redSub(e),c=n.redMul(s),h=o.redMul(a),u=n.redMul(a),l=s.redMul(o);return this.curve.point(c,h,l,u)},h.prototype._projDbl=function(){var t,e,r,i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(h=this.curve._mulA(n)).redAdd(o);if(this.zOne)t=i.redSub(n).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(h.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),c=s.redSub(a).redISub(a);t=i.redSub(n).redISub(o).redMul(c),e=s.redMul(h.redSub(o)),r=s.redMul(c)}}else{var h=n.redAdd(o);a=this.curve._mulC(this.z).redSqr(),c=h.redSub(a).redSub(a);t=this.curve._mulC(i.redISub(h)).redMul(c),e=this.curve._mulC(h).redMul(n.redISub(o)),r=h.redMul(c)}return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=n.redSub(i),a=n.redAdd(i),c=r.redAdd(e),h=o.redMul(s),u=a.redMul(c),l=o.redMul(c),f=s.redMul(a);return this.curve.point(h,u,f,l)},h.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),n=i.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),c=n.redSub(a),h=n.redAdd(a),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),l=i.redMul(c).redMul(u);return this.curve.twisted?(e=i.redMul(h).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(h)):(e=i.redMul(h).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(h)),this.curve.point(l,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},function(t,e,r){"use strict";e.sha1=r(282),e.sha224=r(283),e.sha256=r(191),e.sha384=r(284),e.sha512=r(192)},function(t,e,r){"use strict";var i=r(72),n=r(99),o=r(190),s=i.rotl32,a=i.sum32,c=i.sum32_5,h=o.ft_1,u=n.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(f,u),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=s(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],u=this.h[2],f=this.h[3],d=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),g=c(s(n,5),h(p,o,u,f),d,r[i],l[p]);d=f,f=u,u=s(o,30),o=n,n=g}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,r){"use strict";var i=r(72),n=r(191);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(t,e,r){"use strict";var i=r(72),n=r(192);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(t,e,r){"use strict";var i=r(72),n=r(99),o=i.rotl32,s=i.sum32,a=i.sum32_3,c=i.sum32_4,h=n.BlockHash;function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(u,h),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],h=this.h[3],u=this.h[4],b=r,m=i,v=n,E=h,w=u,O=0;O<80;O++){var S=s(o(c(r,l(O,i,n,h),t[p[O]+e],f(O)),y[O]),u);r=u,u=h,h=o(n,10),n=i,i=S,S=s(o(c(b,l(79-O,m,v,E),t[g[O]+e],d(O)),_[O]),w),b=w,w=E,E=o(v,10),v=m,m=S}S=a(this.h[1],n,E),this.h[1]=a(this.h[2],h,w),this.h[2]=a(this.h[3],u,b),this.h[3]=a(this.h[4],r,m),this.h[4]=a(this.h[0],i,v),this.h[0]=S},u.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){"use strict";var i=r(72),n=r(57);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),n(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,r){"use strict";var i=r(33),n=r(289),o=r(58),s=r(152),a=r(149),c=o.assert,h=r(290),u=r(291);function l(t){if(!(this instanceof l))return new l(t);"string"==typeof t&&(c(s.hasOwnProperty(t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=l,l.prototype.keyPair=function(t){return new h(this,t)},l.prototype.keyFromPrivate=function(t,e){return h.fromPrivate(this,t,e)},l.prototype.keyFromPublic=function(t,e){return h.fromPublic(this,t,e)},l.prototype.genKeyPair=function(t){t||(t={});for(var e=new n({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new i(2));;){var s=new i(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},l.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new i(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),c=t.toArray("be",s),h=new n({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new i(1)),f=0;;f++){var d=o.k?o.k(f):new i(h.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(l)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),y=g.umod(this.n);if(0!==y.cmpn(0)){var _=d.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t));if(0!==(_=_.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(y)?2:0);return o.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),b^=1),new u({r:y,s:_,recoveryParam:b})}}}}}},l.prototype.verify=function(t,e,r,n){t=this._truncateToN(new i(t,16)),r=this.keyFromPublic(r,n);var o=(e=new u(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),h=c.mul(t).umod(this.n),l=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(h,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(h,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(t,e,r,n){c((3&r)===r,"The recovery param is more than two bits"),e=new u(e,n);var o=this.n,s=new i(t),a=e.r,h=e.s,l=1&r,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var d=e.r.invm(o),p=o.sub(s).mul(d).umod(o),g=h.mul(d).umod(o);return this.g.mulAdd(p,a,g)},l.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new u(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch(t){continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},function(t,e,r){"use strict";var i=r(153),n=r(188),o=r(57);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=n.toArray(t.entropy,t.entropyEnc||"hex"),r=n.toArray(t.nonce,t.nonceEnc||"hex"),i=n.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}t.exports=s,s.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=n.toArray(t,e),r=n.toArray(r,i),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,n.encode(s,e)}},function(t,e,r){"use strict";var i=r(33),n=r(58).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?n(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,r){"use strict";var i=r(33),n=r(58),o=n.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function c(t,e){var r=t[e.place++];if(!(128&r))return r;for(var i=15&r,n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s];return e.place=s,n}function h(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=n.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;if(c(t,r)+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=c(t,r),s=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var h=c(t,r);if(t.length!==h+r.place)return!1;var u=t.slice(r.place,h+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new i(s),this.s=new i(u),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=h(e),r=h(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];u(i,e.length),(i=i.concat(e)).push(2),u(i,r.length);var o=i.concat(r),s=[48];return u(s,o.length),s=s.concat(o),n.encode(s,t)}},function(t,e,r){"use strict";var i=r(153),n=r(152),o=r(58),s=o.assert,a=o.parseBytes,c=r(293),h=r(294);function u(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=n[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=u,u.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),i=this.hashInt(r.messagePrefix(),t),n=this.g.mul(i),o=this.encodePoint(n),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),c=i.add(s).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:o})},u.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var i=this.keyFromPublic(r),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(i.pub().mul(n)).eq(o)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof h?t:new h(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),n=o.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return o.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,r){"use strict";var i=r(58),n=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a},function(t,e,r){"use strict";var i=r(33),n=r(58),o=n.assert,s=n.cachedProperty,a=n.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},function(t,e,r){"use strict";var i=r(100);e.certificate=r(305);var n=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=n;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});e.PrivateKey=c;var h=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=h;var u=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=u,e.DSAparam=i.define("DSAparam",function(){this.int()});var l=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=l;var f=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e,r){var i=r(100),n=r(19);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=r(297).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return n(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(module,exports){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var o=Object_keys(r),s=i.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return t&&forEach(Object_keys(e),function(r){t[r]=e[r]}),r},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},function(t,e,r){var i=r(19);function n(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=n,n.prototype.isError=function(t){return t instanceof o},n.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},n.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},n.prototype.enterKey=function(t){return this._reporterState.path.push(t)},n.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},n.prototype.leaveKey=function(t,e,r){var i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},n.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},n.prototype.error=function(t){var e,r=this._reporterState,i=t instanceof o;if(e=i?t:new o(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return i||r.errors.push(e),e},n.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},i(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){var i=r(101).Reporter,n=r(101).EncoderBuffer,o=r(101).DecoderBuffer,s=r(57),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function h(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=h;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){var t=this._baseState,e={};u.forEach(function(r){e[r]=t[r]});var r=new this.constructor(e.parent);return r._baseState=e,r},h.prototype._wrap=function(){var t=this._baseState;c.forEach(function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},h.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){var e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);var i=t[r];e[i]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){h.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){h.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),h.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},h.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},h.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},h.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},h.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},h.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},h.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var i,n=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(s=this._peekTag(t,c,r.any),t.isError(s))return s}else{var h=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(h)}}if(r.obj&&s&&(i=t.enterObject()),s){if(null!==r.explicit){var u=this._decodeTag(t,r.explicit);if(t.isError(u))return u;t=u}var l=t.offset;if(null===r.use&&null===r.choice){if(r.any)h=t.save();var f=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(f))return f;r.any?n=t.raw(h):t=f}if(e&&e.track&&null!==r.tag&&e.track(t.path(),l,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),n=r.any?n:null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),t.isError(n))return n;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var d=new o(n);n=this._getUse(r.contains,t._reporterState.obj)._decode(d,e)}}return r.obj&&s&&(n=t.leaveObject(i)),null===r.key||null===n&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,n),n},h.prototype._decodeGeneric=function(t,e,r){var i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},h.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},h.prototype._decodeChoice=function(t,e){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=t.save(),a=r.choice[o];try{var c=a._decode(t,e);if(t.isError(c))return!1;i={type:o,value:c},n=!0}catch(e){return t.restore(s),!1}return!0},this),n?i:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new n(t,this.reporter)},h.prototype._encode=function(t,e,r){var i=this._baseState;if(null===i.default||i.default!==t){var n=this._encodeValue(t,e,r);if(void 0!==n&&!this._skipDefault(n,e,r))return n}},h.prototype._encodeValue=function(t,e,r){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,e||new i);var o=null;if(this.reporter=e,n.optional&&void 0===t){if(null===n.default)return;t=n.default}var s=null,a=!1;if(n.any)o=this._createEncoderBuffer(t);else if(n.choice)o=this._encodeChoice(t,e);else if(n.contains)s=this._getUse(n.contains,r)._encode(t,e),a=!0;else if(n.children)s=n.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");var i=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var n=r._encode(t[r._baseState.key],e,t);return e.leaveKey(i),n},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return e.error("Too many args for : "+n.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){var i=this._baseState;return this._getUse(i.args[0],t)._encode(r,e)},c))}else null!==n.use?o=this._getUse(n.use,r)._encode(t,e):(s=this._encodePrimitive(n.tag,t),a=!0);if(!n.any&&null===n.choice){var h=null!==n.implicit?n.implicit:n.tag,u=null===n.implicit?"universal":"context";null===h?null===n.use&&e.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(h,a,u,s))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},h.prototype._encodeChoice=function(t,e){var r=this._baseState,i=r.choice[t.type];return i||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(t.value,e)},h.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,r){var i=r(194);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=i._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=i._reverse(e.tag)},function(t,e,r){var i=e;i.der=r(195),i.pem=r(302)},function(t,e,r){var i=r(19),n=r(24).Buffer,o=r(195);function s(t){o.call(this,t),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var r=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1,h=0;h<r.length;h++){var u=r[h].match(s);if(null!==u&&u[2]===i){if(-1!==a){if("END"!==u[1])break;c=h;break}if("BEGIN"!==u[1])break;a=h}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+i);var l=r.slice(a+1,c).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new n(l,"base64");return o.prototype.decode.call(this,f,e)}},function(t,e,r){var i=e;i.der=r(196),i.pem=r(304)},function(t,e,r){var i=r(19),n=r(196);function o(t){n.call(this,t),this.enc="pem"}i(o,n),t.exports=o,o.prototype.encode=function(t,e){for(var r=n.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"],o=0;o<r.length;o+=64)i.push(r.slice(o,o+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},function(t,e,r){"use strict";var i=r(100),n=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(o)}),h=i.define("RDNSequence",function(){this.seqof(c)}),u=i.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),l=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),f=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(u),this.key("validity").use(l),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=p},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,r){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,s=r(112),a=r(147),c=r(21).Buffer;t.exports=function(t,e){var r,h=t.toString(),u=h.match(i);if(u){var l="aes"+u[1],f=c.from(u[2],"hex"),d=c.from(u[3].replace(/[\r\n]/g,""),"base64"),p=s(e,f.slice(0,8),parseInt(u[1],10)).key,g=[],y=a.createDecipheriv(l,p,f);g.push(y.update(d)),g.push(y.final()),r=c.concat(g)}else{var _=h.match(o);r=new c(_[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(n)[1],data:r}}},function(t,e,r){(function(e){var i=r(33),n=r(151).ec,o=r(114),s=r(197);function a(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,r,c,h,u){var l=o(c);if("ec"===l.type){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var i=s[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new n(i),a=r.data.subjectPrivateKey.data;return o.verify(e,t,a)}(t,r,l)}if("dsa"===l.type){if("dsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,s=r.data.q,c=r.data.g,h=r.data.pub_key,u=o.signature.decode(t,"der"),l=u.s,f=u.r;a(l,s),a(f,s);var d=i.mont(n),p=l.invm(s);return 0===c.toRed(d).redPow(new i(e).mul(p).mod(s)).fromRed().mul(h.toRed(d).redPow(f.mul(p).mod(s)).fromRed()).mod(n).mod(s).cmp(f)}(t,r,l)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");r=e.concat([u,r]);for(var f=l.modulus.byteLength(),d=[1],p=0;r.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var g=-1;++g<r.length;)d.push(r[g]);d=new e(d);var y=i.mont(l.modulus);t=(t=new i(t).toRed(y)).redPow(new i(l.publicExponent)),t=new e(t.fromRed().toArray());var _=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(_=1),g=-1;++g<f;)_|=t[g]^d[g];return 0===_}}).call(this,r(24).Buffer)},function(t,e,r){(function(e){var i=r(151),n=r(33);t.exports=function(t){return new s(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function a(t,r,i){Array.isArray(t)||(t=t.toArray());var n=new e(t);if(i&&n.length<i){var o=new e(i-n.length);o.fill(0),n=e.concat([o,n])}return r?n.toString(r):n}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,r,i){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,r){r=r||"utf8",e.isBuffer(t)||(t=new e(t,r));var i=new n(t);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,r(24).Buffer)},function(t,e,r){e.publicEncrypt=r(311),e.privateDecrypt=r(312),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},function(t,e,r){var i=r(114),n=r(87),o=r(96),s=r(198),a=r(199),c=r(33),h=r(200),u=r(150),l=r(21).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var d,p=i(t);if(4===f)d=function(t,e){var r=t.modulus.byteLength(),i=e.length,h=o("sha1").update(l.alloc(0)).digest(),u=h.length,f=2*u;if(i>r-f-2)throw new Error("message too long");var d=l.alloc(r-i-f-2),p=r-u-1,g=n(u),y=a(l.concat([h,d,l.alloc(1,1),e],p),s(g,p)),_=a(g,s(y,u));return new c(l.concat([l.alloc(1),_,y],r))}(p,e);else if(1===f)d=function(t,e,r){var i,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");i=r?l.alloc(s-o-3,255):function(t){var e,r=l.allocUnsafe(t),i=0,o=n(2*t),s=0;for(;i<t;)s===o.length&&(o=n(2*t),s=0),(e=o[s++])&&(r[i++]=e);return r}(s-o-3);return new c(l.concat([l.from([0,r?1:2]),i,l.alloc(1),e],s))}(p,e,r);else{if(3!==f)throw new Error("unknown padding");if((d=new c(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?u(d,p):h(d,p)}},function(t,e,r){var i=r(114),n=r(198),o=r(199),s=r(33),a=r(150),c=r(96),h=r(200),u=r(21).Buffer;t.exports=function(t,e,r){var l;l=t.padding?t.padding:r?1:4;var f,d=i(t),p=d.modulus.byteLength();if(e.length>p||new s(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?h(new s(e),d):a(e,d);var g=u.alloc(p-f.length);if(f=u.concat([g,f],p),4===l)return function(t,e){var r=t.modulus.byteLength(),i=c("sha1").update(u.alloc(0)).digest(),s=i.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),h=e.slice(s+1),l=o(a,n(h,s)),f=o(h,n(l,r-s-1));if(function(t,e){t=u.from(t),e=u.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));var n=-1;for(;++n<i;)r+=t[n]^e[n];return r}(i,f.slice(0,s)))throw new Error("decryption error");var d=s;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===l)return function(t,e,r){var i=e.slice(0,2),n=2,o=0;for(;0!==e[n++];)if(n>=e.length){o++;break}var s=e.slice(2,n-1);("0002"!==i.toString("hex")&&!r||"0001"!==i.toString("hex")&&r)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(n)}(0,f,r);if(3===l)return f;throw new Error("unknown padding")}},function(t,e,r){"use strict";(function(t,i){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(21),s=r(87),a=o.Buffer,c=o.kMaxLength,h=t.crypto||t.msCrypto,u=Math.pow(2,32)-1;function l(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function f(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>c)throw new RangeError("buffer too small")}function d(t,e,r,n){if(i.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return h.getRandomValues(a),n?void i.nextTick(function(){n(null,t)}):t}if(!n)return s(r).copy(t,e),t;s(r,function(r,i){if(r)return n(r);i.copy(t,e),n(null,t)})}h&&h.getRandomValues||!i.browser?(e.randomFill=function(e,r,i,n){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)n=r,r=0,i=e.length;else if("function"==typeof i)n=i,i=e.length-r;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return l(r,e.length),f(i,r,e.length),d(e,r,i,n)},e.randomFillSync=function(e,r,i){void 0===r&&(r=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(r,e.length),void 0===i&&(i=e.length-r);return f(i,r,e.length),d(e,r,i)}):(e.randomFill=n,e.randomFillSync=n)}).call(this,r(65),r(56))},function(t,e,r){(function(t){function r(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return(n?"/":"")+(e=r(i(e.split("/"),function(t){return!!t}),!n).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===n(t,-1);return(t=r(i(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=i(t.split("/")),o=i(r.split("/")),s=Math.min(n.length,o.length),a=s,c=0;c<s;c++)if(n[c]!==o[c]){a=c;break}var h=[];for(c=a;c<n.length;c++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,n=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!n){i=o;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,i=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){r=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(r,i)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,i=-1,n=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(n=!1,i=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){r=s+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===r+1?"":t.slice(e,i)};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(56))},function(t,e,r){"use strict";(function(e){const i=r(201),n={mismatched:null};t.exports=function(t,e,r){return r={prototype:!0,...r},!!n.isDeepEqual(t,e,r,[])},n.isDeepEqual=function(t,r,o,s){if(t===r)return 0!==t||1/t==1/r;const a=typeof t;if(a!==typeof r)return!1;if("object"!==a||null===t||null===r)return t!=t&&r!=r;const c=n.getSharedType(t,r,!!o.prototype);switch(c){case i.buffer:return e.prototype.equals.call(t,r);case i.promise:return t===r;case i.regex:return t.toString()===r.toString();case n.mismatched:return!1}for(let e=s.length-1;e>=0;--e)if(s[e].isSame(t,r))return!0;s.push(new n.SeenEntry(t,r));try{return!!n.isDeepEqualObj(c,t,r,o,s)}finally{s.pop()}},n.getSharedType=function(t,e,r){if(r)return Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?n.mismatched:i.getInternalProto(t);const o=i.getInternalProto(t);return o!==i.getInternalProto(e)?n.mismatched:o},n.valueOf=function(t){const e=t.valueOf;if(void 0===e)return t;try{return e.call(t)}catch(t){return t}},n.hasOwnEnumerableProperty=function(t,e){return Object.prototype.propertyIsEnumerable.call(t,e)},n.isSetSimpleEqual=function(t,e){for(const r of t)if(!e.has(r))return!1;return!0},n.isDeepEqualObj=function(t,e,r,o,s){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:h}=n,{keys:u,getOwnPropertySymbols:l}=Object;if(t===i.array){if(!o.part){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!a(e[t],r[t],o,s))return!1;return!0}for(let t=0;t<e.length;++t){const i=e[t];for(let t=0;t<r.length;++t)if(a(i,r[t],o,s))return!0}}else if(t===i.set){if(e.size!==r.size)return!1;if(!n.isSetSimpleEqual(e,r)){const t=new Set(r);for(const r of e){if(t.delete(r))continue;let e=!1;for(const i of t)if(a(r,i,o,s)){t.delete(i),e=!0;break}if(!e)return!1}}}else if(t===i.map){if(e.size!==r.size)return!1;for(const[t,i]of e){if(void 0===i&&!r.has(t))return!1;if(!a(i,r.get(t),o,s))return!1}}else if(t===i.error&&(e.name!==r.name||e.message!==r.message))return!1;const f=c(e),d=c(r);if((e!==f||r!==d)&&!a(f,d,o,s))return!1;const p=u(e);if(!o.part&&p.length!==u(r).length)return!1;for(let t=0;t<p.length;++t){const i=p[t];if(!h(r,i))return!1;if(!a(e[i],r[i],o,s))return!1}if(o.symbols){const t=l(e),i=new Set(l(r));for(let n=0;n<t.length;++n){const c=t[n];if(h(e,c)){if(!h(r,c))return!1;if(!a(e[c],r[c],o,s))return!1}else if(h(r,c))return!1;i.delete(c)}for(const t of i)if(h(r,t))return!1}return!0},n.SeenEntry=class{constructor(t,e){this.obj=t,this.ref=e}isSame(t,e){return this.obj===t&&this.ref===e}}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";(function(t){const r={};e.escapeHtml=function(t){if(!t)return"";let e="";for(let i=0;i<t.length;++i){const n=t.charCodeAt(i);r.isSafe(n)?e+=t[i]:e+=r.escapeHtmlChar(n)}return e},e.escapeJson=function(t){if(!t)return"";let e;return t.replace(/[<>&\u2028\u2029]/g,t=>60===(e=t.charCodeAt(0))?"\\u003c":62===e?"\\u003e":38===e?"\\u0026":8232===e?"\\u2028":"\\u2029")},r.escapeHtmlChar=function(e){const i=r.namedHtml[e];return void 0!==i?i:e>=256?"&#"+e+";":`&#x${t.from(String.fromCharCode(e),"ascii").toString("hex")};`},r.isSafe=function(t){return void 0!==r.safeCharCodes[t]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const t={};for(let e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(this,r(24).Buffer)},function(t,e,r){"use strict";const i={symbols:new Map};t.exports=function(t){let e=i.symbols.get(t);return e||(e=Symbol(t),i.symbols.set(t,e),e)}},function(t,e,r){"use strict";const i=r(40),n=r(202);e.concat=function(t,e){if(!e)return t;const r=Object.assign({},t),o=e.language;return Object.assign(r,e),o&&t&&t.language&&(r.language=i.applyToDefaults(t.language,o)),r[n.settingsCache]&&delete r[n.settingsCache],r}},function(t,e,r){"use strict";e.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',hasKnown:'does not contain at least one required match for type "{{!patternLabel}}"',hasUnknown:"does not contain at least one required match",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",oxor:"contains a conflict between optional exclusive peers {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",unsafe:"must be a safe number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",dataUri:"must be a valid dataUri string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"},symbol:{base:"must be a symbol",map:"must be one of {{map}}"}}},function(t,e,r){"use strict";const i=r(163);e.options=i.object({abortEarly:i.boolean(),convert:i.boolean(),allowUnknown:i.boolean(),skipFunctions:i.boolean(),stripUnknown:[i.boolean(),i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects")],language:i.object(),presence:i.string().only("required","optional","forbidden","ignore"),context:i.object(),noDefaults:i.boolean(),escapeHtml:i.boolean()}).strict()},function(t,e,r){"use strict";const i=r(40),n=r(66),o={};o.Lazy=class extends n{constructor(){super(),this._type="lazy",this._flags.once=!0,this._cache=null}_init(t,e){return this.set(t,e)}_base(t,e,r){let i;if(this._cache)i=this._cache;else{const o={value:t},s=this._flags.lazy;if(!s)return o.errors=this.createError("lazy.base",null,e,r),o;if(!((i=s())instanceof n))return o.errors=this.createError("lazy.schema",{schema:i},e,r),o;this._flags.once&&(this._cache=i)}return i._validate(t,e,r)}set(t,e){if(i.assert("function"==typeof t,"You must provide a function as first argument"),i.assert(void 0===e||e&&"object"==typeof e&&!Array.isArray(e),"Options must be an object"),e){const t=Object.keys(e).filter(t=>!["once"].includes(t));i.assert(0===t.length,`Options contain unknown keys: ${t}`),i.assert(void 0===e.once||"boolean"==typeof e.once,'Option "once" must be a boolean')}const r=this.clone();return r._flags.lazy=t,e&&e.once!==r._flags.once&&(r._flags.once=e.once),r}},t.exports=new o.Lazy},function(t,e,r){"use strict";const i=r(40),n=r(66),o=r(102),s=r(73),a=r(155),c={fastSplice:function(t,e){let r=e;for(;r<t.length;)t[r++]=t[r];--t.length}};c.Array=class extends n{constructor(){super(),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(t,e,r){const i={value:t};if("string"==typeof t&&r.convert&&t.length>1&&("["===t[0]||/^\s*\[/.test(t)))try{i.value=JSON.parse(t)}catch(t){}let n=Array.isArray(i.value);const o=n;if(r.convert&&this._flags.single&&!n&&(i.value=[i.value],n=!0),!n)return i.errors=this.createError("array.base",null,e,r),i;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(i.value=i.value.slice(0)),i.errors=this._checkItems(i.value,o,e,r),i.errors&&o&&r.convert&&this._flags.single)){const t=i.errors;i.value=[i.value],i.errors=this._checkItems(i.value,o,e,r),i.errors&&(i.errors=t,i.value=i.value[0])}return i}_checkItems(t,e,r,i){const n=[];let o;const s=this._inner.requireds.slice(),h=this._inner.ordereds.slice(),u=[...this._inner.inclusions,...s];let l=t.length;for(let f=0;f<l;++f){o=!1;const d=t[f];let p=!1;const g=e?f:r.key,y=e?[...r.path,f]:r.path,_=new a(g,y,r.parent,r.reference);let b;if(!this._flags.sparse&&void 0===d){if(n.push(this.createError("array.sparse",null,{key:r.key,path:_.path,pos:f},i)),i.abortEarly)return n;h.shift();continue}for(let t=0;t<this._inner.exclusions.length;++t)if(!(b=this._inner.exclusions[t]._validate(d,_,{})).errors){if(n.push(this.createError(e?"array.excludes":"array.excludesSingle",{pos:f,value:d},{key:r.key,path:_.path},i)),o=!0,i.abortEarly)return n;h.shift();break}if(o)continue;if(this._inner.ordereds.length){if(h.length>0){const e=h.shift();if((b=e._validate(d,_,i)).errors){if(n.push(this.createError("array.ordered",{pos:f,reason:b.errors,value:d},{key:r.key,path:_.path},i)),i.abortEarly)return n}else if(e._flags.strip)c.fastSplice(t,f),--f,--l;else{if(!this._flags.sparse&&void 0===b.value){if(n.push(this.createError("array.sparse",null,{key:r.key,path:_.path,pos:f},i)),i.abortEarly)return n;continue}t[f]=b.value}continue}if(!this._inner.items.length){if(n.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:r.key,path:_.path},i)),i.abortEarly)return n;continue}}const m=[];let v=s.length;for(let e=0;e<v;++e)if(!(b=m[e]=s[e]._validate(d,_,i)).errors){if(t[f]=b.value,p=!0,c.fastSplice(s,e),--e,--v,!this._flags.sparse&&void 0===b.value&&(n.push(this.createError("array.sparse",null,{key:r.key,path:_.path,pos:f},i)),i.abortEarly))return n;break}if(p)continue;const E=i.stripUnknown&&!!i.stripUnknown.arrays||!1;v=u.length;for(let a=0;a<v;++a){const h=u[a],g=s.indexOf(h);if(-1!==g)b=m[g];else if(!(b=h._validate(d,_,i)).errors){h._flags.strip?(c.fastSplice(t,f),--f,--l):this._flags.sparse||void 0!==b.value?t[f]=b.value:(n.push(this.createError("array.sparse",null,{key:r.key,path:_.path,pos:f},i)),o=!0),p=!0;break}if(1===v){if(E){c.fastSplice(t,f),--f,--l,p=!0;break}if(n.push(this.createError(e?"array.includesOne":"array.includesOneSingle",{pos:f,reason:b.errors,value:d},{key:r.key,path:_.path},i)),o=!0,i.abortEarly)return n;break}}if(!o&&(this._inner.inclusions.length&&!p)){if(E){c.fastSplice(t,f),--f,--l;continue}if(n.push(this.createError(e?"array.includes":"array.includesSingle",{pos:f,value:d},{key:r.key,path:_.path},i)),i.abortEarly)return n}}return s.length&&this._fillMissedErrors(n,s,r,i),h.length&&this._fillOrderedErrors(n,h,r,i),n.length?n:null}describe(){const t=super.describe();if(this._inner.ordereds.length){t.orderedItems=[];for(let e=0;e<this._inner.ordereds.length;++e)t.orderedItems.push(this._inner.ordereds[e].describe())}if(this._inner.items.length){t.items=[];for(let e=0;e<this._inner.items.length;++e)t.items.push(this._inner.items[e].describe())}if(t.rules)for(let e=0;e<t.rules.length;++e){const r=t.rules[e];"has"===r.name&&(r.arg=r.arg.describe())}return t}items(...t){const e=this.clone();return i.flatten(t).forEach((t,r)=>{try{t=o.schema(this._currentJoi,t)}catch(t){throw t.hasOwnProperty("path")?t.path=r+"."+t.path:t.path=r,t.message=`${t.message}(${t.path})`,t}e._inner.items.push(t),"required"===t._flags.presence?e._inner.requireds.push(t):"forbidden"===t._flags.presence?e._inner.exclusions.push(t.optional()):e._inner.inclusions.push(t)}),e}ordered(...t){const e=this.clone();return i.flatten(t).forEach((t,r)=>{try{t=o.schema(this._currentJoi,t)}catch(t){throw t.hasOwnProperty("path")?t.path=r+"."+t.path:t.path=r,t.message=`${t.message}(${t.path})`,t}e._inner.ordereds.push(t)}),e}min(t){const e=s.isRef(t);return i.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._testUnique("min",t,function(r,i,n){let o;if(e){if(o=t(i.reference||i.parent,n),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t,value:o},i,n)}else o=t;return r.length>=o?r:this.createError("array.min",{limit:t,value:r},i,n)})}max(t){const e=s.isRef(t);return i.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._testUnique("max",t,function(r,i,n){let o;if(e){if(o=t(i.reference||i.parent,n),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},i,n)}else o=t;return r.length<=o?r:this.createError("array.max",{limit:t,value:r},i,n)})}length(t){const e=s.isRef(t);return i.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._testUnique("length",t,function(r,i,n){let o;if(e){if(o=t(i.reference||i.parent,n),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},i,n)}else o=t;return r.length===o?r:this.createError("array.length",{limit:t,value:r},i,n)})}has(t){try{t=o.schema(this._currentJoi,t)}catch(t){throw t.hasOwnProperty("path")&&(t.message=`${t.message}(${t.path})`),t}return this._test("has",t,function(e,r,i){if(e.some((e,n)=>{const o=new a(n,[...r.path,n],r.key,r.reference);return!t._validate(e,o,i).errors}))return e;const n=t._getLabel();return n?this.createError("array.hasKnown",{patternLabel:n},r,i):this.createError("array.hasUnknown",null,r,i)})}unique(t,e){i.assert(void 0===t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),i.assert(void 0===e||"object"==typeof e,"configs must be an object");const r={ignoreUndefined:e&&e.ignoreUndefined||!1};return"string"==typeof t?r.path=t:"function"==typeof t&&(r.comparator=t),this._test("unique",r,function(t,e,n){const o={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},s=r.comparator||i.deepEqual,c=r.ignoreUndefined;for(let h=0;h<t.length;++h){const u=r.path?i.reach(t[h],r.path):t[h],l=r.comparator?o.custom:o[typeof u];if(l)if(l instanceof Map){const i=l.entries();let o;for(;!(o=i.next()).done;)if(s(o.value[0],u)){const i=new a(e.key,[...e.path,h],e.parent,e.reference),s={pos:h,value:t[h],dupePos:o.value[1],dupeValue:t[o.value[1]]};return r.path&&(s.path=r.path),this.createError("array.unique",s,i,n)}l.set(u,h)}else{if((!c||void 0!==u)&&void 0!==l[u]){const i=new a(e.key,[...e.path,h],e.parent,e.reference),o={pos:h,value:t[h],dupePos:l[u],dupeValue:t[l[u]]};return r.path&&(o.path=r.path),this.createError("array.unique",o,i,n)}l[u]=h}}return t})}sparse(t){const e=void 0===t||!!t;if(this._flags.sparse===e)return this;const r=this.clone();return r._flags.sparse=e,r}single(t){const e=void 0===t||!!t;if(this._flags.single===e)return this;const r=this.clone();return r._flags.single=e,r}_fillMissedErrors(t,e,r,i){const n=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t]._getLabel();r?n.push(r):++o}n.length?o?t.push(this.createError("array.includesRequiredBoth",{knownMisses:n,unknownMisses:o},{key:r.key,path:r.path},i)):t.push(this.createError("array.includesRequiredKnowns",{knownMisses:n},{key:r.key,path:r.path},i)):t.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:o},{key:r.key,path:r.path},i))}_fillOrderedErrors(t,e,r,n){const o=[];for(let t=0;t<e.length;++t){"required"===i.reach(e[t],"_flags.presence")&&o.push(e[t])}o.length&&this._fillMissedErrors(t,o,r,n)}},t.exports=new c.Array},function(t,e,r){"use strict";const i=r(40),n=r(66),o={Set:r(204)};o.Boolean=class extends n{constructor(){super(),this._type="boolean",this._flags.insensitive=!0,this._inner.truthySet=new o.Set,this._inner.falsySet=new o.Set}_base(t,e,r){const i={value:t};if("string"==typeof t&&r.convert){const e=this._flags.insensitive?t.toLowerCase():t;i.value="true"===e||"false"!==e&&t}return"boolean"!=typeof i.value&&(i.value=!!this._inner.truthySet.has(t,null,null,this._flags.insensitive)||!this._inner.falsySet.has(t,null,null,this._flags.insensitive)&&t),i.errors="boolean"==typeof i.value?null:this.createError("boolean.base",{value:t},e,r),i}truthy(...t){const e=this.clone();t=i.flatten(t);for(let r=0;r<t.length;++r){const n=t[r];i.assert(void 0!==n,"Cannot call truthy with undefined"),e._inner.truthySet.add(n)}return e}falsy(...t){const e=this.clone();t=i.flatten(t);for(let r=0;r<t.length;++r){const n=t[r];i.assert(void 0!==n,"Cannot call falsy with undefined"),e._inner.falsySet.add(n)}return e}insensitive(t){const e=void 0===t||!!t;if(this._flags.insensitive===e)return this;const r=this.clone();return r._flags.insensitive=e,r}describe(){const t=super.describe();return t.truthy=[!0,...this._inner.truthySet.values()],t.falsy=[!1,...this._inner.falsySet.values()],t}},t.exports=new o.Boolean},function(t,e,r){"use strict";(function(e){const i=r(40),n=r(66),o={};o.Binary=class extends n{constructor(){super(),this._type="binary"}_base(t,r,i){const n={value:t};if("string"==typeof t&&i.convert)try{n.value=e.from(t,this._flags.encoding)}catch(t){}return n.errors=e.isBuffer(n.value)?null:this.createError("binary.base",null,r,i),n}encoding(t){if(i.assert(e.isEncoding(t),"Invalid encoding:",t),this._flags.encoding===t)return this;const r=this.clone();return r._flags.encoding=t,r}min(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,function(e,r,i){return e.length>=t?e:this.createError("binary.min",{limit:t,value:e},r,i)})}max(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,function(e,r,i){return e.length<=t?e:this.createError("binary.max",{limit:t,value:e},r,i)})}length(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,function(e,r,i){return e.length===t?e:this.createError("binary.length",{limit:t,value:e},r,i)})}},t.exports=new o.Binary}).call(this,r(24).Buffer)},function(t,e,r){"use strict";const i=r(40),n=r(207),o=r(73),s={};s.Func=class extends n.constructor{constructor(){super(),this._flags.func=!0}arity(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("arity",t,function(e,r,i){return e.length===t?e:this.createError("function.arity",{n:t},r,i)})}minArity(t){return i.assert(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this._test("minArity",t,function(e,r,i){return e.length>=t?e:this.createError("function.minArity",{n:t},r,i)})}maxArity(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("maxArity",t,function(e,r,i){return e.length<=t?e:this.createError("function.maxArity",{n:t},r,i)})}ref(){return this._test("ref",null,function(t,e,r){return o.isRef(t)?t:this.createError("function.ref",{value:t},e,r)})}class(){return this._test("class",null,function(t,e,r){return/^\s*class\s/.test(t.toString())?t:this.createError("function.class",{value:t},e,r)})}},t.exports=new s.Func},function(t,e,r){"use strict";const i=r(327),n={};t.exports=class{constructor(){this._items=[],this.nodes=[]}add(t,e){const r=[].concat((e=e||{}).before||[]),n=[].concat(e.after||[]),o=e.group||"?",s=e.sort||0;i.assert(!r.includes(o),`Item cannot come before itself: ${o}`),i.assert(!r.includes("?"),"Item cannot come before unassociated items"),i.assert(!n.includes(o),`Item cannot come after itself: ${o}`),i.assert(!n.includes("?"),"Item cannot come after unassociated items"),[].concat(t).forEach((t,e)=>{const i={seq:this._items.length,sort:s,before:r,after:n,group:o,node:t};this._items.push(i)});const a=this._sort();return i.assert(!a,"item","?"!==o?`added into group ${o}`:"","created a dependencies error"),this.nodes}merge(t){t=[].concat(t);for(let e=0;e<t.length;++e){const r=t[e];if(r)for(let t=0;t<r._items.length;++t){const e=Object.assign({},r._items[t]);this._items.push(e)}}this._items.sort(n.mergeSort);for(let t=0;t<this._items.length;++t)this._items[t].seq=t;const e=this._sort();return i.assert(!e,"merge created a dependencies error"),this.nodes}_sort(){const t={},e=Object.create(null),r=Object.create(null);for(let i=0;i<this._items.length;++i){const n=this._items[i],o=n.seq,s=n.group;r[s]=r[s]||[],r[s].push(o),t[o]=n.before;const a=n.after;for(let t=0;t<a.length;++t)e[a[t]]=(e[a[t]]||[]).concat(o)}let i=Object.keys(t);for(let e=0;e<i.length;++e){const n=i[e],o=[],s=Object.keys(t[n]);for(let e=0;e<s.length;++e){const i=t[n][s[e]];r[i]=r[i]||[];for(let t=0;t<r[i].length;++t)o.push(r[i][t])}t[n]=o}const n=Object.keys(e);for(let i=0;i<n.length;++i){const o=n[i];if(r[o])for(let i=0;i<r[o].length;++i){const n=r[o][i];t[n]=t[n].concat(e[o])}}let o;const s={};i=Object.keys(t);for(let e=0;e<i.length;++e){const r=i[e];o=t[r];for(let t=0;t<o.length;++t)s[o[t]]=(s[o[t]]||[]).concat(r)}const a={},c=[];for(let t=0;t<this._items.length;++t){let e=t;if(s[t]){e=null;for(let t=0;t<this._items.length;++t){if(!0===a[t])continue;s[t]||(s[t]=[]);const r=s[t].length;let i=0;for(let e=0;e<r;++e)a[s[t][e]]&&++i;if(i===r){e=t;break}}}null!==e&&(a[e]=!0,c.push(e))}if(c.length!==this._items.length)return new Error("Invalid dependencies");const h={};for(let t=0;t<this._items.length;++t){const e=this._items[t];h[e.seq]=e}const u=[];this._items=c.map(t=>{const e=h[t];return u.push(e.node),e}),this.nodes=u}},n.mergeSort=(t,e)=>t.sort===e.sort?0:t.sort<e.sort?-1:1},function(t,e,r){"use strict";(function(t,i){const n=r(328),o=r(329),s=r(208),a={needsProtoHack:new Set([s.set,s.map,s.weakSet,s.weakMap])};e.deepEqual=n,e.clone=function(r,i={},n=null){if("object"!=typeof r||null===r)return r;let o=e.clone,c=n;if(i.shallow){if(!0!==i.shallow)return a.cloneWithShallow(r,i);o=t=>t}else{const t=(c=c||new Map).get(r);if(t)return t}const h=s.getInternalProto(r);let u;switch(h){case s.buffer:return t.from(r);case s.date:return new Date(r.getTime());case s.regex:return new RegExp(r);case s.array:u=[];break;default:if(!1!==i.prototype){const t=Object.getPrototypeOf(r);if(t&&t.isImmutable)return r;a.needsProtoHack.has(h)?(u=new t.constructor,t!==h&&Object.setPrototypeOf(u,t)):u=Object.create(t)}else u=a.needsProtoHack.has(h)?new h.constructor:{}}if(c&&c.set(r,u),h===s.set)for(const t of r)u.add(o(t,i,c));else if(h===s.map)for(const[t,e]of r)u.set(t,o(e,i,c));const l=a.keys(r,i);for(let t=0;t<l.length;++t){const e=l[t];if(h===s.array&&"length"===e)continue;const n=Object.getOwnPropertyDescriptor(r,e);n&&(n.get||n.set)?Object.defineProperty(u,e,n):Object.defineProperty(u,e,{enumerable:!n||n.enumerable,writable:!0,configurable:!0,value:o(r[e],i,c)})}return h===s.array&&(u.length=r.length),u},a.keys=function(t,e={}){return!1!==e.symbols?Reflect.ownKeys(t):Object.getOwnPropertyNames(t)},a.cloneWithShallow=function(t,r){const i=r.shallow;(r=Object.assign({},r)).shallow=!1;const n=a.store(t,i),o=e.clone(t,r);return a.restore(o,t,n),o},a.store=function(t,r){const i=new Map;for(let n=0;n<r.length;++n){const o=r[n],s=e.reach(t,o);"object"!=typeof s&&"function"!=typeof s||(i.set(o,s),a.reachSet(t,o,void 0))}return i},a.restore=function(t,e,r){for(const[i,n]of r)a.reachSet(t,i,n),a.reachSet(e,i,n)},a.reachSet=function(t,e,r){const i=Array.isArray(e)?e:e.split(".");let n=t;for(let t=0;t<i.length;++t){const e=i[t];t+1===i.length&&(n[e]=r),n=n[e]}},e.merge=function(r,i,n){if(e.assert(r&&"object"==typeof r,"Invalid target value: must be an object"),e.assert(null==i||"object"==typeof i,"Invalid source value: must be null, undefined, or an object"),!i)return r;if(n=Object.assign({nullOverride:!0,mergeArrays:!0},n),Array.isArray(i)){e.assert(Array.isArray(r),"Cannot merge array onto an object"),n.mergeArrays||(r.length=0);for(let t=0;t<i.length;++t)r.push(e.clone(i[t],{symbols:n.symbols}));return r}const o=a.keys(i,n);for(let s=0;s<o.length;++s){const a=o[s];if("__proto__"===a||!Object.prototype.propertyIsEnumerable.call(i,a))continue;const c=i[a];c&&"object"==typeof c?!r[a]||"object"!=typeof r[a]||Array.isArray(r[a])!==Array.isArray(c)||c instanceof Date||t.isBuffer(c)||c instanceof RegExp?r[a]=e.clone(c,{symbols:n.symbols}):e.merge(r[a],c,n):null!=c?r[a]=c:n.nullOverride&&(r[a]=c)}return r},e.applyToDefaults=function(t,r,i={}){if(e.assert(t&&"object"==typeof t,"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"==typeof r,"Invalid source value: must be true, falsy or an object"),e.assert("object"==typeof i,"Invalid options: must be an object"),!r)return null;if(i.shallow)return a.applyToDefaultsWithShallow(t,r,i);const n=e.clone(t);if(!0===r)return n;const o=void 0!==i.nullOverride&&i.nullOverride;return e.merge(n,r,{nullOverride:o,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(t,r,i){const n=i.shallow;e.assert(Array.isArray(n),"Invalid keys"),(i=Object.assign({},i)).shallow=!1;const o=e.clone(t,{shallow:n});if(!0===r)return o;const s=a.store(r,n);return e.merge(o,r,{mergeArrays:!1,nullOverride:!1}),a.restore(o,r,s),o},e.intersect=function(t,e,r={}){if(!t||!e)return r.first?null:[];const i=[],n=Array.isArray(t)?new Set(t):t,o=new Set;for(const t of e)if(a.has(n,t)&&!o.has(t)){if(r.first)return t;i.push(t),o.add(t)}return r.first?null:i},a.has=function(t,e){return"function"==typeof t.has?t.has(e):void 0!==t[e]},e.contain=function(t,r,i={}){let n,o,s=null;if("object"!=typeof t||"object"!=typeof r||Array.isArray(t)||Array.isArray(r))r=[].concat(r);else{s=r;const t=Object.getOwnPropertySymbols(r).filter(Object.prototype.propertyIsEnumerable.bind(r));r=[...Object.keys(r),...t]}if(e.assert("string"==typeof t||"object"==typeof t,"Reference must be string or an object"),e.assert(r.length,"Values array cannot be empty"),i.deep){n=e.deepEqual;const t=void 0!==i.only,r=void 0!==i.part;o={prototype:t?i.only:!!r&&!i.part,part:t?!i.only:!!r&&i.part}}else n=(t,e)=>t===e;let c=!1;const h=new Array(r.length);for(let t=0;t<h.length;++t)h[t]=0;if("string"==typeof t){let i="(";for(let t=0;t<r.length;++t){const n=r[t];e.assert("string"==typeof n,"Cannot compare string reference to non-string value"),i+=(t?"|":"")+e.escapeRegex(n)}const n=new RegExp(i+")","g");c=!!t.replace(n,(t,e)=>{const i=r.indexOf(e);return++h[i],""})}else if(Array.isArray(t)){const e=!(!i.only||!i.once);if(e&&t.length!==r.length)return!1;for(let i=0;i<t.length;++i){let s=!1;for(let a=0;a<r.length&&!1===s;++a)e&&0!==h[a]||(s=n(r[a],t[i],o)&&a);!1!==s?++h[s]:c=!0}}else{const e=a.keys(t,i);for(let i=0;i<e.length;++i){const a=e[i],u=r.indexOf(a);if(-1!==u){if(s&&!n(s[a],t[a],o))return!1;++h[u]}else c=!0}}if(i.only&&(c||!i.once))return!c;let u=!1;for(let t=0;t<h.length;++t)if(u=u||!!h[t],i.once&&h[t]>1||!i.part&&!h[t])return!1;return u},e.flatten=function(t,r){const i=r||[];for(let r=0;r<t.length;++r)Array.isArray(t[r])?e.flatten(t[r],i):i.push(t[r]);return i},e.reach=function(t,r,i){if(!1===r||null==r)return t;"string"==typeof(i=i||{})&&(i={separator:i});const n=Array.isArray(r);e.assert(!n||!i.separator,"Separator option no valid for array-based chain");const o=n?r:r.split(i.separator||".");let s=t;for(let t=0;t<o.length;++t){let n=o[t];const c=i.iterables&&a.iterables(s);if(Array.isArray(s)||"set"===c){const t=Number(n);Number.isInteger(t)&&(n=t<0?s.length+t:t)}if(!s||"function"==typeof s&&!1===i.functions||!c&&void 0===s[n]){e.assert(!i.strict||t+1===o.length,"Missing segment",n,"in reach path ",r),e.assert("object"==typeof s||!0===i.functions||"function"!=typeof s,"Invalid segment",n,"in reach path ",r),s=i.default;break}s=c?"set"===c?[...s][n]:s.get(n):s[n]}return s},a.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0},e.reachTemplate=function(t,r,i){return r.replace(/{([^}]+)}/g,(r,n)=>{const o=e.reach(t,n,i);return null==o?"":o})},e.assert=function(t,...r){if(!t){if(1===r.length&&r[0]instanceof Error)throw r[0];throw new e.Error(r)}},e.Error=class extends Error{constructor(t){super(t.filter(t=>""!==t).map(t=>"string"==typeof t?t:t instanceof Error?t.message:e.stringify(t)).join(" ")||"Unknown error"),Error.captureStackTrace(this,e.assert)}},e.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=e.Bench.now()}elapsed(){return e.Bench.now()-this.ts}static now(){const t=i.hrtime();return 1e3*t[0]+t[1]/1e6}},e.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},e.escapeHtml=function(t){return o.escapeHtml(t)},e.escapeJson=function(t){return o.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;let e=!1;const r=function(...r){e||(e=!0,t(...r))};return r._hoekOnce=!0,r},e.ignore=function(){},e.stringify=function(...t){try{return JSON.stringify.apply(null,t)}catch(t){return"[Cannot display object: "+t.message+"]"}},e.wait=function(t){return new Promise(e=>setTimeout(e,t))},e.block=function(){return new Promise(e.ignore)}}).call(this,r(24).Buffer,r(56))},function(t,e,r){"use strict";(function(e){const i=r(208),n={mismatched:null};t.exports=function(t,e,r){return r=Object.assign({prototype:!0},r),!!n.isDeepEqual(t,e,r,[])},n.isDeepEqual=function(t,r,o,s){if(t===r)return 0!==t||1/t==1/r;const a=typeof t;if(a!==typeof r)return!1;if(null===t||null===r)return!1;if("function"===a){if(!o.deepFunction||t.toString()!==r.toString())return!1}else if("object"!==a)return t!=t&&r!=r;const c=n.getSharedType(t,r,!!o.prototype);switch(c){case i.buffer:return e.prototype.equals.call(t,r);case i.promise:return t===r;case i.regex:return t.toString()===r.toString();case n.mismatched:return!1}for(let e=s.length-1;e>=0;--e)if(s[e].isSame(t,r))return!0;s.push(new n.SeenEntry(t,r));try{return!!n.isDeepEqualObj(c,t,r,o,s)}finally{s.pop()}},n.getSharedType=function(t,e,r){if(r)return Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?n.mismatched:i.getInternalProto(t);const o=i.getInternalProto(t);return o!==i.getInternalProto(e)?n.mismatched:o},n.valueOf=function(t){const e=t.valueOf;if(void 0===e)return t;try{return e.call(t)}catch(t){return t}},n.hasOwnEnumerableProperty=function(t,e){return Object.prototype.propertyIsEnumerable.call(t,e)},n.isSetSimpleEqual=function(t,e){for(const r of t)if(!e.has(r))return!1;return!0},n.isDeepEqualObj=function(t,e,r,o,s){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:h}=n,{keys:u,getOwnPropertySymbols:l}=Object;if(t===i.array){if(!o.part){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!a(e[t],r[t],o,s))return!1;return!0}for(let t=0;t<e.length;++t){const i=e[t];for(let t=0;t<r.length;++t)if(a(i,r[t],o,s))return!0}}else if(t===i.set){if(e.size!==r.size)return!1;if(!n.isSetSimpleEqual(e,r)){const t=new Set(r);for(const r of e){if(t.delete(r))continue;let e=!1;for(const i of t)if(a(r,i,o,s)){t.delete(i),e=!0;break}if(!e)return!1}}}else if(t===i.map){if(e.size!==r.size)return!1;for(const[t,i]of e){if(void 0===i&&!r.has(t))return!1;if(!a(i,r.get(t),o,s))return!1}}else if(t===i.error&&(e.name!==r.name||e.message!==r.message))return!1;const f=c(e),d=c(r);if((e!==f||r!==d)&&!a(f,d,o,s))return!1;const p=u(e);if(!o.part&&p.length!==u(r).length)return!1;for(let t=0;t<p.length;++t){const i=p[t];if(!h(r,i))return!1;if((!o.skip||!o.skip.includes(i))&&!a(e[i],r[i],o,s))return!1}if(!1!==o.symbols){const t=l(e),i=new Set(l(r));for(let n=0;n<t.length;++n){const c=t[n];if(h(e,c)){if(!h(r,c))return!1;if(!(o.skip&&o.skip.includes(c)||a(e[c],r[c],o,s)))return!1}else if(h(r,c))return!1;i.delete(c)}for(const t of i)if(h(r,t))return!1}return!0},n.SeenEntry=class{constructor(t,e){this.obj=t,this.ref=e}isSame(t,e){return this.obj===t&&this.ref===e}}}).call(this,r(24).Buffer)},function(t,e,r){"use strict";(function(t){const r={};e.escapeHtml=function(t){if(!t)return"";let e="";for(let i=0;i<t.length;++i){const n=t.charCodeAt(i);r.isSafe(n)?e+=t[i]:e+=r.escapeHtmlChar(n)}return e},e.escapeJson=function(t){if(!t)return"";let e;return t.replace(/[<>&\u2028\u2029]/g,t=>60===(e=t.charCodeAt(0))?"\\u003c":62===e?"\\u003e":38===e?"\\u0026":8232===e?"\\u2028":"\\u2029")},r.escapeHtmlChar=function(e){const i=r.namedHtml[e];return void 0!==i?i:e>=256?"&#"+e+";":`&#x${t.from(String.fromCharCode(e),"ascii").toString("hex")};`},r.isSafe=function(t){return void 0!==r.safeCharCodes[t]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const t={};for(let e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(this,r(24).Buffer)},function(t,e,r){"use strict";const i=r(40),n=r(66),o=r(73),s={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,normalizeExponent:t=>t.replace(/\.?0+e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2"),normalizeDecimal:t=>((t=t.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),t)};s.Number=class extends n{constructor(){super(),this._type="number",this._flags.unsafe=!1,this._invalids.add(1/0),this._invalids.add(-1/0)}_base(t,e,r){const i={errors:null,value:t};if("string"==typeof t&&r.convert){const n=t.match(/^\s*[+-]?\d+(?:\.\d+)?(?:e([+-]?\d+))?\s*$/i);if(n&&(t=t.trim(),i.value=parseFloat(t),!this._flags.unsafe))if(t.includes("e")){if(s.normalizeExponent(`${i.value/Math.pow(10,n[1])}e${n[1]}`)!==s.normalizeExponent(t))return i.errors=this.createError("number.unsafe",{value:t},e,r),i}else if(i.value.toString()!==s.normalizeDecimal(t))return i.errors=this.createError("number.unsafe",{value:t},e,r),i}const n="number"==typeof i.value&&!isNaN(i.value);if(r.convert&&"precision"in this._flags&&n){const t=Math.pow(10,this._flags.precision);i.value=Math.round(i.value*t)/t}return n?!this._flags.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(i.errors=this.createError("number.unsafe",{value:t},e,r)):i.errors=this.createError("number.base",{value:t},e,r),i}multiple(t){const e=o.isRef(t);return e||(i.assert("number"==typeof t&&isFinite(t),"multiple must be a number"),i.assert(t>0,"multiple must be greater than 0")),this._test("multiple",t,function(r,i,n){const o=e?t(i.reference||i.parent,n):t;return!e||"number"==typeof o&&isFinite(o)?r%o==0?r:this.createError("number.multiple",{multiple:t,value:r},i,n):this.createError("number.ref",{ref:t.key},i,n)})}integer(){return this._test("integer",void 0,function(t,e,r){return Math.trunc(t)-t==0?t:this.createError("number.integer",{value:t},e,r)})}unsafe(t=!0){if(i.assert("boolean"==typeof t,"enabled must be a boolean"),this._flags.unsafe===t)return this;const e=this.clone();return e._flags.unsafe=t,e}negative(){return this._test("negative",void 0,function(t,e,r){return t<0?t:this.createError("number.negative",{value:t},e,r)})}positive(){return this._test("positive",void 0,function(t,e,r){return t>0?t:this.createError("number.positive",{value:t},e,r)})}precision(t){i.assert(Number.isSafeInteger(t),"limit must be an integer"),i.assert(!("precision"in this._flags),"precision already set");const e=this._test("precision",t,function(e,r,i){const n=e.toString().match(s.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=t?e:this.createError("number.precision",{limit:t,value:e},r,i)});return e._flags.precision=t,e}port(){return this._test("port",void 0,function(t,e,r){return!Number.isSafeInteger(t)||t<0||t>65535?this.createError("number.port",{value:t},e,r):t})}},s.compare=function(t,e){return function(r){const n=o.isRef(r),s="number"==typeof r&&!isNaN(r);return i.assert(s||n,"limit must be a number or reference"),this._test(t,r,function(i,o,s){let a;if(n){if("number"!=typeof(a=r(o.reference||o.parent,s))||isNaN(a))return this.createError("number.ref",{ref:r.key},o,s)}else a=r;return e(i,a)?i:this.createError("number."+t,{limit:a,value:i},o,s)})}},s.Number.prototype.min=s.compare("min",(t,e)=>t>=e),s.Number.prototype.max=s.compare("max",(t,e)=>t<=e),s.Number.prototype.greater=s.compare("greater",(t,e)=>t>e),s.Number.prototype.less=s.compare("less",(t,e)=>t<e),t.exports=new s.Number},function(t,e,r){"use strict";(function(e){const i=r(332),n=r(333),o=r(40),s=r(66),a=r(73),c=r(206),h=r(337),u=r(338),l={uriRegex:h.createUriRegex(),ipRegex:u.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};l.String=class extends s{constructor(){super(),this._type="string",this._invalids.add("")}_base(t,e,r){if("string"==typeof t&&r.convert){if(this._flags.normalize&&(t=t.normalize(this._flags.normalize)),this._flags.case&&(t="upper"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim()),this._inner.replacements)for(let e=0;e<this._inner.replacements.length;++e){const r=this._inner.replacements[e];t=t.replace(r.pattern,r.replacement)}if(this._flags.truncate)for(let e=0;e<this._tests.length;++e){const r=this._tests[e];if("max"===r.name){t=t.slice(0,r.arg);break}}this._flags.byteAligned&&t.length%2!=0&&(t=`0${t}`)}return{value:t,errors:"string"==typeof t?null:this.createError("string.base",{value:t},e,r)}}insensitive(){if(this._flags.insensitive)return this;const t=this.clone();return t._flags.insensitive=!0,t}creditCard(){return this._test("creditCard",void 0,function(t,e,r){let i=t.length,n=0,o=1;for(;i--;){const e=t.charAt(i)*o;n+=e-9*(e>9),o^=3}return n%10==0&&n>0?t:this.createError("string.creditCard",{value:t},e,r)})}regex(t,e){o.assert(t instanceof RegExp,"pattern must be a RegExp"),o.assert(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode");const r={pattern:t};"string"==typeof e?r.name=e:"object"==typeof e&&(r.invert=!!e.invert,e.name&&(r.name=e.name));const i=["string.regex",r.invert?".invert":"",r.name?".name":".base"].join("");return this._test("regex",r,function(t,e,n){return r.pattern.test(t)^r.invert?t:this.createError(i,{name:r.name,pattern:r.pattern,value:t},e,n)})}alphanum(){return this._test("alphanum",void 0,function(t,e,r){return/^[a-zA-Z0-9]+$/.test(t)?t:this.createError("string.alphanum",{value:t},e,r)})}token(){return this._test("token",void 0,function(t,e,r){return/^\w+$/.test(t)?t:this.createError("string.token",{value:t},e,r)})}email(t){if(t){if(o.assert("object"==typeof t,"email options must be an object"),o.assert(void 0===t.checkDNS,"checkDNS option is not supported"),o.assert(void 0===t.errorLevel,"errorLevel option is not supported"),o.assert(void 0===t.minDomainAtoms,"minDomainAtoms option is not supported, use minDomainSegments instead"),o.assert(void 0===t.tldBlacklist,"tldBlacklist option is not supported, use tlds.deny instead"),o.assert(void 0===t.tldWhitelist,"tldWhitelist option is not supported, use tlds.allow instead"),t.tlds&&"object"==typeof t.tlds){o.assert(void 0===t.tlds.allow||!1===t.tlds.allow||!0===t.tlds.allow||Array.isArray(t.tlds.allow)||t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),o.assert(void 0===t.tlds.deny||Array.isArray(t.tlds.deny)||t.tlds.deny instanceof Set,"tlds.deny must be an array or Set");const e=t=>void 0===t||"boolean"==typeof t||t instanceof Set?t:new Set(t);(t=Object.assign({},t)).tlds={allow:e(t.tlds.allow),deny:e(t.tlds.deny)}}o.assert(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer")}return this._test("email",t,function(e,r,i){return n.email.isValid(e,t)?e:this.createError("string.email",{value:e},r,i)})}ip(t={}){let e,r=l.ipRegex;if(o.assert("object"==typeof t,"options must be an object"),t.cidr?(o.assert("string"==typeof t.cidr,"cidr must be a string"),t.cidr=t.cidr.toLowerCase(),o.assert(o.contain(l.cidrPresences,t.cidr),"cidr must be one of "+l.cidrPresences.join(", ")),t.version||"optional"===t.cidr||(r=u.createIpRegex(["ipv4","ipv6","ipvfuture"],t.cidr))):t.cidr="optional",t.version){Array.isArray(t.version)||(t.version=[t.version]),o.assert(t.version.length>=1,"version must have at least 1 version specified"),e=[];for(let r=0;r<t.version.length;++r){let i=t.version[r];o.assert("string"==typeof i,"version at position "+r+" must be a string"),i=i.toLowerCase(),o.assert(u.versions[i],"version at position "+r+" must be one of "+Object.keys(u.versions).join(", ")),e.push(i)}e=Array.from(new Set(e)),r=u.createIpRegex(e,t.cidr)}return this._test("ip",t,function(i,n,o){return r.test(i)?i:e?this.createError("string.ipVersion",{value:i,cidr:t.cidr,version:e},n,o):this.createError("string.ip",{value:i,cidr:t.cidr},n,o)})}uri(t){let e="",r=!1,i=!1,n=!1,s=l.uriRegex;if(t){o.assert("object"==typeof t,"options must be an object");const s=Object.keys(t).filter(t=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets"].includes(t));if(o.assert(0===s.length,`options contain unknown keys: ${s}`),t.scheme){o.assert(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(t.scheme)||(t.scheme=[t.scheme]),o.assert(t.scheme.length>=1,"scheme must have at least 1 scheme specified");for(let r=0;r<t.scheme.length;++r){const i=t.scheme[r];o.assert(i instanceof RegExp||"string"==typeof i,"scheme at position "+r+" must be a RegExp or String"),e+=e?"|":"",i instanceof RegExp?e+=i.source:(o.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(i),"scheme at position "+r+" must be a valid scheme"),e+=o.escapeRegex(i))}}t.allowRelative&&(r=!0),t.relativeOnly&&(i=!0),t.allowQuerySquareBrackets&&(n=!0)}return(e||r||i||n)&&(s=h.createUriRegex(e,r,i,n)),this._test("uri",t,function(t,r,n){return s.test(t)?t:i?this.createError("string.uriRelativeOnly",{value:t},r,n):e?this.createError("string.uriCustomScheme",{scheme:e,value:t},r,n):this.createError("string.uri",{value:t},r,n)})}isoDate(){return this._test("isoDate",void 0,function(t,e,r){if(c._isIsoDate(t)){if(!r.convert)return t;const e=new Date(t);if(!isNaN(e.getTime()))return e.toISOString()}return this.createError("string.isoDate",{value:t},e,r)})}guid(t){let e="";if(t&&t.version){Array.isArray(t.version)||(t.version=[t.version]),o.assert(t.version.length>=1,"version must have at least 1 valid version specified");const r=new Set;for(let i=0;i<t.version.length;++i){let n=t.version[i];o.assert("string"==typeof n,"version at position "+i+" must be a string"),n=n.toLowerCase();const s=l.guidVersions[n];o.assert(s,"version at position "+i+" must be one of "+Object.keys(l.guidVersions).join(", ")),o.assert(!r.has(s),"version at position "+i+" must not be a duplicate."),e+=s,r.add(s)}}const r=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${e||"0-9A-F"}][0-9A-F]{3}\\2?[${e?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this._test("guid",t,function(t,e,i){const n=r.exec(t);return n?l.guidBrackets[n[1]]!==n[n.length-1]?this.createError("string.guid",{value:t},e,i):t:this.createError("string.guid",{value:t},e,i)})}hex(t={}){o.assert("object"==typeof t,"hex options must be an object"),o.assert(void 0===t.byteAligned||"boolean"==typeof t.byteAligned,"byteAligned must be boolean");const e=!0===t.byteAligned,r=/^[a-f0-9]+$/i,i=this._test("hex",r,function(t,i,n){return r.test(t)?e&&t.length%2!=0?this.createError("string.hexAlign",{value:t},i,n):t:this.createError("string.hex",{value:t},i,n)});return e&&(i._flags.byteAligned=!0),i}base64(t={}){o.assert("object"==typeof t,"base64 options must be an object"),o.assert(void 0===t.paddingRequired||"boolean"==typeof t.paddingRequired,"paddingRequired must be boolean");const e=(!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",e,function(t,r,i){return e.test(t)?t:this.createError("string.base64",{value:t},r,i)})}dataUri(t={}){const e=/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,r=(!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("dataUri",e,function(t,i,n){const o=t.match(e);if(o){if(!o[2])return t;if("base64"!==o[2])return t;if(r.test(o[3]))return t}return this.createError("string.dataUri",{value:t},i,n)})}hostname(){const t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(e,r,n){return e.length<=255&&t.test(e)||i.isIPv6(e)?e:this.createError("string.hostname",{value:e},r,n)})}normalize(t="NFC"){o.assert(o.contain(l.normalizationForms,t),"normalization form must be one of "+l.normalizationForms.join(", "));const e=this._test("normalize",t,function(e,r,i){return i.convert||e===e.normalize(t)?e:this.createError("string.normalize",{value:e,form:t},r,i)});return e._flags.normalize=t,e}lowercase(){const t=this._test("lowercase",void 0,function(t,e,r){return r.convert||t===t.toLocaleLowerCase()?t:this.createError("string.lowercase",{value:t},e,r)});return t._flags.case="lower",t}uppercase(){const t=this._test("uppercase",void 0,function(t,e,r){return r.convert||t===t.toLocaleUpperCase()?t:this.createError("string.uppercase",{value:t},e,r)});return t._flags.case="upper",t}trim(t=!0){if(o.assert("boolean"==typeof t,"option must be a boolean"),this._flags.trim&&t||!this._flags.trim&&!t)return this;let e;return t?e=this._test("trim",void 0,function(t,e,r){return r.convert||t===t.trim()?t:this.createError("string.trim",{value:t},e,r)}):(e=this.clone())._tests=e._tests.filter(t=>"trim"!==t.name),e._flags.trim=t,e}replace(t,e){"string"==typeof t&&(t=new RegExp(o.escapeRegex(t),"g")),o.assert(t instanceof RegExp,"pattern must be a RegExp"),o.assert("string"==typeof e,"replacement must be a String");const r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:t,replacement:e}),r}truncate(t){const e=void 0===t||!!t;if(this._flags.truncate===e)return this;const r=this.clone();return r._flags.truncate=e,r}},l.compare=function(t,r){return function(i,n){const s=a.isRef(i);return o.assert(Number.isSafeInteger(i)&&i>=0||s,"limit must be a positive integer or reference"),o.assert(!n||e.isEncoding(n),"Invalid encoding:",n),this._test(t,i,function(e,o,a){let c;if(s){if(c=i(o.reference||o.parent,a),!Number.isSafeInteger(c))return this.createError("string.ref",{ref:i,value:c},o,a)}else c=i;return r(e,c,n)?e:this.createError("string."+t,{limit:c,value:e,encoding:n},o,a)})}},l.String.prototype.min=l.compare("min",(t,r,i)=>{return(i?e.byteLength(t,i):t.length)>=r}),l.String.prototype.max=l.compare("max",(t,r,i)=>{return(i?e.byteLength(t,i):t.length)<=r}),l.String.prototype.length=l.compare("length",(t,r,i)=>{return(i?e.byteLength(t,i):t.length)===r}),l.String.prototype.uuid=l.String.prototype.guid,t.exports=new l.String}).call(this,r(24).Buffer)},function(t,e){},function(t,e,r){"use strict";(function(e){const i=r(334),n=r(335),o=r(336),s={nonAsciiRx:/[^\x00-\x7f]/,minDomainSegments:2,defaultTlds:{allow:o,deny:null}};t.exports={email:{analyze:function(t,e){return s.email(t,e)},isValid:function(t,e){return!s.email(t,e)}},domain:{analyze:function(t,e={}){if(s.options(t,e),!t)return s.error("Domain must be a non-empty string");if(t.length>256)return s.error("Domain too long");if(!!s.nonAsciiRx.test(t)){if(!1===e.allowUnicode)return s.error("Domain contains forbidden Unicode characters");const r=t.normalize("NFC");t=i.toASCII(r)}return s.domain(t,e)},isValid:function(e,r){return!t.exports.domain.analyze(e,r)}}},s.email=function(t,r={}){if(s.options(t,r),!t)return s.error("Address must be a non-empty string");const n=!s.nonAsciiRx.test(t);if(!n){if(!1===r.allowUnicode)return s.error("Address contains forbidden Unicode characters");const e=t.normalize("NFC");t=i.toASCII(e)}const o=t.split("@");if(2!==o.length)return s.error(o.length>2?"Address cannot contain more than one @ character":"Address must contain one @ character");const a=o[0],c=o[1];return a?c?t.length>254?s.error("Address too long"):e.byteLength(a,"utf-8")>64?s.error("Address local part too long"):s.local(a,n)||s.domain(c,r):s.error("Domain cannot be empty"):s.error("Address local part cannot be empty")},s.options=function(t,e){if(e.tlds&&!0!==e.tlds){if("object"!=typeof e.tlds)throw new Error("Invalid options: tlds must be a boolean or an object");if(void 0!==e.tlds.allow&&!0!==e.tlds.allow&&e.tlds.allow instanceof Set==!1)throw new Error("Invalid options: tlds.allow must be a Set object or true");if(e.tlds.deny){if(e.tlds.deny instanceof Set==!1)throw new Error("Invalid options: tlds.deny must be a Set object");if(e.tlds.allow instanceof Set)throw new Error("Invalid options: cannot specify both tlds.allow and tlds.deny lists")}}if("string"!=typeof t)throw new Error("Invalid input: value must be a string")},s.local=function(t,r){const i=t.split(".");for(const t of i){if(!t.length)return s.error("Address local part contains empty dot-separated segment");if(r){if(!n.atextRx.test(t))return s.error("Address local part contains invalid character")}else for(const r of t){const t=e.from(r).toString("binary");if(!n.atomRx.test(t))return s.error("Address local part contains invalid character")}}},s.tldSegmentRx=/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,s.domainSegmentRx=/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,s.domain=function(t,e){const r=e.minDomainSegments||s.minDomainSegments,i=t.split(".");if(i.length<r)return s.error("Domain lacks the minimum required number of segments");const n=s.tlds(e);if(n){const t=i[i.length-1].toLowerCase();if(n.deny&&n.deny.has(t)||n.allow&&!n.allow.has(t))return s.error("Domain uses forbidden TLD")}for(let t=0;t<i.length;++t){const e=i[t];if(!e.length)return s.error("Domain contains empty dot-separated segment");if(e.length>63)return s.error("Domain contains dot-separated segment that is too long");if(t<i.length-1){if(!s.domainSegmentRx.test(e))return s.error("Domain contains invalid character")}else if(!s.tldSegmentRx.test(e))return s.error("Domain contains invalid tld character")}},s.tlds=function(t){return!1===t.tlds?null:t.tlds&&!0!==t.tlds?{allow:!0===t.tlds.allow?null:t.tlds.allow||o,deny:t.tlds.deny||null}:s.defaultTlds},s.error=function(t){return{error:t}}}).call(this,r(24).Buffer)},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,h=36,u=1,l=26,f=38,d=700,p=72,g=128,y="-",_=/^xn--/,b=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=h-u,w=Math.floor,O=String.fromCharCode;function S(t){throw new RangeError(v[t])}function T(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function C(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+T((t=t.replace(m,".")).split("."),e).join(".")}function x(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function R(t){return T(t,function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=O(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var i=0;for(t=r?w(t/d):t>>1,t+=w(t/e);t>E*l>>1;i+=h)t=w(t/E);return w(i+(E+1)*t/(t+f))}function M(t){var e,r,i,n,o,s,a,f,d,_,b,m=[],v=t.length,E=0,O=g,T=p;for((r=t.lastIndexOf(y))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&S("not-basic"),m.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<v;){for(o=E,s=1,a=h;n>=v&&S("invalid-input"),((f=(b=t.charCodeAt(n++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:h)>=h||f>w((c-E)/s))&&S("overflow"),E+=f*s,!(f<(d=a<=T?u:a>=T+l?l:a-T));a+=h)s>w(c/(_=h-d))&&S("overflow"),s*=_;T=A(E-o,e=m.length+1,0==o),w(E/e)>c-O&&S("overflow"),O+=w(E/e),E%=e,m.splice(E++,0,O)}return R(m)}function j(t){var e,r,i,n,o,s,a,f,d,_,b,m,v,E,T,C=[];for(m=(t=x(t)).length,e=g,r=0,o=p,s=0;s<m;++s)(b=t[s])<128&&C.push(O(b));for(i=n=C.length,n&&C.push(y);i<m;){for(a=c,s=0;s<m;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>w((c-r)/(v=i+1))&&S("overflow"),r+=(a-e)*v,e=a,s=0;s<m;++s)if((b=t[s])<e&&++r>c&&S("overflow"),b==e){for(f=r,d=h;!(f<(_=d<=o?u:d>=o+l?l:d-o));d+=h)T=f-_,E=h-_,C.push(O(I(_+T%E,0))),f=w(T/E);C.push(O(I(f,0))),o=A(r,v,i==n),r=0,++i}++r,++e}return C.join("")}a={version:"1.4.1",ucs2:{decode:x,encode:R},decode:M,encode:j,toASCII:function(t){return C(t,function(t){return b.test(t)?"xn--"+j(t):t})},toUnicode:function(t){return C(t,function(t){return _.test(t)?M(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(186)(t),r(65))},function(t,e,r){"use strict";const i={atext:"[\\w!#\\$%&'\\*\\+\\-/=\\?\\^`\\{\\|\\}~]"};e.atextRx=new RegExp(`^${i.atext}+$`),e.atomRx=new RegExp([i.atext,"(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},function(t,e,r){"use strict";const i={tlds:["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFAMILYCOMPANY","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIGO","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNL","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUDAPEST","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CARTIER","CASA","CASE","CASEIH","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CEB","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHRYSLER","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CSC","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DODGE","DOG","DOHA","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUCK","DUNLOP","DUNS","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ESURANCE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EVERBANK","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUJIXEROX","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLADE","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HONEYWELL","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTEL","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISELECT","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","IVECO","JAGUAR","JAVA","JCB","JCP","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LADBROKES","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LANCOME","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIAISON","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LIXIL","LK","LLC","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUPIN","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","METLIFE","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MOBILY","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MOPAR","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MOVISTAR","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NADEX","NAGOYA","NAME","NATIONWIDE","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWHOLLAND","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFF","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","ONYOURSIDE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PIAGET","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","QVC","RACING","RADIO","RAID","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIGHTATHOME","RIL","RIO","RIP","RMIT","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCJOHNSON","SCOR","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SHRIRAM","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPACE","SPORT","SPOT","SPREADBETTING","SR","SRL","SRT","SS","ST","STADA","STAPLES","STAR","STARHUB","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWIFTCOVER","SWISS","SX","SY","SYDNEY","SYMANTEC","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TELEFONICA","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UCONNECT","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VISTAPRINT","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WARMAN","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3OQ18VL8PN36A","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--ESTV75G","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ61U9W7B","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPU716F","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBB9FBPOB","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PBT977C","XN--PGBS0DH","XN--PSSY2U","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"]};t.exports=new Set(i.tlds.map(t=>t.toLowerCase()))},function(t,e,r){"use strict";const i=r(209),n={Uri:{createUriRegex:function(t,e,r,n){let o,s=i.scheme;if(r)o="(?:"+i.relativeRef+")";else{t&&(s="(?:"+t+")");const r="(?:"+s+":"+i.hierPart+")";o=e?"(?:"+r+"|"+i.relativeRef+")":r}return new RegExp("^"+o+"(?:\\?"+(n?i.queryWithSquareBrackets:i.query)+")?(?:#"+i.fragment+")?$")}}};t.exports=n.Uri},function(t,e,r){"use strict";const i=r(209),n={Ip:{cidrs:{ipv4:{required:"\\/(?:"+i.ipv4Cidr+")",optional:"(?:\\/(?:"+i.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+i.ipv6Cidr,optional:"(?:\\/"+i.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+i.ipv6Cidr,optional:"(?:\\/"+i.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:i.IPv4address,ipv6:i.IPv6address,ipvfuture:i.IPvFuture}}};n.Ip.createIpRegex=function(t,e){let r;for(let i=0;i<t.length;++i){const o=t[i];r?r+="|"+n.Ip.versions[o]+n.Ip.cidrs[o][e]:r="^(?:"+n.Ip.versions[o]+n.Ip.cidrs[o][e]}return new RegExp(r+")$")},t.exports=n.Ip},function(t,e,r){"use strict";const i=r(165),n=r(40),o=r(66),s={};s.Map=class extends Map{slice(){return new s.Map(this)}toString(){return i.inspect(this)}},s.Symbol=class extends o{constructor(){super(),this._type="symbol",this._inner.map=new s.Map}_base(t,e,r){if(r.convert){const i=this._inner.map.get(t);if(i&&(t=i),this._flags.allowOnly)return{value:t,errors:"symbol"==typeof t?null:this.createError("symbol.map",{value:t,map:this._inner.map},e,r)}}return{value:t,errors:"symbol"==typeof t?null:this.createError("symbol.base",{value:t},e,r)}}map(t){t&&!t[Symbol.iterator]&&"object"==typeof t&&(t=Object.entries(t)),n.assert(t&&t[Symbol.iterator],"Iterable must be an iterable or object");const e=this.clone(),r=[];for(const i of t){n.assert(i&&i[Symbol.iterator],"Entry must be an iterable");const[t,o]=i;n.assert("object"!=typeof t&&"function"!=typeof t&&"symbol"!=typeof t,"Key must not be an object, function, or Symbol"),n.assert("symbol"==typeof o,"Value must be a Symbol"),e._inner.map.set(t,o),r.push(o)}return e.valid(...r)}describe(){const t=super.describe();return t.map=new Map(this._inner.map),t}},t.exports=new s.Symbol},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(341),n=r(210);function o(t){const{latitude:e,longitude:r}=t;let i=Math.floor((Math.min(r,179)+180)/6)+1;return e>=56&&e<64&&r>=3&&r<12&&(i=32),e>=72&&e<84&&(r>=0&&r<9?i=31:r>=9&&r<21?i=33:r>=21&&r<33?i=35:r>=33&&r<42&&(i=37)),i}function s(t){return t%n.countOfIDSet||n.countOfIDSet}function a(t,e,r){const i=s(e)-1,o=r===n.IDEdge.column?n.IDSetColumnOriginCombination.charAt(i):n.IDSetRowOriginCombination.charAt(i),a=r===n.IDEdge.column?n.IDSetColumnLetterCombination:n.IDSetRowLetterCombination,c=a.indexOf(o),h=a.indexOf(t),u=a.length,l=(h+u-c)%u;return(r===n.IDEdge.column?1e5:0)+1e5*l}e.getUTMGridPoistionsFromGraticule=function(t){const{latitude:e,longitude:r}=t,s=i.degreeToRadian(e),a=i.degreeToRadian(r),c=(o(t)-1)*n.countOfIDSet-180+3,h=i.degreeToRadian(c),u=n.ellipsoidRadius/Math.sqrt(1-n.eccentricitySquared*Math.pow(Math.sin(s),2)),l=Math.pow(Math.tan(s),2),f=n.primeEccentricitySquared*Math.pow(Math.cos(s),2),d=Math.cos(s)*(a-h),p=n.ellipsoidRadius*(s*(1-n.eccentricitySquared/4-3*n.eccentricitySquared*n.eccentricitySquared/64-5*n.eccentricitySquared*n.eccentricitySquared*n.eccentricitySquared/256)-Math.sin(2*s)*(3*n.eccentricitySquared/8+3*n.eccentricitySquared*n.eccentricitySquared/32+45*n.eccentricitySquared*n.eccentricitySquared*n.eccentricitySquared/1024)+Math.sin(4*s)*(15*n.eccentricitySquared*n.eccentricitySquared/256+45*n.eccentricitySquared*n.eccentricitySquared*n.eccentricitySquared/1024)-Math.sin(6*s)*(35*n.eccentricitySquared*n.eccentricitySquared*n.eccentricitySquared/3072)),g=n.UTMCentralMeridanScaleFactor*u*(d+(1-l+f)*Math.pow(d,3)/6+(5-18*l+Math.pow(l,2)+72*f-58*n.primeEccentricitySquared)*Math.pow(d,5)/120)+n.UTMEastingOffset,y=(e<0?n.UTMNorthingOffset:0)+n.UTMCentralMeridanScaleFactor*(p+u*Math.tan(s)*(Math.pow(d,2)/2+(5-l+9*f+4*Math.pow(f,2))*Math.pow(d,4)/24+(61-58*l+Math.pow(l,2)+600*f-330*n.primeEccentricitySquared)*Math.pow(d,6)/720));return{easting:Math.trunc(g),northing:Math.trunc(y)}},e.getUTMZoneFromGraticule=o,e.getUTMLatitudeBandFromGraticule=function(t){const{latitude:e}=t;let r=Math.floor(e- -80)/8;return r=Math.max(r,0),r=Math.min(r,"CDEFGHJKLMNPQRSTUVWX".length-1),"CDEFGHJKLMNPQRSTUVWX"[Math.floor(r)]},e.getGraticuleCoordindateFromUTM=function(t){const{northing:e,easting:r,zone:o,band:s}=t,a=(1-Math.sqrt(1-n.eccentricitySquared))/(1+Math.sqrt(1-n.eccentricitySquared)),c=r-n.UTMEastingOffset,h=e-(s<"N"?n.UTMNorthingOffset:0),u=(o-1)*n.countOfIDSet-180+3,l=h/n.UTMCentralMeridanScaleFactor/(n.ellipsoidRadius*(1-n.eccentricitySquared/4-3*Math.pow(n.eccentricitySquared,2)/64-5*Math.pow(n.eccentricitySquared,3)/256)),f=l+(3*a/2-27*Math.pow(a,3)/32)*Math.sin(2*l)+(21*Math.pow(a,2)/16-55*Math.pow(a,4)/32)*Math.sin(4*l)+151*Math.pow(a,3)/96*Math.sin(6*l),d=n.ellipsoidRadius/Math.sqrt(1-n.eccentricitySquared*Math.pow(Math.sin(f),2)),p=Math.pow(Math.tan(f),2),g=n.primeEccentricitySquared*Math.pow(Math.cos(f),2),y=n.ellipsoidRadius*(1-n.eccentricitySquared)/Math.pow(1-n.eccentricitySquared*Math.pow(Math.sin(f),2),1.5),_=c/(d*n.UTMCentralMeridanScaleFactor),b=f-d*Math.tan(f)/y*(Math.pow(_,2)/2-(5+3*p+10*g-4*Math.pow(g,2)-9*n.primeEccentricitySquared)*Math.pow(_,4)/24+(61+90*p+298*g+45*Math.pow(p,2)-252*n.primeEccentricitySquared-3*Math.pow(g,2))*Math.pow(_,6)/720),m=i.radianToDegree(b),v=(_-(1+2*p+g)*Math.pow(_,3)/6+(5-2*g+28*p-3*Math.pow(g,2)+8*n.primeEccentricitySquared+24*Math.pow(p,2))*Math.pow(_,5)/120)/Math.cos(f);return{latitude:m,longitude:u+i.radianToDegree(v)}},e.getIDEdgeLetter=function(t,e){const{easting:r,northing:i,zone:o}=t,a=e===n.IDEdge.column?n.IDSetColumnLetterCombination:n.IDSetRowLetterCombination,c=(e===n.IDEdge.column?n.countOfIDSetColumnOriginOffsetIntervals:n.countOfIDSetRowOriginOffsetIntervals,e===n.IDEdge.column?Math.floor(r/1e5)-1:Math.floor(i/1e5)%n.countOfIDSetRowOriginOffsetIntervals),h=s(o)-1,u=e===n.IDEdge.column?n.IDSetColumnOriginCombination.charAt(h):n.IDSetRowOriginCombination.charAt(h),l=(a.indexOf(u)+c)%a.length;return a.charAt(l)},e.getUTMEastingOffsetFromIDRow=function(t,e){return a(t,e,n.IDEdge.column)},e.getUTMNorthingOffsetFromIDColumn=function(t,e,r){let i=a(t,e,n.IDEdge.row);return i+=2e6*Math.ceil((function(t){switch(t){case"C":return 11e5;case"D":return 2e6;case"E":return 28e5;case"F":return 37e5;case"G":return 46e5;case"H":return 55e5;case"J":return 64e5;case"K":return 73e5;case"L":return 82e5;case"M":return 91e5;case"N":return 0;case"P":return 8e5;case"Q":return 17e5;case"R":return 26e5;case"S":return 35e5;case"T":return 44e5;case"U":return 53e5;case"V":return 62e5;case"W":return 7e6;case"X":return 79e5;default:return 0}}(r)-i)/2e6)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.degreeToRadian=function(t){return t*(Math.PI/180)},e.radianToDegree=function(t){return t/Math.PI*180}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDColumnCombination="ABCDEFGHJKLMNPQRSTUVWXYZ",e.IDRowCombination="ABCDEFGHJKLMNPQRSTUV",e.bandCombination="CDEFGHJKLMNPQRSTUVWX"},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(353)),o=r(156);e.enableGridGraticuleOnMap=function(t){new n.default({strokeStyle:new o.Stroke({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),showLabels:!0}).setMap(t)}},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(159)),o=r(8);e.initialView=new n.default({center:o.fromLonLat([0,0]),zoom:2,extent:o.get("EPSG:3857").getExtent()})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(121);e.dragRotateZoomnInteraction=new i.DragRotateAndZoom},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(136)),o=r(162),s=r(109),a=r(347);e.mousePositionControl=new n.default({projection:"EPSG:4326"}),e.addMouseMGRSPosition=function(){var t="";try{t=o.getMGRSFromGraticule(s.mouseGraticule)}catch(e){t=e.message}document.getElementById("mgrs-mouse-position").innerHTML=t,document.getElementById("graticule-mouse-position-latitude").innerHTML="Latitude:&nbsp;&nbsp;&nbsp;&nbsp;".concat(a.trunc(s.mouseGraticule.latitude,3)),document.getElementById("graticule-mouse-position-longitude").innerHTML="Longitude: ".concat(a.trunc(s.mouseGraticule.longitude,3))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trunc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.toString(),i=r.slice(0,0===e?r.indexOf(".")-1:r.indexOf(".")+1+e);return Number(i)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(115),n=r(160);e.overviewControl=new i.OverviewMap({collapsed:!1,layers:[n.baseMapOSM]})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(115);e.scaleLineControl=new i.ScaleLine},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(115);e.fullscreenControl=new i.FullScreen},function(t,e,r){"use strict";document.addEventListener("DOMContentLoaded",function(){var t=new Date;console.log("page loaded",t);var e=setTimeout(function(){clearTimeout(e),function(t){var e=1,r=setInterval(function(){e<=.1&&(clearInterval(r),t.style.display="none"),t.style.opacity=e,t.style.filter="alpha(opacity="+100*e+")",e-=.1},20)}(document.getElementsByClassName("mgrs-map-page-loader-wrapper")[0])},1e3)})},function(t,e,r){"use strict";r.r(e);var i=r(49),n=r(69),o="preload",s="useInterimTilesOnError",a=r(11),c=function(t){function e(e){var r=e||{},n=Object(a.a)({},r);delete n.preload,delete n.useInterimTilesOnError,t.call(this,n),this.setPreload(void 0!==r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=i.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e}(n.a);c.prototype.getSource;e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(12),n=r(1),o=r(0),s=r(23),a=r(64),c=r(41),h=r(5),u=r(8);function l(t,e,r){for(var i,n,o,s,a,c,u=[],l=t(0),f=t(1),d=e(l),p=e(f),g=[f,l],y=[p,d],_=[1,0],b={},m=1e5;--m>0&&_.length>0;)o=_.pop(),l=g.pop(),d=y.pop(),(c=o.toString())in b||(u.push(d[0],d[1]),b[c]=!0),s=_.pop(),f=g.pop(),p=y.pop(),n=e(i=t(a=(o+s)/2)),Object(h.g)(n[0],n[1],d[0],d[1],p[0],p[1])<r?(u.push(p[0],p[1]),b[c=s.toString()]=!0):(_.push(s,a,a,o),y.push(p,n,n,d),g.push(f,i,i,l));return u}var f=r(44),d=r(70),p=r(71),g=r(105),y=new p.a({color:"rgba(0,0,0,0.2)"}),_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],b=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:y,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=null==e.lonLabelFormatter?i.d.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=null==e.latLabelFormatter?i.d.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=null==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=null==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new g.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new d.a({color:"rgba(0,0,0,1)"}),stroke:new p.a({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new g.a({font:"12px Calibri,sans-serif",textAlign:"end",fill:new d.a({color:"rgba(0,0,0,1)"}),stroke:new p.a({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:_,this.setMap(void 0!==e.map?e.map:null)};b.prototype.addMeridian_=function(t,e,r,i,n,s){var a=this.getMeridian_(t,e,r,i,s);if(Object(o.F)(a.getExtent(),n)){if(this.meridiansLabels_){var c=this.getMeridianPoint_(a,n,s);this.meridiansLabels_[s]={geom:c,text:this.lonLabelFormatter_(t)}}this.meridians_[s++]=a}return s},b.prototype.getMeridianPoint_=function(t,e,r){var i,n=t.getFlatCoordinates(),o=Math.max(e[1],n[1]),s=Math.min(e[3],n[n.length-1]),a=Object(h.a)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,s),u=[n[0],a];return r in this.meridiansLabels_?(i=this.meridiansLabels_[r].geom).setCoordinates(u):i=new c.a(u),i},b.prototype.addParallel_=function(t,e,r,i,n,s){var a=this.getParallel_(t,e,r,i,s);if(Object(o.F)(a.getExtent(),n)){if(this.parallelsLabels_){var c=this.getParallelPoint_(a,n,s);this.parallelsLabels_[s]={geom:c,text:this.latLabelFormatter_(t)}}this.parallels_[s++]=a}return s},b.prototype.getParallelPoint_=function(t,e,r){var i,n=t.getFlatCoordinates(),o=Math.max(e[0],n[0]),s=Math.min(e[2],n[n.length-2]),a=[Object(h.a)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,s),n[1]];return r in this.parallelsLabels_?(i=this.parallelsLabels_[r].geom).setCoordinates(a):i=new c.a(a),i},b.prototype.createGraticule_=function(t,e,r,i){var n=this.getInterval_(r);if(-1==n)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,s,a,c,l=this.toLonLatTransform_(e),f=l[0],d=l[1],p=this.maxLines_,g=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],y=(g=Object(u.transformExtent)(g,this.projection_,"EPSG:4326"))[3],_=g[2],b=g[1],m=g[0];for(f=Math.floor(f/n)*n,c=Object(h.a)(f,this.minLon_,this.maxLon_),s=this.addMeridian_(c,b,y,i,t,0),o=0;c!=this.minLon_&&o++<p;)c=Math.max(c-n,this.minLon_),s=this.addMeridian_(c,b,y,i,t,s);for(c=Object(h.a)(f,this.minLon_,this.maxLon_),o=0;c!=this.maxLon_&&o++<p;)c=Math.min(c+n,this.maxLon_),s=this.addMeridian_(c,b,y,i,t,s);for(this.meridians_.length=s,this.meridiansLabels_&&(this.meridiansLabels_.length=s),d=Math.floor(d/n)*n,a=Object(h.a)(d,this.minLat_,this.maxLat_),s=this.addParallel_(a,m,_,i,t,0),o=0;a!=this.minLat_&&o++<p;)a=Math.max(a-n,this.minLat_),s=this.addParallel_(a,m,_,i,t,s);for(a=Object(h.a)(d,this.minLat_,this.maxLat_),o=0;a!=this.maxLat_&&o++<p;)a=Math.min(a+n,this.maxLat_),s=this.addParallel_(a,m,_,i,t,s);this.parallels_.length=s,this.parallelsLabels_&&(this.parallelsLabels_.length=s)},b.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],i=-1,n=Math.pow(this.targetSize_*t,2),o=[],s=[],a=0,c=this.intervals_.length;a<c;++a){var h=this.intervals_[a]/2;if(o[0]=e-h,o[1]=r-h,s[0]=e+h,s[1]=r+h,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(s,s),Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)<=n)break;i=this.intervals_[a]}return i},b.prototype.getMap=function(){return this.map_},b.prototype.getMeridian_=function(t,e,r,i,n){var o=function(t,e,r,i,n){var o=Object(u.get)("EPSG:4326");return l(function(i){return[t,e+(r-e)*i]},Object(u.getTransform)(o,i),n)}(t,e,r,this.projection_,i),c=this.meridians_[n];return c?(c.setFlatCoordinates(s.a.XY,o),c.changed()):c=this.meridians_[n]=new a.a(o,s.a.XY),c},b.prototype.getMeridians=function(){return this.meridians_},b.prototype.getParallel_=function(t,e,r,i,n){var o=function(t,e,r,i,n){var o=Object(u.get)("EPSG:4326");return l(function(i){return[e+(r-e)*i,t]},Object(u.getTransform)(o,i),n)}(t,e,r,this.projection_,i),c=this.parallels_[n];return c?(c.setFlatCoordinates(s.a.XY,o),c.changed()):c=new a.a(o,s.a.XY),c},b.prototype.getParallels=function(){return this.parallels_},b.prototype.handlePostCompose_=function(t){var e,r,i,n,o=t.vectorContext,s=t.frameState,a=s.extent,c=s.viewState,h=c.center,l=c.projection,f=c.resolution,d=s.pixelRatio,p=f*f/(4*d*d);for((!this.projection_||!Object(u.equivalent)(this.projection_,l))&&this.updateProjectionInfo_(l),this.createGraticule_(a,h,f,p),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,r=this.meridians_.length;e<r;++e)i=this.meridians_[e],o.drawGeometry(i);for(e=0,r=this.parallels_.length;e<r;++e)i=this.parallels_[e],o.drawGeometry(i);if(this.meridiansLabels_)for(e=0,r=this.meridiansLabels_.length;e<r;++e)n=this.meridiansLabels_[e],this.lonLabelStyle_.setText(n.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(n.geom);if(this.parallelsLabels_)for(e=0,r=this.parallelsLabels_.length;e<r;++e)n=this.parallelsLabels_[e],this.latLabelStyle_.setText(n.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(n.geom)},b.prototype.updateProjectionInfo_=function(t){var e=Object(u.get)("EPSG:4326"),r=t.getWorldExtent(),i=Object(u.transformExtent)(r,e,t);this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=Object(u.getTransform)(e,t),this.toLonLatTransform_=Object(u.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(o.x)(t.getExtent())),this.projection_=t},b.prototype.setMap=function(t){this.map_&&(Object(n.e)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=Object(n.a)(t,f.a.POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};e.default=b}]);